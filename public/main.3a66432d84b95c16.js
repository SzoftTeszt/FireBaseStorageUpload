"use strict";(self.webpackChunkFirebaseStorage=self.webpackChunkFirebaseStorage||[]).push([[179],{2011:(ht,Te,k)=>{k.d(Te,{Dh:()=>we,GT:()=>oe,cc:()=>Ie,hO:()=>Ge,on:()=>$,pX:()=>re,xv:()=>ge});var l=k(4650),J=k(9260),P=k(4976);ht=k.hmd(ht);const le=["ngOnDestroy"],re=(Ne,Me,Ue,Oe={})=>new Proxy(Ne,{get:(me,De)=>Ue.runOutsideAngular(()=>{var We;if(Ne[De])return!(null===(We=Oe?.spy)||void 0===We)&&We.get&&Oe.spy.get(De,Ne[De]),Ne[De];if(le.indexOf(De)>-1)return()=>{};const Pe=Me.toPromise().then(nt=>{const se=nt&&nt[De];return"function"==typeof se?se.bind(nt):se&&se.then?se.then(_t=>Ue.run(()=>_t)):Ue.run(()=>se)});return new Proxy(()=>{},{get:(nt,se)=>Pe[se],apply:(nt,se,_t)=>Pe.then(Ke=>{var Pt;const st=Ke&&Ke(..._t);return!(null===(Pt=Oe?.spy)||void 0===Pt)&&Pt.apply&&Oe.spy.apply(De,_t,st),st})})})}),oe=(Ne,Me)=>{Me.forEach(Ue=>{Object.getOwnPropertyNames(Ue.prototype||Ue).forEach(Oe=>{Object.defineProperty(Ne.prototype,Oe,Object.getOwnPropertyDescriptor(Ue.prototype||Ue,Oe))})})};class ve{constructor(Me){return Me}}const we=new l.OlP("angularfire2.app.options"),ge=new l.OlP("angularfire2.app.name");function $(Ne,Me,Ue){const me="object"==typeof Ue&&Ue||{};me.name=me.name||"string"==typeof Ue&&Ue||"[DEFAULT]";const We=J.Z.apps.filter(Pe=>Pe&&Pe.name===me.name)[0]||Me.runOutsideAngular(()=>J.Z.initializeApp(Ne,me));try{JSON.stringify(Ne)!==JSON.stringify(We.options)&&G("error",`${We.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ve(We)}const G=(Ne,...Me)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Ne](...Me)},Z={provide:ve,useFactory:$,deps:[we,l.R0b,[new l.FiY,ge]]};let Ge=(()=>{class Ne{constructor(Ue){J.Z.registerVersion("angularfire",P.q4.full,"core"),J.Z.registerVersion("angularfire",P.q4.full,"app-compat"),J.Z.registerVersion("angular",l.q4F.full,Ue.toString())}static initializeApp(Ue,Oe){return{ngModule:Ne,providers:[{provide:we,useValue:Ue},{provide:ge,useValue:Oe}]}}}return Ne.\u0275fac=function(Ue){return new(Ue||Ne)(l.LFG(l.Lbi))},Ne.\u0275mod=l.oAB({type:Ne}),Ne.\u0275inj=l.cJS({providers:[Z]}),Ne})();function Ie(Ne,Me,Ue,Oe,me){const[,De,We]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===Ne)||[];if(De)return function Ye(Ne,Me){try{return Ne.toString()===Me.toString()}catch{return Ne===Me}}(me,We)||(fe("error",`${Me} was already initialized on the ${Ue} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:me,was:We})),De;{const Pe=Oe();return globalThis.\u0275AngularfireInstanceCache.push([Ne,Pe,me]),Pe}}const at=!!ht.hot,fe=(Ne,...Me)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Ne](...Me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(ht,Te,k)=>{k.d(Te,{q4:()=>_s,iC:()=>md,fc:()=>ou,HU:()=>Bi,vb:()=>Xr,JM:()=>fd});var l=k(4650),J=k(259),P=k(5861),le=k(6881),re=k(2090),oe=k(4859),ve=k(1877);const we=(w,E)=>E.some(S=>w instanceof S);let ge,$;const Ge=new WeakMap,Ie=new WeakMap,Ye=new WeakMap,at=new WeakMap,fe=new WeakMap;let Ue={get(w,E,S){if(w instanceof IDBTransaction){if("done"===E)return Ie.get(w);if("objectStoreNames"===E)return w.objectStoreNames||Ye.get(w);if("store"===E)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return We(w[E])},set:(w,E,S)=>(w[E]=S,!0),has:(w,E)=>w instanceof IDBTransaction&&("done"===E||"store"===E)||E in w};function De(w){return"function"==typeof w?function me(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Z(){return $||($=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...E){return w.apply(Pe(this),E),We(Ge.get(this))}:function(...E){return We(w.apply(Pe(this),E))}:function(E,...S){const x=w.call(Pe(this),E,...S);return Ye.set(x,E.sort?E.sort():[E]),We(x)}}(w):(w instanceof IDBTransaction&&function Me(w){if(Ie.has(w))return;const E=new Promise((S,x)=>{const j=()=>{w.removeEventListener("complete",q),w.removeEventListener("error",ae),w.removeEventListener("abort",ae)},q=()=>{S(),j()},ae=()=>{x(w.error||new DOMException("AbortError","AbortError")),j()};w.addEventListener("complete",q),w.addEventListener("error",ae),w.addEventListener("abort",ae)});Ie.set(w,E)}(w),we(w,function G(){return ge||(ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Ue):w)}function We(w){if(w instanceof IDBRequest)return function Ne(w){const E=new Promise((S,x)=>{const j=()=>{w.removeEventListener("success",q),w.removeEventListener("error",ae)},q=()=>{S(We(w.result)),j()},ae=()=>{x(w.error),j()};w.addEventListener("success",q),w.addEventListener("error",ae)});return E.then(S=>{S instanceof IDBCursor&&Ge.set(S,w)}).catch(()=>{}),fe.set(E,w),E}(w);if(at.has(w))return at.get(w);const E=De(w);return E!==w&&(at.set(w,E),fe.set(E,w)),E}const Pe=w=>fe.get(w),_t=["get","getKey","getAll","getAllKeys","count"],Ke=["put","add","delete","clear"],Pt=new Map;function st(w,E){if(!(w instanceof IDBDatabase)||E in w||"string"!=typeof E)return;if(Pt.get(E))return Pt.get(E);const S=E.replace(/FromIndex$/,""),x=E!==S,j=Ke.includes(S);if(!(S in(x?IDBIndex:IDBObjectStore).prototype)||!j&&!_t.includes(S))return;const q=function(){var ae=(0,P.Z)(function*(je,...$e){const lt=this.transaction(je,j?"readwrite":"readonly");let It=lt.store;return x&&(It=It.index($e.shift())),(yield Promise.all([It[S](...$e),j&&lt.done]))[0]});return function($e){return ae.apply(this,arguments)}}();return Pt.set(E,q),q}!function Oe(w){Ue=w(Ue)}(w=>({...w,get:(E,S,x)=>st(E,S)||w.get(E,S,x),has:(E,S)=>!!st(E,S)||w.has(E,S)}));const so="@firebase/installations",de="0.6.4",_e=1e4,Ce=`w:${de}`,Se="FIS_v2",Ze="https://firebaseinstallations.googleapis.com/v1",Fe=36e5,ft=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function gt(w){return w instanceof re.ZR&&w.code.includes("request-failed")}function rn({projectId:w}){return`${Ze}/projects/${w}/installations`}function Yt(w){return{token:w.token,requestStatus:2,expiresIn:ne(w.expiresIn),creationTime:Date.now()}}function vn(w,E){return fi.apply(this,arguments)}function fi(){return(fi=(0,P.Z)(function*(w,E){const x=(yield E.json()).error;return ft.create("request-failed",{requestName:w,serverCode:x.code,serverMessage:x.message,serverStatus:x.status})})).apply(this,arguments)}function pi({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function gi(w){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,P.Z)(function*(w){const E=yield w();return E.status>=500&&E.status<600?w():E})).apply(this,arguments)}function ne(w){return Number(w.replace("s","000"))}function X(){return(X=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:E},{fid:S}){const x=rn(w),j=pi(w),q=E.getImmediate({optional:!0});if(q){const lt=yield q.getHeartbeatsHeader();lt&&j.append("x-firebase-client",lt)}const je={method:"POST",headers:j,body:JSON.stringify({fid:S,authVersion:Se,appId:w.appId,sdkVersion:Ce})},$e=yield gi(()=>fetch(x,je));if($e.ok){const lt=yield $e.json();return{fid:lt.fid||S,registrationStatus:2,refreshToken:lt.refreshToken,authToken:Yt(lt.authToken)}}throw yield vn("Create Installation",$e)})).apply(this,arguments)}function Ve(w){return new Promise(E=>{setTimeout(E,w)})}const Xt=/^[cdef][\w-]{21}$/,Lt="";function $t(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const S=function Et(w){return function it(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Xt.test(S)?S:Lt}catch{return Lt}}function Wt(w){return`${w.appName}!${w.appId}`}const et=new Map;function bt(w,E){const S=Wt(w);Rn(S,E),function en(w,E){const S=function Ii(){return!fn&&"BroadcastChannel"in self&&(fn=new BroadcastChannel("[Firebase] FID Change"),fn.onmessage=w=>{Rn(w.data.key,w.data.fid)}),fn}();S&&S.postMessage({key:w,fid:E}),function cn(){0===et.size&&fn&&(fn.close(),fn=null)}()}(S,E)}function Rn(w,E){const S=et.get(w);if(S)for(const x of S)x(E)}let fn=null;const Nr="firebase-installations-database",qt=1,zr="firebase-installations-store";let ln=null;function hr(){return ln||(ln=function nt(w,E,{blocked:S,upgrade:x,blocking:j,terminated:q}={}){const ae=indexedDB.open(w,E),je=We(ae);return x&&ae.addEventListener("upgradeneeded",$e=>{x(We(ae.result),$e.oldVersion,$e.newVersion,We(ae.transaction))}),S&&ae.addEventListener("blocked",()=>S()),je.then($e=>{q&&$e.addEventListener("close",()=>q()),j&&$e.addEventListener("versionchange",()=>j())}).catch(()=>{}),je}(Nr,qt,{upgrade:(w,E)=>{0===E&&w.createObjectStore(zr)}})),ln}function Hn(w,E){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,P.Z)(function*(w,E){const S=Wt(w),j=(yield hr()).transaction(zr,"readwrite"),q=j.objectStore(zr),ae=yield q.get(S);return yield q.put(E,S),yield j.done,(!ae||ae.fid!==E.fid)&&bt(w,E.fid),E})).apply(this,arguments)}function Mr(w){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,P.Z)(function*(w){const E=Wt(w),x=(yield hr()).transaction(zr,"readwrite");yield x.objectStore(zr).delete(E),yield x.done})).apply(this,arguments)}function Or(w,E){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,P.Z)(function*(w,E){const S=Wt(w),j=(yield hr()).transaction(zr,"readwrite"),q=j.objectStore(zr),ae=yield q.get(S),je=E(ae);return void 0===je?yield q.delete(S):yield q.put(je,S),yield j.done,je&&(!ae||ae.fid!==je.fid)&&bt(w,je.fid),je})).apply(this,arguments)}function V(w){return U.apply(this,arguments)}function U(){return U=(0,P.Z)(function*(w){let E;const S=yield Or(w.appConfig,x=>{const j=function Y(w){return Nn(w||{fid:$t(),registrationStatus:0})}(x),q=function ye(w,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(ft.create("app-offline"))};const S={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},x=function ee(w,E){return Le.apply(this,arguments)}(w,S);return{installationEntry:S,registrationPromise:x}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:Ct(w)}:{installationEntry:E}}(w,j);return E=q.registrationPromise,q.installationEntry});return S.fid===Lt?{installationEntry:yield E}:{installationEntry:S,registrationPromise:E}}),U.apply(this,arguments)}function Le(){return Le=(0,P.Z)(function*(w,E){try{const S=yield function ce(w,E){return X.apply(this,arguments)}(w,E);return Hn(w.appConfig,S)}catch(S){throw gt(S)&&409===S.customData.serverCode?yield Mr(w.appConfig):yield Hn(w.appConfig,{fid:E.fid,registrationStatus:0}),S}}),Le.apply(this,arguments)}function Ct(w){return tn.apply(this,arguments)}function tn(){return(tn=(0,P.Z)(function*(w){let E=yield zn(w.appConfig);for(;1===E.registrationStatus;)yield Ve(100),E=yield zn(w.appConfig);if(0===E.registrationStatus){const{installationEntry:S,registrationPromise:x}=yield V(w);return x||S}return E})).apply(this,arguments)}function zn(w){return Or(w,E=>{if(!E)throw ft.create("installation-not-found");return Nn(E)})}function Nn(w){return function dn(w){return 1===w.registrationStatus&&w.registrationTime+_e<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Pi(){return(Pi=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:E},S){const x=function Pr(w,{fid:E}){return`${rn(w)}/${E}/authTokens:generate`}(w,S),j=function Bn(w,{refreshToken:E}){const S=pi(w);return S.append("Authorization",function K(w){return`${Se} ${w}`}(E)),S}(w,S),q=E.getImmediate({optional:!0});if(q){const lt=yield q.getHeartbeatsHeader();lt&&j.append("x-firebase-client",lt)}const je={method:"POST",headers:j,body:JSON.stringify({installation:{sdkVersion:Ce,appId:w.appId}})},$e=yield gi(()=>fetch(x,je));if($e.ok)return Yt(yield $e.json());throw yield vn("Generate Auth Token",$e)})).apply(this,arguments)}function Yr(w){return pa.apply(this,arguments)}function pa(){return pa=(0,P.Z)(function*(w,E=!1){let S;const x=yield Or(w.appConfig,q=>{if(!Ht(q))throw ft.create("not-registered");const ae=q.authToken;if(!E&&function mt(w){return 2===w.requestStatus&&!function on(w){const E=Date.now();return E<w.creationTime||w.creationTime+w.expiresIn<E+Fe}(w)}(ae))return q;if(1===ae.requestStatus)return S=function he(w,E){return ie.apply(this,arguments)}(w,E),q;{if(!navigator.onLine)throw ft.create("app-offline");const je=function nn(w){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:E})}(q);return S=function pt(w,E){return wt.apply(this,arguments)}(w,je),je}});return S?yield S:x.authToken}),pa.apply(this,arguments)}function ie(){return(ie=(0,P.Z)(function*(w,E){let S=yield xe(w.appConfig);for(;1===S.authToken.requestStatus;)yield Ve(100),S=yield xe(w.appConfig);const x=S.authToken;return 0===x.requestStatus?Yr(w,E):x})).apply(this,arguments)}function xe(w){return Or(w,E=>{if(!Ht(E))throw ft.create("not-registered");return function _i(w){return 1===w.requestStatus&&w.requestTime+_e<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function wt(){return wt=(0,P.Z)(function*(w,E){try{const S=yield function Zt(w,E){return Pi.apply(this,arguments)}(w,E),x=Object.assign(Object.assign({},E),{authToken:S});return yield Hn(w.appConfig,x),S}catch(S){if(!gt(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const x=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield Hn(w.appConfig,x)}else yield Mr(w.appConfig);throw S}}),wt.apply(this,arguments)}function Ht(w){return void 0!==w&&2===w.registrationStatus}function bl(){return(bl=(0,P.Z)(function*(w){const E=w,{installationEntry:S,registrationPromise:x}=yield V(E);return x?x.catch(console.error):Yr(E).catch(console.error),S.fid})).apply(this,arguments)}function Os(){return Os=(0,P.Z)(function*(w,E=!1){const S=w;return yield function fr(w){return Qe.apply(this,arguments)}(S),(yield Yr(S,E)).token}),Os.apply(this,arguments)}function Qe(){return(Qe=(0,P.Z)(function*(w){const{registrationPromise:E}=yield V(w);E&&(yield E)})).apply(this,arguments)}function Yn(w){return ft.create("missing-app-config-values",{valueName:w})}const Bt="installations",Zo=w=>{const E=w.getProvider("app").getImmediate(),S=function ga(w){if(!w||!w.options)throw Yn("App Configuration");if(!w.name)throw Yn("App Name");const E=["projectId","apiKey","appId"];for(const S of E)if(!w.options[S])throw Yn(S);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(E);return{app:E,appConfig:S,heartbeatServiceProvider:(0,le._getProvider)(E,"heartbeat"),_delete:()=>Promise.resolve()}},ao=w=>{const E=w.getProvider("app").getImmediate(),S=(0,le._getProvider)(E,Bt).getImmediate();return{getId:()=>function Qn(w){return bl.apply(this,arguments)}(S),getToken:j=>function Dh(w){return Os.apply(this,arguments)}(S,j)}};(function qo(){(0,le._registerComponent)(new oe.wA(Bt,Zo,"PUBLIC")),(0,le._registerComponent)(new oe.wA("installations-internal",ao,"PRIVATE"))})(),(0,le.registerVersion)(so,de),(0,le.registerVersion)(so,de,"esm2017");const Zn="@firebase/remote-config",En=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class co{constructor(E,S,x,j){this.client=E,this.storage=S,this.storageCache=x,this.logger=j}isCachedDataFresh(E,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const x=Date.now()-S,j=x<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${x}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${j}.`),j}fetch(E){var S=this;return(0,P.Z)(function*(){const[x,j]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(j&&S.isCachedDataFresh(E.cacheMaxAgeMillis,x))return j;E.eTag=j&&j.eTag;const q=yield S.client.fetch(E),ae=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===q.status&&ae.push(S.storage.setLastSuccessfulFetchResponse(q)),yield Promise.all(ae),q})()}}function cp(w=navigator){return w.languages&&w.languages[0]||w.language}class Bc{constructor(E,S,x,j,q,ae){this.firebaseInstallations=E,this.sdkVersion=S,this.namespace=x,this.projectId=j,this.apiKey=q,this.appId=ae}fetch(E){var S=this;return(0,P.Z)(function*(){const[x,j]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},$e={sdk_version:S.sdkVersion,app_instance_id:x,app_instance_id_token:j,app_id:S.appId,language_code:cp()},lt={method:"POST",headers:je,body:JSON.stringify($e)},It=fetch(ae,lt),St=new Promise((wr,Dr)=>{E.signal.addEventListener(()=>{const qs=new Error("The operation was aborted.");qs.name="AbortError",Dr(qs)})});let nr;try{yield Promise.race([It,St]),nr=yield It}catch(wr){let Dr="fetch-client-network";throw"AbortError"===wr?.name&&(Dr="fetch-timeout"),En.create(Dr,{originalErrorMessage:wr?.message})}let $n=nr.status;const ys=nr.headers.get("ETag")||void 0;let Wa,wo;if(200===nr.status){let wr;try{wr=yield nr.json()}catch(Dr){throw En.create("fetch-client-parse",{originalErrorMessage:Dr?.message})}Wa=wr.entries,wo=wr.state}if("INSTANCE_STATE_UNSPECIFIED"===wo?$n=500:"NO_CHANGE"===wo?$n=304:("NO_TEMPLATE"===wo||"EMPTY_CONFIG"===wo)&&(Wa={}),304!==$n&&200!==$n)throw En.create("fetch-status",{httpStatus:$n});return{status:$n,eTag:ys,config:Wa}})()}}class dp{constructor(E,S){this.client=E,this.storage=S}fetch(E){var S=this;return(0,P.Z)(function*(){const x=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(E,x)})()}attemptFetch(E,{throttleEndTimeMillis:S,backoffCount:x}){var j=this;return(0,P.Z)(function*(){yield function up(w,E){return new Promise((S,x)=>{const j=Math.max(E-Date.now(),0),q=setTimeout(S,j);w.addEventListener(()=>{clearTimeout(q),x(En.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,S);try{const q=yield j.client.fetch(E);return yield j.storage.deleteThrottleMetadata(),q}catch(q){if(!function Uc(w){if(!(w instanceof re.ZR&&w.customData))return!1;const E=Number(w.customData.httpStatus);return 429===E||500===E||503===E||504===E}(q))throw q;const ae={throttleEndTimeMillis:Date.now()+(0,re.$s)(x),backoffCount:x+1};return yield j.storage.setThrottleMetadata(ae),j.attemptFetch(E,ae)}})()}}class Om{constructor(E,S,x,j,q){this.app=E,this._client=S,this._storageCache=x,this._storage=j,this._logger=q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Cl(w,E){const S=w.target.error||void 0;return En.create(E,{originalErrorMessage:S&&S?.message})}const mr="app_namespace_store";class Pm{constructor(E,S,x,j=function Fs(){return new Promise((w,E)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=x=>{E(Cl(x,"storage-open"))},S.onsuccess=x=>{w(x.target.result)},S.onupgradeneeded=x=>{0===x.oldVersion&&x.target.result.createObjectStore(mr,{keyPath:"compositeKey"})}}catch(S){E(En.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=E,this.appName=S,this.namespace=x,this.openDbPromise=j}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var S=this;return(0,P.Z)(function*(){const x=yield S.openDbPromise;return new Promise((j,q)=>{const je=x.transaction([mr],"readonly").objectStore(mr),$e=S.createCompositeKey(E);try{const lt=je.get($e);lt.onerror=It=>{q(Cl(It,"storage-get"))},lt.onsuccess=It=>{const St=It.target.result;j(St?St.value:void 0)}}catch(lt){q(En.create("storage-get",{originalErrorMessage:lt?.message}))}})})()}set(E,S){var x=this;return(0,P.Z)(function*(){const j=yield x.openDbPromise;return new Promise((q,ae)=>{const $e=j.transaction([mr],"readwrite").objectStore(mr),lt=x.createCompositeKey(E);try{const It=$e.put({compositeKey:lt,value:S});It.onerror=St=>{ae(Cl(St,"storage-set"))},It.onsuccess=()=>{q()}}catch(It){ae(En.create("storage-set",{originalErrorMessage:It?.message}))}})})()}delete(E){var S=this;return(0,P.Z)(function*(){const x=yield S.openDbPromise;return new Promise((j,q)=>{const je=x.transaction([mr],"readwrite").objectStore(mr),$e=S.createCompositeKey(E);try{const lt=je.delete($e);lt.onerror=It=>{q(Cl(It,"storage-delete"))},lt.onsuccess=()=>{j()}}catch(lt){q(En.create("storage-delete",{originalErrorMessage:lt?.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class $u{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,P.Z)(function*(){const S=E.storage.getLastFetchStatus(),x=E.storage.getLastSuccessfulFetchTimestampMillis(),j=E.storage.getActiveConfig(),q=yield S;q&&(E.lastFetchStatus=q);const ae=yield x;ae&&(E.lastSuccessfulFetchTimestampMillis=ae);const je=yield j;je&&(E.activeConfig=je)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function Vc(){return ya.apply(this,arguments)}function ya(){return(ya=(0,P.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function xo(){(0,le._registerComponent)(new oe.wA("remote-config",function w(E,{instanceIdentifier:S}){const x=E.getProvider("app").getImmediate(),j=E.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw En.create("registration-window");if(!(0,re.hl)())throw En.create("indexed-db-unavailable");const{projectId:q,apiKey:ae,appId:je}=x.options;if(!q)throw En.create("registration-project-id");if(!ae)throw En.create("registration-api-key");if(!je)throw En.create("registration-app-id");const $e=new Pm(je,x.name,S=S||"firebase"),lt=new $u($e),It=new ve.Yd(Zn);It.logLevel=ve.in.ERROR;const St=new Bc(j,le.SDK_VERSION,S,q,ae,je),nr=new dp(St,$e),$n=new co(nr,$e,lt,It),ys=new Om(x,$n,lt,$e,It);return function Xi(w){const E=(0,re.m9)(w);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(ys),ys},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Zn,"0.4.4"),(0,le.registerVersion)(Zn,"0.4.4","esm2017")}();const Wu=(w,E)=>E.some(S=>w instanceof S);let Hc,Fo;const Il=new WeakMap,Lo=new WeakMap,zi=new WeakMap,ki=new WeakMap,ba=new WeakMap;let uo={get(w,E,S){if(w instanceof IDBTransaction){if("done"===E)return Lo.get(w);if("objectStoreNames"===E)return w.objectStoreNames||zi.get(w);if("store"===E)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return xi(w[E])},set:(w,E,S)=>(w[E]=S,!0),has:(w,E)=>w instanceof IDBTransaction&&("done"===E||"store"===E)||E in w};function Yu(w){return"function"==typeof w?function zu(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Tl(){return Fo||(Fo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...E){return w.apply(ri(this),E),xi(Il.get(this))}:function(...E){return xi(w.apply(ri(this),E))}:function(E,...S){const x=w.call(ri(this),E,...S);return zi.set(x,E.sort?E.sort():[E]),xi(x)}}(w):(w instanceof IDBTransaction&&function Ls(w){if(Lo.has(w))return;const E=new Promise((S,x)=>{const j=()=>{w.removeEventListener("complete",q),w.removeEventListener("error",ae),w.removeEventListener("abort",ae)},q=()=>{S(),j()},ae=()=>{x(w.error||new DOMException("AbortError","AbortError")),j()};w.addEventListener("complete",q),w.addEventListener("error",ae),w.addEventListener("abort",ae)});Lo.set(w,E)}(w),Wu(w,function Th(){return Hc||(Hc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,uo):w)}function xi(w){if(w instanceof IDBRequest)return function yi(w){const E=new Promise((S,x)=>{const j=()=>{w.removeEventListener("success",q),w.removeEventListener("error",ae)},q=()=>{S(xi(w.result)),j()},ae=()=>{x(w.error),j()};w.addEventListener("success",q),w.addEventListener("error",ae)});return E.then(S=>{S instanceof IDBCursor&&Il.set(S,w)}).catch(()=>{}),ba.set(E,w),E}(w);if(ki.has(w))return ki.get(w);const E=Yu(w);return E!==w&&(ki.set(w,E),ba.set(E,w)),E}const ri=w=>ba.get(w);function Sl(w,E,{blocked:S,upgrade:x,blocking:j,terminated:q}={}){const ae=indexedDB.open(w,E),je=xi(ae);return x&&ae.addEventListener("upgradeneeded",$e=>{x(xi(ae.result),$e.oldVersion,$e.newVersion,xi(ae.transaction))}),S&&ae.addEventListener("blocked",()=>S()),je.then($e=>{q&&$e.addEventListener("close",()=>q()),j&&$e.addEventListener("versionchange",()=>j())}).catch(()=>{}),je}function ho(w,{blocked:E}={}){const S=indexedDB.deleteDatabase(w);return E&&S.addEventListener("blocked",()=>E()),xi(S).then(()=>{})}const Gc=["get","getKey","getAll","getAllKeys","count"],Bo=["put","add","delete","clear"],Bs=new Map;function wa(w,E){if(!(w instanceof IDBDatabase)||E in w||"string"!=typeof E)return;if(Bs.get(E))return Bs.get(E);const S=E.replace(/FromIndex$/,""),x=E!==S,j=Bo.includes(S);if(!(S in(x?IDBIndex:IDBObjectStore).prototype)||!j&&!Gc.includes(S))return;const q=function(){var ae=(0,P.Z)(function*(je,...$e){const lt=this.transaction(je,j?"readwrite":"readonly");let It=lt.store;return x&&(It=It.index($e.shift())),(yield Promise.all([It[S](...$e),j&&lt.done]))[0]});return function($e){return ae.apply(this,arguments)}}();return Bs.set(E,q),q}!function bi(w){uo=w(uo)}(w=>({...w,get:(E,S,x)=>wa(E,S)||w.get(E,S,x),has:(E,S)=>!!wa(E,S)||w.has(E,S)}));const Rt="/firebase-messaging-sw.js",Da="/firebase-cloud-messaging-push-scope",Zu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",qu="https://fcmregistrations.googleapis.com/v1",Al="google.c.a.c_id",Ku="google.c.a.c_l",Rl="google.c.a.ts",hp="google.c.a.e";var pe=(()=>{return(w=pe||(pe={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",pe;var w})();function Ot(w){const E=new Uint8Array(w);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ea(w){const S=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),x=atob(S),j=new Uint8Array(x.length);for(let q=0;q<x.length;++q)j[q]=x.charCodeAt(q);return j}const Ca="fcm_token_details_db",oi=5,Qo="fcm_token_object_Store";function Yi(){return Yi=(0,P.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(q=>q.name).includes(Ca))return null;let E=null;return(yield Sl(Ca,oi,{upgrade:(x=(0,P.Z)(function*(j,q,ae,je){var $e;if(q<2||!j.objectStoreNames.contains(Qo))return;const lt=je.objectStore(Qo),It=yield lt.index("fcmSenderId").get(w);if(yield lt.clear(),It)if(2===q){const St=It;if(!St.auth||!St.p256dh||!St.endpoint)return;E={token:St.fcmToken,createTime:null!==($e=St.createTime)&&void 0!==$e?$e:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:Ot(St.vapidKey)}}}else if(3===q){const St=It;E={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:Ot(St.auth),p256dh:Ot(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:Ot(St.vapidKey)}}}else if(4===q){const St=It;E={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:Ot(St.auth),p256dh:Ot(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:Ot(St.vapidKey)}}}}),function(q,ae,je,$e){return x.apply(this,arguments)})})).close(),yield ho(Ca),yield ho("fcm_vapid_details_db"),yield ho("undefined"),function Qu(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:E}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}(E)?E:null;var x}),Yi.apply(this,arguments)}const Ml="firebase-messaging-database",fp=1,fo="firebase-messaging-store";let Ta=null;function ei(){return Ta||(Ta=Sl(Ml,fp,{upgrade:(w,E)=>{0===E&&w.createObjectStore(fo)}})),Ta}function _r(w){return qr.apply(this,arguments)}function qr(){return qr=(0,P.Z)(function*(w){const E=Ol(w),x=yield(yield ei()).transaction(fo).objectStore(fo).get(E);if(x)return x;{const j=yield function Nl(w){return Yi.apply(this,arguments)}(w.appConfig.senderId);if(j)return yield Xo(w,j),j}}),qr.apply(this,arguments)}function Xo(w,E){return vr.apply(this,arguments)}function vr(){return(vr=(0,P.Z)(function*(w,E){const S=Ol(w),j=(yield ei()).transaction(fo,"readwrite");return yield j.objectStore(fo).put(E,S),yield j.done,E})).apply(this,arguments)}function Ia(){return(Ia=(0,P.Z)(function*(w){const E=Ol(w),x=(yield ei()).transaction(fo,"readwrite");yield x.objectStore(fo).delete(E),yield x.done})).apply(this,arguments)}function Ol({appConfig:w}){return w.appId}const ti=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Us(w,E){return jc.apply(this,arguments)}function jc(){return(jc=(0,P.Z)(function*(w,E){const S=yield $c(w),x=td(E),j={method:"POST",headers:S,body:JSON.stringify(x)};let q;try{q=yield(yield fetch(Sa(w.appConfig),j)).json()}catch(ae){throw ti.create("token-subscribe-failed",{errorInfo:ae?.toString()})}if(q.error)throw ti.create("token-subscribe-failed",{errorInfo:q.error.message});if(!q.token)throw ti.create("token-subscribe-no-token");return q.token})).apply(this,arguments)}function ed(){return(ed=(0,P.Z)(function*(w,E){const S=yield $c(w),x=td(E.subscriptionOptions),j={method:"PATCH",headers:S,body:JSON.stringify(x)};let q;try{q=yield(yield fetch(`${Sa(w.appConfig)}/${E.token}`,j)).json()}catch(ae){throw ti.create("token-update-failed",{errorInfo:ae?.toString()})}if(q.error)throw ti.create("token-update-failed",{errorInfo:q.error.message});if(!q.token)throw ti.create("token-update-no-token");return q.token})).apply(this,arguments)}function kl(w,E){return xl.apply(this,arguments)}function xl(){return(xl=(0,P.Z)(function*(w,E){const x={method:"DELETE",headers:yield $c(w)};try{const q=yield(yield fetch(`${Sa(w.appConfig)}/${E}`,x)).json();if(q.error)throw ti.create("token-unsubscribe-failed",{errorInfo:q.error.message})}catch(j){throw ti.create("token-unsubscribe-failed",{errorInfo:j?.toString()})}})).apply(this,arguments)}function Sa({projectId:w}){return`${qu}/projects/${w}/registrations`}function $c(w){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,P.Z)(function*({appConfig:w,installations:E}){const S=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function td({p256dh:w,auth:E,endpoint:S,vapidKey:x}){const j={web:{endpoint:S,auth:E,p256dh:w}};return x!==Zu&&(j.web.applicationPubKey=x),j}const Fl=6048e5;function Ll(){return Ll=(0,P.Z)(function*(w){const E=yield function Ah(w,E){return nd.apply(this,arguments)}(w.swRegistration,w.vapidKey),S={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:E.endpoint,auth:Ot(E.getKey("auth")),p256dh:Ot(E.getKey("p256dh"))},x=yield _r(w.firebaseDependencies);if(x){if(function gp(w,E){return E.vapidKey===w.vapidKey&&E.endpoint===w.endpoint&&E.auth===w.auth&&E.p256dh===w.p256dh}(x.subscriptionOptions,S))return Date.now()>=x.createTime+Fl?function Mn(w,E){return Bl.apply(this,arguments)}(w,{token:x.token,createTime:Date.now(),subscriptionOptions:S}):x.token;try{yield kl(w.firebaseDependencies,x.token)}catch(j){console.warn(j)}return Sh(w.firebaseDependencies,S)}return Sh(w.firebaseDependencies,S)}),Ll.apply(this,arguments)}function po(){return po=(0,P.Z)(function*(w){const E=yield _r(w.firebaseDependencies);E&&(yield kl(w.firebaseDependencies,E.token),yield function Xu(w){return Ia.apply(this,arguments)}(w.firebaseDependencies));const S=yield w.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),po.apply(this,arguments)}function Bl(){return Bl=(0,P.Z)(function*(w,E){try{const S=yield function Pl(w,E){return ed.apply(this,arguments)}(w.firebaseDependencies,E),x=Object.assign(Object.assign({},E),{token:S,createTime:Date.now()});return yield Xo(w.firebaseDependencies,x),S}catch(S){throw yield function Ai(w){return po.apply(this,arguments)}(w),S}}),Bl.apply(this,arguments)}function Sh(w,E){return es.apply(this,arguments)}function es(){return(es=(0,P.Z)(function*(w,E){const x={token:yield Us(w,E),createTime:Date.now(),subscriptionOptions:E};return yield Xo(w,x),x.token})).apply(this,arguments)}function nd(){return(nd=(0,P.Z)(function*(w,E){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ea(E)})})).apply(this,arguments)}function Ul(w){const E={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Wc(w,E){if(!E.notification)return;w.notification={};const S=E.notification.title;S&&(w.notification.title=S);const x=E.notification.body;x&&(w.notification.body=x);const j=E.notification.image;j&&(w.notification.image=j);const q=E.notification.icon;q&&(w.notification.icon=q)}(E,w),function zc(w,E){E.data&&(w.data=E.data)}(E,w),function id(w,E){var S,x,j,q,ae;if(!(E.fcmOptions||null!==(S=E.notification)&&void 0!==S&&S.click_action))return;w.fcmOptions={};const je=null!==(j=null===(x=E.fcmOptions)||void 0===x?void 0:x.link)&&void 0!==j?j:null===(q=E.notification)||void 0===q?void 0:q.click_action;je&&(w.fcmOptions.link=je);const $e=null===(ae=E.fcmOptions)||void 0===ae?void 0:ae.analytics_label;$e&&(w.fcmOptions.analyticsLabel=$e)}(E,w),E}function Vs(w,E){const S=[];for(let x=0;x<w.length;x++)S.push(w.charAt(x)),x<E.length&&S.push(E.charAt(x));return S.join("")}function go(w){return ti.create("missing-app-config-values",{valueName:w})}Vs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Vs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class mp{constructor(E,S,x){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const j=function Hs(w){if(!w||!w.options)throw go("App Configuration Object");if(!w.name)throw go("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:S}=w;for(const x of E)if(!S[x])throw go(x);return{appName:w.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:j,installations:S,analyticsProvider:x}}_delete(){return Promise.resolve()}}function Rh(w){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,P.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Rt,{scope:Da}),w.swRegistration.update().catch(()=>{})}catch(E){throw ti.create("failed-service-worker-registration",{browserErrorMessage:E?.message})}})).apply(this,arguments)}function Ra(){return(Ra=(0,P.Z)(function*(w,E){if(!E&&!w.swRegistration&&(yield Rh(w)),E||!w.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw ti.create("invalid-sw-registration");w.swRegistration=E}})).apply(this,arguments)}function ns(){return(ns=(0,P.Z)(function*(w,E){E?w.vapidKey=E:w.vapidKey||(w.vapidKey=Zu)})).apply(this,arguments)}function Gs(){return Gs=(0,P.Z)(function*(w,E){if(!navigator)throw ti.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ti.create("permission-blocked");return yield function ts(w,E){return ns.apply(this,arguments)}(w,E?.vapidKey),yield function km(w,E){return Ra.apply(this,arguments)}(w,E?.serviceWorkerRegistration),function Ih(w){return Ll.apply(this,arguments)}(w)}),Gs.apply(this,arguments)}function is(){return(is=(0,P.Z)(function*(w,E,S){const x=function rs(w){switch(w){case pe.NOTIFICATION_CLICKED:return"notification_open";case pe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(E);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(x,{message_id:S[Al],message_name:S[Ku],message_time:S[Rl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function os(){return os=(0,P.Z)(function*(w,E){const S=E.data;if(!S.isFirebaseMessaging)return;w.onMessageHandler&&S.messageType===pe.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Ul(S)):w.onMessageHandler.next(Ul(S)));const x=S.data;(function Yc(w){return"object"==typeof w&&!!w&&Al in w})(x)&&"1"===x[hp]&&(yield function Zc(w,E,S){return is.apply(this,arguments)}(w,S.messageType,x))}),os.apply(this,arguments)}const Uo="@firebase/messaging",ss=w=>{const E=new mp(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function Gl(w,E){return os.apply(this,arguments)}(E,S)),E},jl=w=>{const E=w.getProvider("messaging").getImmediate();return{getToken:x=>function Hl(w,E){return Gs.apply(this,arguments)}(E,x)}};function Nh(){return $l.apply(this,arguments)}function $l(){return($l=(0,P.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Na(){(0,le._registerComponent)(new oe.wA("messaging",ss,"PUBLIC")),(0,le._registerComponent)(new oe.wA("messaging-internal",jl,"PRIVATE")),(0,le.registerVersion)(Uo,"0.12.4"),(0,le.registerVersion)(Uo,"0.12.4","esm2017")}();const _n="analytics",ad="firebase_id",Wl="origin",Kc=6e4,zl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yl="https://www.googletagmanager.com/gtag/js",si=new ve.Yd("@firebase/analytics"),qn=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Jc(w){if(!w.startsWith(Yl)){const E=qn.create("invalid-gtag-resource",{gtagURL:w});return si.warn(E.message),""}return w}function Ma(w){return Promise.all(w.map(E=>E.catch(S=>S)))}function cs(){return(cs=(0,P.Z)(function*(w,E,S,x,j,q){const ae=x[j];try{if(ae)yield E[ae];else{const $e=(yield Ma(S)).find(lt=>lt.measurementId===j);$e&&(yield E[$e.appId])}}catch(je){si.error(je)}w("config",j,q)})).apply(this,arguments)}function Pa(){return(Pa=(0,P.Z)(function*(w,E,S,x,j){try{let q=[];if(j&&j.send_to){let ae=j.send_to;Array.isArray(ae)||(ae=[ae]);const je=yield Ma(S);for(const $e of ae){const lt=je.find(St=>St.measurementId===$e),It=lt&&E[lt.appId];if(!It){q=[];break}q.push(It)}}0===q.length&&(q=Object.values(E)),yield Promise.all(q),w("event",x,j||{})}catch(q){si.error(q)}})).apply(this,arguments)}const ka=30,ds=new class us{constructor(E={},S=1e3){this.throttleMetadata=E,this.intervalMillis=S}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,S){this.throttleMetadata[E]=S}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function Ph(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Jt(){return(Jt=(0,P.Z)(function*(w){var E;const{appId:S,apiKey:x}=w,j={method:"GET",headers:Ph(x)},q=zl.replace("{app-id}",S),ae=yield fetch(q,j);if(200!==ae.status&&304!==ae.status){let je="";try{const $e=yield ae.json();null!==(E=$e.error)&&void 0!==E&&E.message&&(je=$e.error.message)}catch{}throw qn.create("config-fetch-failed",{httpStatus:ae.status,responseMessage:je})}return ae.json()})).apply(this,arguments)}function xa(){return(xa=(0,P.Z)(function*(w,E=ds,S){const{appId:x,apiKey:j,measurementId:q}=w.options;if(!x)throw qn.create("no-app-id");if(!j){if(q)return{measurementId:q,appId:x};throw qn.create("no-api-key")}const ae=E.getThrottleMetadata(x)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new Fm;return setTimeout((0,P.Z)(function*(){je.abort()}),void 0!==S?S:Kc),Xc({appId:x,apiKey:j,measurementId:q},ae,je,E)})).apply(this,arguments)}function Xc(w,E,S){return eu.apply(this,arguments)}function eu(){return eu=(0,P.Z)(function*(w,{throttleEndTimeMillis:E,backoffCount:S},x,j=ds){var q;const{appId:ae,measurementId:je}=w;try{yield function xm(w,E){return new Promise((S,x)=>{const j=Math.max(E-Date.now(),0),q=setTimeout(S,j);w.addEventListener(()=>{clearTimeout(q),x(qn.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(x,E)}catch($e){if(je)return si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${$e?.message}]`),{appId:ae,measurementId:je};throw $e}try{const $e=yield function ld(w){return Jt.apply(this,arguments)}(w);return j.deleteThrottleMetadata(ae),$e}catch($e){const lt=$e;if(!function kh(w){if(!(w instanceof re.ZR&&w.customData))return!1;const E=Number(w.customData.httpStatus);return 429===E||500===E||503===E||504===E}(lt)){if(j.deleteThrottleMetadata(ae),je)return si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${lt?.message}]`),{appId:ae,measurementId:je};throw $e}const It=503===Number(null===(q=lt?.customData)||void 0===q?void 0:q.httpStatus)?(0,re.$s)(S,j.intervalMillis,ka):(0,re.$s)(S,j.intervalMillis),St={throttleEndTimeMillis:Date.now()+It,backoffCount:S+1};return j.setThrottleMetadata(ae,St),si.debug(`Calling attemptFetch again in ${It} millis`),Xc(w,St,x,j)}}),eu.apply(this,arguments)}class Fm{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}let hs,Lh;function xh(){return(xh=(0,P.Z)(function*(w,E,S,x,j){if(j&&j.global)w("event",S,x);else{const q=yield E;w("event",S,Object.assign(Object.assign({},x),{send_to:q}))}})).apply(this,arguments)}function ni(){return(ni=(0,P.Z)(function*(){if(!(0,re.hl)())return si.warn(qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(w){return si.warn(qn.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function jn(){return jn=(0,P.Z)(function*(w,E,S,x,j,q,ae){var je;const $e=function _p(w){return xa.apply(this,arguments)}(w);$e.then($n=>{S[$n.measurementId]=$n.appId,w.options.measurementId&&$n.measurementId!==w.options.measurementId&&si.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${$n.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($n=>si.error($n)),E.push($e);const lt=function Zi(){return ni.apply(this,arguments)}().then($n=>{if($n)return x.getId()}),[It,St]=yield Promise.all([$e,lt]);(function zs(w){const E=window.document.getElementsByTagName("script");for(const S of Object.values(E))if(S.src&&S.src.includes(Yl)&&S.src.includes(w))return S;return null})(q)||function _o(w,E){const S=function Oa(w,E){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(w,E)),S}("firebase-js-sdk-policy",{createScriptURL:Jc}),x=document.createElement("script"),j=`${Yl}?l=${w}&id=${E}`;x.src=S?S?.createScriptURL(j):j,x.async=!0,document.head.appendChild(x)}(q,It.measurementId),Lh&&(j("consent","default",Lh),function nu(w){Lh=w}(void 0)),j("js",new Date);const nr=null!==(je=ae?.config)&&void 0!==je?je:{};return nr[Wl]="firebase",nr.update=!0,null!=St&&(nr[ad]=St),j("config",It.measurementId,nr),hs&&(j("set",hs),function Ql(w){hs=w}(void 0)),It.measurementId}),jn.apply(this,arguments)}class Fi{constructor(E){this.app=E}_delete(){return delete Kt[this.app.options.appId],Promise.resolve()}}let Kt={},dt=[];const La={};let tr,un,vt="dataLayer",Ba="gtag",gn=!1;function ps(w,E,S){!function Ua(){const w=[];if((0,re.ru)()&&w.push("This is a browser extension environment."),(0,re.zI)()||w.push("Cookies are not available."),w.length>0){const E=w.map((x,j)=>`(${j+1}) ${x}`).join(" "),S=qn.create("invalid-analytics-context",{errorInfo:E});si.warn(S.message)}}();const x=w.options.appId;if(!x)throw qn.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw qn.create("no-api-key");si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Kt[x])throw qn.create("already-exists",{id:x});if(!gn){!function Mh(w){let E=[];Array.isArray(window[w])?E=window[w]:window[w]=E}(vt);const{wrappedGtag:q,gtagCore:ae}=function Vo(w,E,S,x,j){let q=function(...ae){window[x].push(arguments)};return window[j]&&"function"==typeof window[j]&&(q=window[j]),window[j]=function Ws(w,E,S,x){function q(){return q=(0,P.Z)(function*(ae,...je){try{if("event"===ae){const[$e,lt]=je;yield function Qc(w,E,S,x,j){return Pa.apply(this,arguments)}(w,E,S,$e,lt)}else if("config"===ae){const[$e,lt]=je;yield function Zl(w,E,S,x,j,q){return cs.apply(this,arguments)}(w,E,S,x,$e,lt)}else if("consent"===ae){const[$e]=je;w("consent","update",$e)}else if("get"===ae){const[$e,lt,It]=je;w("get",$e,lt,It)}else if("set"===ae){const[$e]=je;w("set",$e)}else w(ae,...je)}catch($e){si.error($e)}}),q.apply(this,arguments)}return function j(ae){return q.apply(this,arguments)}}(q,w,E,S),{gtagCore:q,wrappedGtag:window[j]}}(Kt,dt,La,vt,Ba);un=q,tr=ae,gn=!0}return Kt[x]=function Br(w,E,S,x,j,q,ae){return jn.apply(this,arguments)}(w,dt,La,E,tr,vt,S),new Fi(w)}function Xl(){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,P.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const Zs="@firebase/analytics";!function ud(){(0,le._registerComponent)(new oe.wA(_n,(E,{options:S})=>ps(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,le._registerComponent)(new oe.wA("analytics-internal",function w(E){try{const S=E.getProvider(_n).getImmediate();return{logEvent:(x,j,q)=>function yr(w,E,S,x){w=(0,re.m9)(w),function Lm(w,E,S,x,j){return xh.apply(this,arguments)}(un,Kt[w.app.options.appId],E,S,x).catch(j=>si.error(j))}(S,x,j,q)}}catch(S){throw qn.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,le.registerVersion)(Zs,"0.10.0"),(0,le.registerVersion)(Zs,"0.10.0","esm2017")}();var Va=k(4408),ec=k(7565);const hd=new class tc extends ec.v{}(class dd extends Va.o{constructor(E,S){super(E,S),this.scheduler=E,this.work=S}schedule(E,S=0){return S>0?super.schedule(E,S):(this.delay=S,this.state=E,this.scheduler.flush(this),this)}execute(E,S){return S>0||this.closed?super.execute(E,S):this._execute(E,S)}requestAsyncId(E,S,x=0){return null!=x&&x>0||null==x&&this.delay>0?super.requestAsyncId(E,S,x):(E.flush(this),0)}});var nc=k(4986),ms=k(8505),ic=k(5363),Ha=k(9468);const _s=new l.GfV("7.6.1"),br="__angularfire_symbol__analyticsIsSupportedValue",Ga="__angularfire_symbol__analyticsIsSupported",iu="__angularfire_symbol__remoteConfigIsSupportedValue",On="__angularfire_symbol__remoteConfigIsSupported",vs="__angularfire_symbol__messagingIsSupportedValue",ja="__angularfire_symbol__messagingIsSupported";function fd(w,E,S){if(E){if(1===E.length)return E[0];const q=E.filter(ae=>ae.app===S);if(1===q.length)return q[0]}return S.container.getProvider(w).getImmediate({optional:!0})}globalThis[Ga]||(globalThis[Ga]=Xl().then(w=>globalThis[br]=w).catch(()=>globalThis[br]=!1)),globalThis[ja]||(globalThis[ja]=Nh().then(w=>globalThis[vs]=w).catch(()=>globalThis[vs]=!1)),globalThis[On]||(globalThis[On]=Vc().then(w=>globalThis[iu]=w).catch(()=>globalThis[iu]=!1));const Xr=(w,E)=>{const S=E?[E]:(0,J.C6)(),x=[];return S.forEach(j=>{j.container.getProvider(w).instances.forEach(ae=>{x.includes(ae)||x.push(ae)})}),x};function wi(){}class yo{constructor(E,S=hd){this.zone=E,this.delegate=S}now(){return this.delegate.now()}schedule(E,S,x){const j=this.zone;return this.delegate.schedule(function(ae){j.runGuarded(()=>{E.apply(this,[ae])})},S,x)}}class pd{constructor(E){this.zone=E,this.task=null}call(E,S){const x=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wi,{},wi,wi)),S.pipe((0,ms.b)({next:x,complete:x,error:x})).subscribe(E).add(x)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Bi=(()=>{class w{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new yo(Zone.current)),this.insideAngular=S.run(()=>new yo(Zone.current,nc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(S){return new(S||w)(l.LFG(l.R0b))},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function bo(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function ou(w){return w.pipe((0,ic.Q)(bo().outsideAngular))}function md(w){return bo(),function Hh(w){return function(S){return(S=S.lift(new pd(w.ngZone))).pipe((0,Ha.R)(w.outsideAngular),(0,ic.Q)(w.insideAngular))}}(bo())(w)}},2090:(ht,Te,k)=>{k.d(Te,{$s:()=>Mr,BH:()=>De,DV:()=>ne,Dv:()=>Rn,GJ:()=>gi,L:()=>ge,LL:()=>Nt,Pz:()=>me,Sg:()=>We,UG:()=>se,UI:()=>ce,US:()=>oe,Wj:()=>Ii,Wl:()=>Yt,Yr:()=>_e,ZB:()=>Z,ZR:()=>ut,aH:()=>Oe,b$:()=>Pt,cI:()=>rn,dS:()=>Nr,eu:()=>Ze,g5:()=>P,gK:()=>en,gQ:()=>Et,h$:()=>we,hl:()=>Se,hu:()=>J,jU:()=>_t,lb:()=>cn,m9:()=>Wi,ne:()=>Wt,p$:()=>G,pd:()=>$t,r3:()=>Oi,ru:()=>Ke,tV:()=>$,uI:()=>nt,ug:()=>qt,vZ:()=>X,w1:()=>so,w9:()=>Bn,xO:()=>Xt,xb:()=>K,z$:()=>Pe,zI:()=>Fe,zd:()=>Lt});const l={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},J=function(V,U){if(!V)throw P(U)},P=function(V){return new Error("Firebase Database ("+l.SDK_VERSION+") INTERNAL ASSERT FAILED: "+V)},le=function(V){const U=[];let Y=0;for(let ye=0;ye<V.length;ye++){let ee=V.charCodeAt(ye);ee<128?U[Y++]=ee:ee<2048?(U[Y++]=ee>>6|192,U[Y++]=63&ee|128):55296==(64512&ee)&&ye+1<V.length&&56320==(64512&V.charCodeAt(ye+1))?(ee=65536+((1023&ee)<<10)+(1023&V.charCodeAt(++ye)),U[Y++]=ee>>18|240,U[Y++]=ee>>12&63|128,U[Y++]=ee>>6&63|128,U[Y++]=63&ee|128):(U[Y++]=ee>>12|224,U[Y++]=ee>>6&63|128,U[Y++]=63&ee|128)}return U},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,U){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let ee=0;ee<V.length;ee+=3){const Le=V[ee],Ct=ee+1<V.length,tn=Ct?V[ee+1]:0,zn=ee+2<V.length,Nn=zn?V[ee+2]:0;let Pi=(15&tn)<<2|Nn>>6,Pr=63&Nn;zn||(Pr=64,Ct||(Pi=64)),ye.push(Y[Le>>2],Y[(3&Le)<<4|tn>>4],Y[Pi],Y[Pr])}return ye.join("")},encodeString(V,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(V):this.encodeByteArray(le(V),U)},decodeString(V,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(V):function(V){const U=[];let Y=0,ye=0;for(;Y<V.length;){const ee=V[Y++];if(ee<128)U[ye++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Le=V[Y++];U[ye++]=String.fromCharCode((31&ee)<<6|63&Le)}else if(ee>239&&ee<365){const zn=((7&ee)<<18|(63&V[Y++])<<12|(63&V[Y++])<<6|63&V[Y++])-65536;U[ye++]=String.fromCharCode(55296+(zn>>10)),U[ye++]=String.fromCharCode(56320+(1023&zn))}else{const Le=V[Y++],Ct=V[Y++];U[ye++]=String.fromCharCode((15&ee)<<12|(63&Le)<<6|63&Ct)}}return U.join("")}(this.decodeStringToByteArray(V,U))},decodeStringToByteArray(V,U){this.init_();const Y=U?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let ee=0;ee<V.length;){const Le=Y[V.charAt(ee++)],tn=ee<V.length?Y[V.charAt(ee)]:0;++ee;const Nn=ee<V.length?Y[V.charAt(ee)]:64;++ee;const Zt=ee<V.length?Y[V.charAt(ee)]:64;if(++ee,null==Le||null==tn||null==Nn||null==Zt)throw new ve;ye.push(Le<<2|tn>>4),64!==Nn&&(ye.push(tn<<4&240|Nn>>2),64!==Zt&&ye.push(Nn<<6&192|Zt))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const we=function(V){const U=le(V);return oe.encodeByteArray(U,!0)},ge=function(V){return we(V).replace(/\./g,"")},$=function(V){try{return oe.decodeString(V,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function G(V){return Z(void 0,V)}function Z(V,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return U}for(const Y in U)!U.hasOwnProperty(Y)||!Ge(Y)||(V[Y]=Z(V[Y],U[Y]));return V}function Ge(V){return"__proto__"!==V}const Ne=()=>{try{return function Ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=V&&$(V[1]);return U&&JSON.parse(U)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},Oe=()=>{var V;return null===(V=Ne())||void 0===V?void 0:V.config},me=V=>{var U;return null===(U=Ne())||void 0===U?void 0:U[`_${V}`]};class De{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,Y)=>{this.resolve=U,this.reject=Y})}wrapCallback(U){return(Y,ye)=>{Y?this.reject(Y):this.resolve(ye),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(Y):U(Y,ye))}}}function We(V,U){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=U||"demo-project",ee=V.iat||0,Le=V.sub||V.user_id;if(!Le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ct=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:ee,exp:ee+3600,auth_time:ee,sub:Le,user_id:Le,firebase:{sign_in_provider:"custom",identities:{}}},V);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Ct)),""].join(".")}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function se(){var V;const U=null===(V=Ne())||void 0===V?void 0:V.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function _t(){return"object"==typeof self&&self.self===self}function Ke(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function so(){const V=Pe();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function _e(){return!0===l.NODE_CLIENT||!0===l.NODE_ADMIN}function Se(){try{return"object"==typeof indexedDB}catch{return!1}}function Ze(){return new Promise((V,U)=>{try{let Y=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(ye);ee.onsuccess=()=>{ee.result.close(),Y||self.indexedDB.deleteDatabase(ye),V(!0)},ee.onupgradeneeded=()=>{Y=!1},ee.onerror=()=>{var Le;U((null===(Le=ee.error)||void 0===Le?void 0:Le.message)||"")}}catch(Y){U(Y)}})}function Fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ut extends Error{constructor(U,Y,ye){super(Y),this.code=U,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nt.prototype.create)}}class Nt{constructor(U,Y,ye){this.service=U,this.serviceName=Y,this.errors=ye}create(U,...Y){const ye=Y[0]||{},ee=`${this.service}/${U}`,Le=this.errors[U],Ct=Le?function ft(V,U){return V.replace(gt,(Y,ye)=>{const ee=U[ye];return null!=ee?String(ee):`<${ye}?>`})}(Le,ye):"Error";return new ut(ee,`${this.serviceName}: ${Ct} (${ee}).`,ye)}}const gt=/\{\$([^}]+)}/g;function rn(V){return JSON.parse(V)}function Yt(V){return JSON.stringify(V)}const vn=function(V){let U={},Y={},ye={},ee="";try{const Le=V.split(".");U=rn($(Le[0])||""),Y=rn($(Le[1])||""),ee=Le[2],ye=Y.d||{},delete Y.d}catch{}return{header:U,claims:Y,data:ye,signature:ee}},Bn=function(V){const Y=vn(V).claims;return!!Y&&"object"==typeof Y&&Y.hasOwnProperty("iat")},gi=function(V){const U=vn(V).claims;return"object"==typeof U&&!0===U.admin};function Oi(V,U){return Object.prototype.hasOwnProperty.call(V,U)}function ne(V,U){if(Object.prototype.hasOwnProperty.call(V,U))return V[U]}function K(V){for(const U in V)if(Object.prototype.hasOwnProperty.call(V,U))return!1;return!0}function ce(V,U,Y){const ye={};for(const ee in V)Object.prototype.hasOwnProperty.call(V,ee)&&(ye[ee]=U.call(Y,V[ee],ee,V));return ye}function X(V,U){if(V===U)return!0;const Y=Object.keys(V),ye=Object.keys(U);for(const ee of Y){if(!ye.includes(ee))return!1;const Le=V[ee],Ct=U[ee];if(Ve(Le)&&Ve(Ct)){if(!X(Le,Ct))return!1}else if(Le!==Ct)return!1}for(const ee of ye)if(!Y.includes(ee))return!1;return!0}function Ve(V){return null!==V&&"object"==typeof V}function Xt(V){const U=[];for(const[Y,ye]of Object.entries(V))Array.isArray(ye)?ye.forEach(ee=>{U.push(encodeURIComponent(Y)+"="+encodeURIComponent(ee))}):U.push(encodeURIComponent(Y)+"="+encodeURIComponent(ye));return U.length?"&"+U.join("&"):""}function Lt(V){const U={};return V.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[ee,Le]=ye.split("=");U[decodeURIComponent(ee)]=decodeURIComponent(Le)}}),U}function $t(V){const U=V.indexOf("?");if(!U)return"";const Y=V.indexOf("#",U);return V.substring(U,Y>0?Y:void 0)}class Et{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let U=1;U<this.blockSize;++U)this.pad_[U]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(U,Y){Y||(Y=0);const ye=this.W_;if("string"==typeof U)for(let Zt=0;Zt<16;Zt++)ye[Zt]=U.charCodeAt(Y)<<24|U.charCodeAt(Y+1)<<16|U.charCodeAt(Y+2)<<8|U.charCodeAt(Y+3),Y+=4;else for(let Zt=0;Zt<16;Zt++)ye[Zt]=U[Y]<<24|U[Y+1]<<16|U[Y+2]<<8|U[Y+3],Y+=4;for(let Zt=16;Zt<80;Zt++){const Pi=ye[Zt-3]^ye[Zt-8]^ye[Zt-14]^ye[Zt-16];ye[Zt]=4294967295&(Pi<<1|Pi>>>31)}let Nn,dn,ee=this.chain_[0],Le=this.chain_[1],Ct=this.chain_[2],tn=this.chain_[3],zn=this.chain_[4];for(let Zt=0;Zt<80;Zt++){Zt<40?Zt<20?(Nn=tn^Le&(Ct^tn),dn=1518500249):(Nn=Le^Ct^tn,dn=1859775393):Zt<60?(Nn=Le&Ct|tn&(Le|Ct),dn=2400959708):(Nn=Le^Ct^tn,dn=3395469782);const Pi=(ee<<5|ee>>>27)+Nn+zn+dn+ye[Zt]&4294967295;zn=tn,tn=Ct,Ct=4294967295&(Le<<30|Le>>>2),Le=ee,ee=Pi}this.chain_[0]=this.chain_[0]+ee&4294967295,this.chain_[1]=this.chain_[1]+Le&4294967295,this.chain_[2]=this.chain_[2]+Ct&4294967295,this.chain_[3]=this.chain_[3]+tn&4294967295,this.chain_[4]=this.chain_[4]+zn&4294967295}update(U,Y){if(null==U)return;void 0===Y&&(Y=U.length);const ye=Y-this.blockSize;let ee=0;const Le=this.buf_;let Ct=this.inbuf_;for(;ee<Y;){if(0===Ct)for(;ee<=ye;)this.compress_(U,ee),ee+=this.blockSize;if("string"==typeof U){for(;ee<Y;)if(Le[Ct]=U.charCodeAt(ee),++Ct,++ee,Ct===this.blockSize){this.compress_(Le),Ct=0;break}}else for(;ee<Y;)if(Le[Ct]=U[ee],++Ct,++ee,Ct===this.blockSize){this.compress_(Le),Ct=0;break}}this.inbuf_=Ct,this.total_+=Y}digest(){const U=[];let Y=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ee=this.blockSize-1;ee>=56;ee--)this.buf_[ee]=255&Y,Y/=256;this.compress_(this.buf_);let ye=0;for(let ee=0;ee<5;ee++)for(let Le=24;Le>=0;Le-=8)U[ye]=this.chain_[ee]>>Le&255,++ye;return U}}function Wt(V,U){const Y=new et(V,U);return Y.subscribe.bind(Y)}class et{constructor(U,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{U(this)}).catch(ye=>{this.error(ye)})}next(U){this.forEachObserver(Y=>{Y.next(U)})}error(U){this.forEachObserver(Y=>{Y.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,Y,ye){let ee;if(void 0===U&&void 0===Y&&void 0===ye)throw new Error("Missing Observer.");ee=function mi(V,U){if("object"!=typeof V||null===V)return!1;for(const Y of U)if(Y in V&&"function"==typeof V[Y])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:Y,complete:ye},void 0===ee.next&&(ee.next=Dn),void 0===ee.error&&(ee.error=Dn),void 0===ee.complete&&(ee.complete=Dn);const Le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),Le}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,U)}sendOne(U,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{Y(this.observers[U])}catch(ye){typeof console<"u"&&console.error&&console.error(ye)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dn(){}const Rn=function(V,U,Y,ye){let ee;if(ye<U?ee="at least "+U:ye>Y&&(ee=0===Y?"none":"no more than "+Y),ee)throw new Error(V+" failed: Was called with "+ye+(1===ye?" argument.":" arguments.")+" Expects "+ee+".")};function en(V,U){return`${V} failed: ${U} argument `}function Ii(V,U,Y,ye){if((!ye||Y)&&"function"!=typeof Y)throw new Error(en(V,U)+"must be a valid function.")}function cn(V,U,Y,ye){if((!ye||Y)&&("object"!=typeof Y||null===Y))throw new Error(en(V,U)+"must be a valid context object.")}const Nr=function(V){const U=[];let Y=0;for(let ye=0;ye<V.length;ye++){let ee=V.charCodeAt(ye);if(ee>=55296&&ee<=56319){const Le=ee-55296;ye++,J(ye<V.length,"Surrogate pair missing trail surrogate."),ee=65536+(Le<<10)+(V.charCodeAt(ye)-56320)}ee<128?U[Y++]=ee:ee<2048?(U[Y++]=ee>>6|192,U[Y++]=63&ee|128):ee<65536?(U[Y++]=ee>>12|224,U[Y++]=ee>>6&63|128,U[Y++]=63&ee|128):(U[Y++]=ee>>18|240,U[Y++]=ee>>12&63|128,U[Y++]=ee>>6&63|128,U[Y++]=63&ee|128)}return U},qt=function(V){let U=0;for(let Y=0;Y<V.length;Y++){const ye=V.charCodeAt(Y);ye<128?U++:ye<2048?U+=2:ye>=55296&&ye<=56319?(U+=4,Y++):U+=3}return U},ln=1e3,hr=2,Hn=144e5,Jn=.5;function Mr(V,U=ln,Y=hr){const ye=U*Math.pow(Y,V),ee=Math.round(Jn*ye*(Math.random()-.5)*2);return Math.min(Hn,ye+ee)}function Wi(V){return V&&V._delegate?V._delegate:V}},3398:(ht,Te,k)=>{var l=k(4650);let J=null;function P(){return J}class re{}const oe=new l.OlP("DocumentToken");let ve=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return function we(){return(0,l.LFG)($)}()},providedIn:"platform"}),t})();const ge=new l.OlP("Location Initialized");let $=(()=>{class t extends ve{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,s){G()?this._history.pushState(e,i,s):this._location.hash=s}replaceState(e,i,s){G()?this._history.replaceState(e,i,s):this._location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(oe))},t.\u0275prov=l.Yz7({token:t,factory:function(){return function Z(){return new $((0,l.LFG)(oe))}()},providedIn:"platform"}),t})();function G(){return!!window.history.pushState}function Ge(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function Ie(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Ye(t){return t&&"?"!==t[0]?"?"+t:t}let at=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(Ne)},providedIn:"root"}),t})();const fe=new l.OlP("appBaseHref");let Ne=(()=>{class t extends at{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ge(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ye(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,c){const h=this.prepareExternalUrl(s+Ye(c));this._platformLocation.pushState(e,i,h)}replaceState(e,i,s,c){const h=this.prepareExternalUrl(s+Ye(c));this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(ve),l.LFG(fe,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Me=(()=>{class t extends at{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ge(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,c){let h=this.prepareExternalUrl(s+Ye(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,i,h)}replaceState(e,i,s,c){let h=this.prepareExternalUrl(s+Ye(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(ve),l.LFG(fe,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),Ue=(()=>{class t{constructor(e){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function We(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(Ie(De(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ye(i))}normalize(e){return t.stripTrailingSlash(function me(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,De(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._locationStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ye(i)),s)}replaceState(e,i="",s=null){this._locationStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ye(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}}return t.normalizeQueryParams=Ye,t.joinWithSlash=Ge,t.stripTrailingSlash=Ie,t.\u0275fac=function(e){return new(e||t)(l.LFG(at))},t.\u0275prov=l.Yz7({token:t,factory:function(){return function Oe(){return new Ue((0,l.LFG)(at))}()},providedIn:"root"}),t})();function De(t){return t.replace(/\/index.html$/,"")}var nt=(()=>((nt=nt||{})[nt.Decimal=0]="Decimal",nt[nt.Percent=1]="Percent",nt[nt.Currency=2]="Currency",nt[nt.Scientific=3]="Scientific",nt))(),_t=(()=>((_t=_t||{})[_t.Format=0]="Format",_t[_t.Standalone=1]="Standalone",_t))(),Ke=(()=>((Ke=Ke||{})[Ke.Narrow=0]="Narrow",Ke[Ke.Abbreviated=1]="Abbreviated",Ke[Ke.Wide=2]="Wide",Ke[Ke.Short=3]="Short",Ke))(),Pt=(()=>((Pt=Pt||{})[Pt.Short=0]="Short",Pt[Pt.Medium=1]="Medium",Pt[Pt.Long=2]="Long",Pt[Pt.Full=3]="Full",Pt))(),st=(()=>((st=st||{})[st.Decimal=0]="Decimal",st[st.Group=1]="Group",st[st.List=2]="List",st[st.PercentSign=3]="PercentSign",st[st.PlusSign=4]="PlusSign",st[st.MinusSign=5]="MinusSign",st[st.Exponential=6]="Exponential",st[st.SuperscriptingExponent=7]="SuperscriptingExponent",st[st.PerMille=8]="PerMille",st[st.Infinity=9]="Infinity",st[st.NaN=10]="NaN",st[st.TimeSeparator=11]="TimeSeparator",st[st.CurrencyDecimal=12]="CurrencyDecimal",st[st.CurrencyGroup=13]="CurrencyGroup",st))();function _e(t,n,e){const i=(0,l.cg1)(t),c=ce([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],n);return ce(c,e)}function Ce(t,n,e){const i=(0,l.cg1)(t),c=ce([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],n);return ce(c,e)}function Se(t,n,e){const i=(0,l.cg1)(t),c=ce([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],n);return ce(c,e)}function ut(t,n){return ce((0,l.cg1)(t)[l.wAp.DateFormat],n)}function Nt(t,n){return ce((0,l.cg1)(t)[l.wAp.TimeFormat],n)}function ft(t,n){return ce((0,l.cg1)(t)[l.wAp.DateTimeFormat],n)}function gt(t,n){const e=(0,l.cg1)(t),i=e[l.wAp.NumberSymbols][n];if(typeof i>"u"){if(n===st.CurrencyDecimal)return e[l.wAp.NumberSymbols][st.Decimal];if(n===st.CurrencyGroup)return e[l.wAp.NumberSymbols][st.Group]}return i}function gi(t){if(!t[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ce(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function X(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const Lt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$t={},Et=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Wt=(()=>((Wt=Wt||{})[Wt.Short=0]="Short",Wt[Wt.ShortGMT=1]="ShortGMT",Wt[Wt.Long=2]="Long",Wt[Wt.Extended=3]="Extended",Wt))(),et=(()=>((et=et||{})[et.FullYear=0]="FullYear",et[et.Month=1]="Month",et[et.Date=2]="Date",et[et.Hours=3]="Hours",et[et.Minutes=4]="Minutes",et[et.Seconds=5]="Seconds",et[et.FractionalSeconds=6]="FractionalSeconds",et[et.Day=7]="Day",et))(),bt=(()=>((bt=bt||{})[bt.DayPeriods=0]="DayPeriods",bt[bt.Days=1]="Days",bt[bt.Months=2]="Months",bt[bt.Eras=3]="Eras",bt))();function mi(t,n,e,i){let s=function ee(t){if(Ct(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[s,c=1,h=1]=t.split("-").map(m=>+m);return Dn(s,c-1,h)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(Lt))return function Le(t){const n=new Date(0);let e=0,i=0;const s=t[8]?n.setUTCFullYear:n.setFullYear,c=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),s.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const h=Number(t[4]||0)-e,m=Number(t[5]||0)-i,b=Number(t[6]||0),T=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return c.call(n,h,m,b,T),n}(i)}const n=new Date(t);if(!Ct(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=Rn(e,n)||n;let m,h=[];for(;n;){if(m=Et.exec(n),!m){h.push(n);break}{h=h.concat(m.slice(1));const R=h.pop();if(!R)break;n=R}}let b=s.getTimezoneOffset();i&&(b=U(i,b),s=function ye(t,n,e){const i=e?-1:1,s=t.getTimezoneOffset();return function Y(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,i*(U(n,s)-s))}(s,i,!0));let T="";return h.forEach(R=>{const O=function V(t){if(Wi[t])return Wi[t];let n;switch(t){case"G":case"GG":case"GGG":n=qt(bt.Eras,Ke.Abbreviated);break;case"GGGG":n=qt(bt.Eras,Ke.Wide);break;case"GGGGG":n=qt(bt.Eras,Ke.Narrow);break;case"y":n=cn(et.FullYear,1,0,!1,!0);break;case"yy":n=cn(et.FullYear,2,0,!0,!0);break;case"yyy":n=cn(et.FullYear,3,0,!1,!0);break;case"yyyy":n=cn(et.FullYear,4,0,!1,!0);break;case"Y":n=Or(1);break;case"YY":n=Or(2,!0);break;case"YYY":n=Or(3);break;case"YYYY":n=Or(4);break;case"M":case"L":n=cn(et.Month,1,1);break;case"MM":case"LL":n=cn(et.Month,2,1);break;case"MMM":n=qt(bt.Months,Ke.Abbreviated);break;case"MMMM":n=qt(bt.Months,Ke.Wide);break;case"MMMMM":n=qt(bt.Months,Ke.Narrow);break;case"LLL":n=qt(bt.Months,Ke.Abbreviated,_t.Standalone);break;case"LLLL":n=qt(bt.Months,Ke.Wide,_t.Standalone);break;case"LLLLL":n=qt(bt.Months,Ke.Narrow,_t.Standalone);break;case"w":n=Tn(1);break;case"ww":n=Tn(2);break;case"W":n=Tn(1,!0);break;case"d":n=cn(et.Date,1);break;case"dd":n=cn(et.Date,2);break;case"c":case"cc":n=cn(et.Day,1);break;case"ccc":n=qt(bt.Days,Ke.Abbreviated,_t.Standalone);break;case"cccc":n=qt(bt.Days,Ke.Wide,_t.Standalone);break;case"ccccc":n=qt(bt.Days,Ke.Narrow,_t.Standalone);break;case"cccccc":n=qt(bt.Days,Ke.Short,_t.Standalone);break;case"E":case"EE":case"EEE":n=qt(bt.Days,Ke.Abbreviated);break;case"EEEE":n=qt(bt.Days,Ke.Wide);break;case"EEEEE":n=qt(bt.Days,Ke.Narrow);break;case"EEEEEE":n=qt(bt.Days,Ke.Short);break;case"a":case"aa":case"aaa":n=qt(bt.DayPeriods,Ke.Abbreviated);break;case"aaaa":n=qt(bt.DayPeriods,Ke.Wide);break;case"aaaaa":n=qt(bt.DayPeriods,Ke.Narrow);break;case"b":case"bb":case"bbb":n=qt(bt.DayPeriods,Ke.Abbreviated,_t.Standalone,!0);break;case"bbbb":n=qt(bt.DayPeriods,Ke.Wide,_t.Standalone,!0);break;case"bbbbb":n=qt(bt.DayPeriods,Ke.Narrow,_t.Standalone,!0);break;case"B":case"BB":case"BBB":n=qt(bt.DayPeriods,Ke.Abbreviated,_t.Format,!0);break;case"BBBB":n=qt(bt.DayPeriods,Ke.Wide,_t.Format,!0);break;case"BBBBB":n=qt(bt.DayPeriods,Ke.Narrow,_t.Format,!0);break;case"h":n=cn(et.Hours,1,-12);break;case"hh":n=cn(et.Hours,2,-12);break;case"H":n=cn(et.Hours,1);break;case"HH":n=cn(et.Hours,2);break;case"m":n=cn(et.Minutes,1);break;case"mm":n=cn(et.Minutes,2);break;case"s":n=cn(et.Seconds,1);break;case"ss":n=cn(et.Seconds,2);break;case"S":n=cn(et.FractionalSeconds,1);break;case"SS":n=cn(et.FractionalSeconds,2);break;case"SSS":n=cn(et.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=ln(Wt.Short);break;case"ZZZZZ":n=ln(Wt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=ln(Wt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=ln(Wt.Long);break;default:return null}return Wi[t]=n,n}(R);T+=O?O(s,e,b):"''"===R?"'":R.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),T}function Dn(t,n,e){const i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function Rn(t,n){const e=function de(t){return(0,l.cg1)(t)[l.wAp.LocaleId]}(t);if($t[e]=$t[e]||{},$t[e][n])return $t[e][n];let i="";switch(n){case"shortDate":i=ut(t,Pt.Short);break;case"mediumDate":i=ut(t,Pt.Medium);break;case"longDate":i=ut(t,Pt.Long);break;case"fullDate":i=ut(t,Pt.Full);break;case"shortTime":i=Nt(t,Pt.Short);break;case"mediumTime":i=Nt(t,Pt.Medium);break;case"longTime":i=Nt(t,Pt.Long);break;case"fullTime":i=Nt(t,Pt.Full);break;case"short":const s=Rn(t,"shortTime"),c=Rn(t,"shortDate");i=en(ft(t,Pt.Short),[s,c]);break;case"medium":const h=Rn(t,"mediumTime"),m=Rn(t,"mediumDate");i=en(ft(t,Pt.Medium),[h,m]);break;case"long":const b=Rn(t,"longTime"),T=Rn(t,"longDate");i=en(ft(t,Pt.Long),[b,T]);break;case"full":const R=Rn(t,"fullTime"),O=Rn(t,"fullDate");i=en(ft(t,Pt.Full),[R,O])}return i&&($t[e][n]=i),i}function en(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return null!=n&&i in n?n[i]:e})),t}function fn(t,n,e="-",i,s){let c="";(t<0||s&&t<=0)&&(s?t=1-t:(t=-t,c=e));let h=String(t);for(;h.length<n;)h="0"+h;return i&&(h=h.slice(h.length-n)),c+h}function cn(t,n,e=0,i=!1,s=!1){return function(c,h){let m=function Nr(t,n){switch(t){case et.FullYear:return n.getFullYear();case et.Month:return n.getMonth();case et.Date:return n.getDate();case et.Hours:return n.getHours();case et.Minutes:return n.getMinutes();case et.Seconds:return n.getSeconds();case et.FractionalSeconds:return n.getMilliseconds();case et.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,c);if((e>0||m>-e)&&(m+=e),t===et.Hours)0===m&&-12===e&&(m=12);else if(t===et.FractionalSeconds)return function Ii(t,n){return fn(t,3).substring(0,n)}(m,n);const b=gt(h,st.MinusSign);return fn(m,n,b,i,s)}}function qt(t,n,e=_t.Format,i=!1){return function(s,c){return function zr(t,n,e,i,s,c){switch(e){case bt.Months:return Se(n,s,i)[t.getMonth()];case bt.Days:return Ce(n,s,i)[t.getDay()];case bt.DayPeriods:const h=t.getHours(),m=t.getMinutes();if(c){const T=function Oi(t){const n=(0,l.cg1)(t);return gi(n),(n[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?X(i):[X(i[0]),X(i[1])])}(n),R=function ne(t,n,e){const i=(0,l.cg1)(t);gi(i);const c=ce([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],n)||[];return ce(c,e)||[]}(n,s,i),O=T.findIndex(B=>{if(Array.isArray(B)){const[W,ue]=B,Ee=h>=W.hours&&m>=W.minutes,Ae=h<ue.hours||h===ue.hours&&m<ue.minutes;if(W.hours<ue.hours){if(Ee&&Ae)return!0}else if(Ee||Ae)return!0}else if(B.hours===h&&B.minutes===m)return!0;return!1});if(-1!==O)return R[O]}return _e(n,s,i)[h<12?0:1];case bt.Eras:return function Ze(t,n){return ce((0,l.cg1)(t)[l.wAp.Eras],n)}(n,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(s,c,t,n,e,i)}}function ln(t){return function(n,e,i){const s=-1*i,c=gt(e,st.MinusSign),h=s>0?Math.floor(s/60):Math.ceil(s/60);switch(t){case Wt.Short:return(s>=0?"+":"")+fn(h,2,c)+fn(Math.abs(s%60),2,c);case Wt.ShortGMT:return"GMT"+(s>=0?"+":"")+fn(h,1,c);case Wt.Long:return"GMT"+(s>=0?"+":"")+fn(h,2,c)+":"+fn(Math.abs(s%60),2,c);case Wt.Extended:return 0===i?"Z":(s>=0?"+":"")+fn(h,2,c)+":"+fn(Math.abs(s%60),2,c);default:throw new Error(`Unknown zone width "${t}"`)}}}const hr=0,Hn=4;function Mr(t){return Dn(t.getFullYear(),t.getMonth(),t.getDate()+(Hn-t.getDay()))}function Tn(t,n=!1){return function(e,i){let s;if(n){const c=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,h=e.getDate();s=1+Math.floor((h+c)/7)}else{const c=Mr(e),h=function Jn(t){const n=Dn(t,hr,1).getDay();return Dn(t,0,1+(n<=Hn?Hn:Hn+7)-n)}(c.getFullYear()),m=c.getTime()-h.getTime();s=1+Math.round(m/6048e5)}return fn(s,t,gt(i,st.MinusSign))}}function Or(t,n=!1){return function(e,i){return fn(Mr(e).getFullYear(),t,gt(i,st.MinusSign),n)}}const Wi={};function U(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function Ct(t){return t instanceof Date&&!isNaN(t.valueOf())}const tn=/^(\d+)?\.((\d+)(-(\d+))?)?$/,zn=22,Nn=".",dn="0",Zt=";",Pi=",",Pr="#";function nn(t){const n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}class Xn{constructor(n,e,i,s){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Si=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((s,c,h)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new Xn(s.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)i.remove(null===c?void 0:c);else if(null!==c){const m=i.get(c);i.move(m,h),Gn(m,s)}});for(let s=0,c=i.length;s<c;s++){const m=i.get(s).context;m.index=s,m.count=c,m.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{Gn(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Gn(t,n){t.context.$implicit=n.item}let Yn=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new Bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ma("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ma("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.s_b),l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class Bt{constructor(){this.$implicit=null,this.ngIf=null}}function ma(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,l.AaK)(n)}'.`)}let Po=(()=>{class t{constructor(e,i,s){this._ngEl=e,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[s,c]=e.split("."),h=-1===s.indexOf("-")?void 0:l.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,s,c?`${i}${c}`:i,h):this._renderer.removeStyle(this._ngEl.nativeElement,s,h)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),t})(),En=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:s,ngTemplateOutletContext:c,ngTemplateOutletInjector:h}=this;this._viewRef=i.createEmbeddedView(s,c,h?{injector:h}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.s_b))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),t})();let Uc=(()=>{class t{constructor(e){this._locale=e}transform(e,i,s){if(!function El(t){return!(null==t||""===t||t!=t)}(e))return null;s=s||this._locale;try{return function xe(t,n,e){return function he(t,n,e,i,s,c,h=!1){let m="",b=!1;if(isFinite(t)){let T=function mt(t){let i,s,c,h,m,n=Math.abs(t)+"",e=0;for((s=n.indexOf(Nn))>-1&&(n=n.replace(Nn,"")),(c=n.search(/e/i))>0?(s<0&&(s=c),s+=+n.slice(c+1),n=n.substring(0,c)):s<0&&(s=n.length),c=0;n.charAt(c)===dn;c++);if(c===(m=n.length))i=[0],s=1;else{for(m--;n.charAt(m)===dn;)m--;for(s-=c,i=[],h=0;c<=m;c++,h++)i[h]=Number(n.charAt(c))}return s>zn&&(i=i.splice(0,zn-1),e=s-1,s=1),{digits:i,exponent:e,integerLen:s}}(t);h&&(T=function Ht(t){if(0===t.digits[0])return t;const n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===n?t.digits.push(0,0):1===n&&t.digits.push(0),t.integerLen+=2),t}(T));let R=n.minInt,O=n.minFrac,B=n.maxFrac;if(c){const tt=c.match(tn);if(null===tt)throw new Error(`${c} is not a valid digit info`);const yt=tt[1],qe=tt[3],Dt=tt[5];null!=yt&&(R=nn(yt)),null!=qe&&(O=nn(qe)),null!=Dt?B=nn(Dt):null!=qe&&O>B&&(B=O)}!function on(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let i=t.digits,s=i.length-t.integerLen;const c=Math.min(Math.max(n,s),e);let h=c+t.integerLen,m=i[h];if(h>0){i.splice(Math.max(t.integerLen,h));for(let O=h;O<i.length;O++)i[O]=0}else{s=Math.max(0,s),t.integerLen=1,i.length=Math.max(1,h=c+1),i[0]=0;for(let O=1;O<h;O++)i[O]=0}if(m>=5)if(h-1<0){for(let O=0;O>h;O--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[h-1]++;for(;s<Math.max(0,c);s++)i.push(0);let b=0!==c;const T=n+t.integerLen,R=i.reduceRight(function(O,B,W,ue){return ue[W]=(B+=O)<10?B:B-10,b&&(0===ue[W]&&W>=T?ue.pop():b=!1),B>=10?1:0},0);R&&(i.unshift(R),t.integerLen++)}(T,O,B);let W=T.digits,ue=T.integerLen;const Ee=T.exponent;let Ae=[];for(b=W.every(tt=>!tt);ue<R;ue++)W.unshift(0);for(;ue<0;ue++)W.unshift(0);ue>0?Ae=W.splice(ue,W.length):(Ae=W,W=[0]);const ct=[];for(W.length>=n.lgSize&&ct.unshift(W.splice(-n.lgSize,W.length).join(""));W.length>n.gSize;)ct.unshift(W.splice(-n.gSize,W.length).join(""));W.length&&ct.unshift(W.join("")),m=ct.join(gt(e,i)),Ae.length&&(m+=gt(e,s)+Ae.join("")),Ee&&(m+=gt(e,st.Exponential)+"+"+Ee)}else m=gt(e,st.Infinity);return m=t<0&&!b?n.negPre+m+n.negSuf:n.posPre+m+n.posSuf,m}(t,function wt(t,n="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(Zt),s=i[0],c=i[1],h=-1!==s.indexOf(Nn)?s.split(Nn):[s.substring(0,s.lastIndexOf(dn)+1),s.substring(s.lastIndexOf(dn)+1)],m=h[0],b=h[1]||"";e.posPre=m.substring(0,m.indexOf(Pr));for(let R=0;R<b.length;R++){const O=b.charAt(R);O===dn?e.minFrac=e.maxFrac=R+1:O===Pr?e.maxFrac=R+1:e.posSuf+=O}const T=m.split(Pi);if(e.gSize=T[1]?T[1].length:0,e.lgSize=T[2]||T[1]?(T[2]||T[1]).length:0,c){const R=s.length-e.posPre.length-e.posSuf.length,O=c.indexOf(Pr);e.negPre=c.substring(0,O).replace(/'/g,""),e.negSuf=c.slice(O+R).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}(function rn(t,n){return(0,l.cg1)(t)[l.wAp.NumberFormats][n]}(n,nt.Percent),gt(n,st.MinusSign)),n,st.Group,st.Decimal,e,!0).replace(new RegExp("%","g"),gt(n,st.PercentSign))}(function Gu(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),s,i)}catch(c){throw function Qi(t,n){return new l.vHH(2100,!1)}()}}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.soG,16))},t.\u0275pipe=l.Yjl({name:"percent",type:t,pure:!0,standalone:!0}),t})();let mr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();const Ch="browser";let ya=(()=>{class t{}return t.\u0275prov=(0,l.Yz7)({token:t,providedIn:"root",factory:()=>new Wu((0,l.LFG)(oe),window)}),t})();class Wu{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function Fo(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const c=s.shadowRoot;if(c){const h=c.getElementById(n)||c.querySelector(`[name="${n}"]`);if(h)return h}s=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(i-c[0],s-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=Hc(this.window.history)||Hc(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Hc(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class id extends re{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Yc extends id{static makeCurrent(){!function le(t){J||(J=t)}(new Yc)}onAndCancel(n,e,i){return n.addEventListener(e,i,!1),()=>{n.removeEventListener(e,i,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function Hs(){return Vs=Vs||document.querySelector("base"),Vs?Vs.getAttribute("href"):null}();return null==e?null:function mp(t){go=go||document.createElement("a"),go.setAttribute("href",t);const n=go.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Vs=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function Os(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[s,c]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===n)return decodeURIComponent(c)}return null}(document.cookie,n)}}let go,Vs=null;const Rh=new l.OlP("TRANSITION_ID"),km=[{provide:l.ip1,useFactory:function Vl(t,n,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const i=P(),s=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let c=0;c<s.length;c++)i.remove(s[c])})}},deps:[Rh,oe,l.zs3],multi:!0}];let ts=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const ns=new l.OlP("EventManagerPlugins");let Hl=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>{s.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let c=0;c<s.length;c++){const h=s[c];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(ns),l.LFG(l.R0b))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();class Gs{constructor(n){this._doc=n}addGlobalEventListener(n,e,i){const s=P().getGlobalEventTarget(this._doc,n);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let Zc=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const s=this.usageCount;let c=s.get(e)??0;return c+=i,c>0?s.set(e,c):s.delete(e),c}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),is=(()=>{class t extends Zc{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(c=>c.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const s=this.doc.createElement("style");s.textContent=i,e.appendChild(s);const c=this.styleRef.get(i);c?c.push(s):this.styleRef.set(i,[s])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(oe))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const rs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Gl=/%COMP%/g,Na=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function od(t,n){return n.flat(100).map(e=>e.replace(Gl,t))}function as(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let Fr=(()=>{class t{constructor(e,i,s,c){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestory=c,this.rendererByCompId=new Map,this.defaultRenderer=new mo(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const s=this.getOrCreateRenderer(e,i);return s instanceof ad?s.applyToHost(e):s instanceof _n&&s.applyStyles(),s}getOrCreateRenderer(e,i){const s=this.rendererByCompId;let c=s.get(i.id);if(!c){const h=this.eventManager,m=this.sharedStylesHost,b=this.removeStylesOnCompDestory;switch(i.encapsulation){case l.ifc.Emulated:c=new ad(h,m,i,this.appId,b);break;case l.ifc.ShadowDom:return new sd(h,m,e,i);default:c=new _n(h,m,i,b)}c.onDestroy=()=>s.delete(i.id),s.set(i.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Hl),l.LFG(is),l.LFG(l.AFp),l.LFG(Na))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();class mo{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(rs[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){($s(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&($s(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,s){if(s){e=s+":"+e;const c=rs[s];c?n.setAttributeNS(c,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const s=rs[i];s?n.removeAttributeNS(s,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,s){s&(l.JOm.DashCase|l.JOm.Important)?n.style.setProperty(e,i,s&l.JOm.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&l.JOm.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,as(i)):this.eventManager.addEventListener(n,e,as(i))}}function $s(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class sd extends mo{constructor(n,e,i,s){super(n),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=od(s.id,s.styles);for(const h of c){const m=document.createElement("style");m.textContent=h,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _n extends mo{constructor(n,e,i,s,c=i.id){super(n),this.sharedStylesHost=e,this.removeStylesOnCompDestory=s,this.rendererUsageCount=0,this.styles=od(c,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ad extends _n{constructor(n,e,i,s,c){const h=s+"-"+i.id;super(n,e,i,c,h),this.contentAttr=function Nh(t){return"_ngcontent-%COMP%".replace(Gl,t)}(h),this.hostAttr=function $l(t){return"_nghost-%COMP%".replace(Gl,t)}(h)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}let Wl=(()=>{class t extends Gs{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(oe))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const Kc=["alt","control","meta","shift"],zl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yl={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let si=(()=>{class t extends Gs{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,s){const c=t.parseEventName(i),h=t.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,c.domEventName,h))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const c=t._normalizeKey(i.pop());let h="",m=i.indexOf("code");if(m>-1&&(i.splice(m,1),h="code."),Kc.forEach(T=>{const R=i.indexOf(T);R>-1&&(i.splice(R,1),h+=T+".")}),h+=c,0!=i.length||0===c.length)return null;const b={};return b.domEventName=s,b.fullKey=h,b}static matchEventFullKeyCode(e,i){let s=zl[e.key]||e.key,c="";return i.indexOf("code.")>-1&&(s=e.code,c="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Kc.forEach(h=>{h!==s&&(0,Yl[h])(e)&&(c+=h+".")}),c+=s,c===i)}static eventCallback(e,i,s){return c=>{t.matchEventFullKeyCode(c,e)&&s.runGuarded(()=>i(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(oe))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const Qc=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Ch},{provide:l.g9A,useValue:function _o(){Yc.makeCurrent()},multi:!0},{provide:oe,useFactory:function Zl(){return(0,l.RDi)(document),document},deps:[]}]),Pa=new l.OlP(""),Ws=[{provide:l.rWj,useClass:class Ra{addToWindow(n){l.dqk.getAngularTestability=(i,s=!0)=>{const c=n.findTestabilityInTree(i,s);if(null==c)throw new Error("Could not find testability for element.");return c},l.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const s=l.dqk.getAllAngularTestabilities();let c=s.length,h=!1;const m=function(b){h=h||b,c--,0==c&&i(h)};s.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?P().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Vo=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Mh(){return new l.qLn},deps:[]},{provide:ns,useClass:Wl,multi:!0,deps:[oe,l.R0b,l.Lbi]},{provide:ns,useClass:si,multi:!0,deps:[oe]},{provide:Fr,useClass:Fr,deps:[Hl,is,l.AFp,Na]},{provide:l.FYo,useExisting:Fr},{provide:Zc,useExisting:is},{provide:is,useClass:is,deps:[oe]},{provide:Hl,useClass:Hl,deps:[ns,l.R0b]},{provide:class Tl{},useClass:ts,deps:[]},[]];let zs=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:l.AFp,useValue:e.appId},{provide:Rh,useExisting:l.AFp},km]}}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Pa,12))},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[...Vo,...Ws],imports:[mr,l.hGG]}),t})(),Ph=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(oe))},t.\u0275prov=l.Yz7({token:t,factory:function(e){let i=null;return i=e?new e:function ds(){return new Ph((0,l.LFG)(oe))}(),i},providedIn:"root"}),t})();typeof window<"u"&&window;var ni=k(2011),Br=k(4986),jn=k(9751),Fi=k(3269),Kt=k(8996);function dt(...t){const n=(0,Fi.yG)(t);return(0,Kt.D)(t,n)}var La=k(6451),vt=k(4004),Ba=k(3099),tr=k(8421),un=k(4482),gn=k(5403);function bn(t,n){return(0,un.e)((e,i)=>{let s=null,c=0,h=!1;const m=()=>h&&!s&&i.complete();e.subscribe((0,gn.x)(i,b=>{s?.unsubscribe();let T=0;const R=c++;(0,tr.Xf)(t(b,R)).subscribe(s=(0,gn.x)(i,O=>i.next(n?n(b,O,R,T++):O),()=>{s=null,m()}))},()=>{h=!0,m()}))})}function ps(t,n){return(0,un.e)(function Ua(t,n,e,i,s){return(c,h)=>{let m=e,b=n,T=0;c.subscribe((0,gn.x)(h,R=>{const O=T++;b=m?t(b,R,O):(m=!0,R),i&&h.next(b)},s&&(()=>{m&&h.next(b),h.complete()})))}}(t,n,arguments.length>=2,!0))}var vo=k(4671);function Ys(t,n=vo.y){return t=t??Xl,(0,un.e)((e,i)=>{let s,c=!0;e.subscribe((0,gn.x)(i,h=>{const m=n(h);(c||!t(s,m))&&(c=!1,s=m,i.next(h))}))})}function Xl(t,n){return t===n}var Jr=k(5032);function Qr(...t){const n=(0,Fi.jO)(t);return(0,un.e)((e,i)=>{const s=t.length,c=new Array(s);let h=t.map(()=>!1),m=!1;for(let b=0;b<s;b++)(0,tr.Xf)(t[b]).subscribe((0,gn.x)(i,T=>{c[b]=T,!m&&!h[b]&&(h[b]=!0,(m=h.every(vo.y))&&(h=null))},Jr.Z));e.subscribe((0,gn.x)(i,b=>{if(m){const T=[b,...c];i.next(n?n(...T):T)}}))})}var Kn=k(4976),Ho=(k(2644),k(3942)),qi=k(4859),Ur=k(5861),yr=k(6881),F=k(2090),Zs=k(1877);const cd="@firebase/database";let Va="";function dd(t){Va=t}class ec{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,F.Wl)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,F.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class tc{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,F.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const hd=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new ec(n)}}catch{}return new tc},gs=hd("localStorage"),nc=hd("sessionStorage"),ms=new Zs.Yd("@firebase/database"),ic=function(){let t=1;return function(){return t++}}(),Ha=function(t){const n=(0,F.dS)(t),e=new F.gQ;e.update(n);const i=e.digest();return F.US.encodeByteArray(i)},_s=function(...t){let n="";for(let e=0;e<t.length;e++){const i=t[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=_s.apply(null,i):n+="object"==typeof i?(0,F.Wl)(i):i,n+=" "}return n};let br=null,Ga=!0;const iu=function(t,n){(0,F.hu)(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(ms.logLevel=Zs.in.VERBOSE,br=ms.log.bind(ms),n&&nc.set("logging_enabled",!0)):"function"==typeof t?br=t:(br=null,nc.remove("logging_enabled"))},On=function(...t){if(!0===Ga&&(Ga=!1,null===br&&!0===nc.get("logging_enabled")&&iu(!0)),br){const n=_s.apply(null,t);br(n)}},vs=function(t){return function(...n){On(t,...n)}},ja=function(...t){const n="FIREBASE INTERNAL ERROR: "+_s(...t);ms.error(n)},Vr=function(...t){const n=`FIREBASE FATAL ERROR: ${_s(...t)}`;throw ms.error(n),new Error(n)},Li=function(...t){const n="FIREBASE WARNING: "+_s(...t);ms.warn(n)},ru=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Xr="[MIN_NAME]",wi="[MAX_NAME]",yo=function(t,n){if(t===n)return 0;if(t===Xr||n===wi)return-1;if(n===Xr||t===wi)return 1;{const e=E(t),i=E(n);return null!==e?null!==i?e-i==0?t.length-n.length:e-i:-1:null!==i?1:t<n?-1:1}},pd=function(t,n){return t===n?0:t<n?-1:1},Bi=function(t,n){if(n&&t in n)return n[t];throw new Error("Missing required key ("+t+") in object: "+(0,F.Wl)(n))},bo=function(t){if("object"!=typeof t||null===t)return(0,F.Wl)(t);const n=[];for(const i in t)n.push(i);n.sort();let e="{";for(let i=0;i<n.length;i++)0!==i&&(e+=","),e+=(0,F.Wl)(n[i]),e+=":",e+=bo(t[n[i]]);return e+="}",e},$a=function(t,n){const e=t.length;if(e<=n)return[t];const i=[];for(let s=0;s<e;s+=n)i.push(t.substring(s,s+n>e?e:s+n));return i};function Sn(t,n){for(const e in t)t.hasOwnProperty(e)&&n(e,t[e])}const ou=function(t){(0,F.hu)(!ru(t),"Invalid JSON number");const i=1023;let s,c,h,m,b;0===t?(c=0,h=0,s=1/t==-1/0?1:0):(s=t<0,(t=Math.abs(t))>=Math.pow(2,1-i)?(m=Math.min(Math.floor(Math.log(t)/Math.LN2),i),c=m+i,h=Math.round(t*Math.pow(2,52-m)-Math.pow(2,52))):(c=0,h=Math.round(t/Math.pow(2,-1074))));const T=[];for(b=52;b;b-=1)T.push(h%2?1:0),h=Math.floor(h/2);for(b=11;b;b-=1)T.push(c%2?1:0),c=Math.floor(c/2);T.push(s?1:0),T.reverse();const R=T.join("");let O="";for(b=0;b<64;b+=8){let B=parseInt(R.substr(b,8),2).toString(16);1===B.length&&(B="0"+B),O+=B}return O.toLowerCase()},Gh=new RegExp("^-?(0*)\\d{1,10}$"),E=function(t){if(Gh.test(t)){const n=Number(t);if(n>=-2147483648&&n<=2147483647)return n}return null},S=function(t){try{t()}catch(n){setTimeout(()=>{throw Li("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},x=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},j=function(t,n){const e=setTimeout(t,n);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class q{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(n))}notifyForInvalidToken(){Li(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ae{constructor(n,e,i){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(On("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Li(n)}}let je=(()=>{class t{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const $n=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wr="websocket",Dr="long_polling";class qs{constructor(n,e,i,s,c=!1,h="",m=!1,b=!1){this.secure=e,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=b,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gs.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&gs.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function rc(t,n,e){let i;if((0,F.hu)("string"==typeof n,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),n===wr)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(n!==Dr)throw new Error("Unknown connection type: "+n);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function $h(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(e.ns=t.namespace);const s=[];return Sn(e,(c,h)=>{s.push(c+"="+h)}),i+s.join("&")}class wy{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,F.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,F.p$)(this.counters_)}}const su={},oc={};function Ks(t){const n=t.toString();return su[n]||(su[n]=new wy),su[n]}class za{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&S(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class bs{constructor(n,e,i,s,c,h,m){this.connId=n,this.repoInfo=e,this.applicationId=i,this.appCheckToken=s,this.authToken=c,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vs(n),this.stats_=Ks(e),this.urlFn=b=>(this.appCheckToken&&(b.ac=this.appCheckToken),rc(e,Dr,b))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new za(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,F.Yr)()||"complete"===document.readyState)t();else{let n=!1;const e=function(){document.body?n||(n=!0,t()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ws((...c)=>{const[h,m,b,T,R]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=m,this.password=b;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[h,m]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&$n.test(location.hostname)&&(i.r="f");const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bs.forceAllow_=!0}static forceDisallow(){bs.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!bs.forceAllow_&&(bs.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,F.Wl)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,F.h$)(e),s=$a(i,1840);for(let c=0;c<s.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[c]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=n,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,F.Wl)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class ws{constructor(n,e,i,s){if(this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=ic(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=ws.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){On("frame writing exception"),m.stack&&On(m.stack),On(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||On("No IE domain setting required")}catch{const i=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const h=this.pendingSegs.shift();i=i+"&seg"+s+"="+h.seg+"&ts"+s+"="+h.ts+"&d"+s+"="+h.d,s++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,i){this.pendingSegs.push({seg:n,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},s=setTimeout(i,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(s),i()})}addTag(n,e){(0,F.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||"loaded"===s||"complete"===s)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{On("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let bd=null;typeof MozWebSocket<"u"?bd=MozWebSocket:typeof WebSocket<"u"&&(bd=WebSocket);let lu=(()=>{class t{constructor(e,i,s,c,h,m,b){this.connId=e,this.applicationId=s,this.appCheckToken=c,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vs(this.connId),this.stats_=Ks(i),this.connURL=t.connectionURL_(i,m,b,c,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,s,c,h){const m={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&$n.test(location.hostname)&&(m.r="f"),i&&(m.s=i),s&&(m.ls=s),c&&(m.ac=c),h&&(m.p=h),rc(e,wr,m)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gs.set("previous_websocket_failure",!0);try{let s;if((0,F.Yr)()){s={headers:{"User-Agent":`Firebase/5/${Va}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(s.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(s.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,m=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;m&&(s.proxy={origin:m})}this.mySock=new bd(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const c=s.message||s.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const c=s.message||s.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&null!==bd&&!t.forceDisallow_}static previouslyFailed(){return gs.isInMemoryStorage||!0===gs.get("previous_websocket_failure")}markConnectionHealthy(){gs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const s=(0,F.cI)(i);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const s=this.extractFrameCount_(i);null!==s&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const i=(0,F.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=$a(i,16384);s.length>1&&this.sendString_(String(s.length));for(let c=0;c<s.length;c++)this.sendString_(s[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),cu=(()=>{class t{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[bs,lu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=lu&&lu.isAvailable();let s=i&&!lu.previouslyFailed();if(e.webSocketOnly&&(i||Li("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[lu];else{const c=this.transports_=[];for(const h of t.ALL_TRANSPORTS)h&&h.isAvailable()&&c.push(h);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class Kh{constructor(n,e,i,s,c,h,m,b,T,R){this.id=n,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=c,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=b,this.onKill_=T,this.lastSessionId=R,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vs("c:"+this.id+":"),this.transportManager_=new cu(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=j(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=Bi("t",n),i=Bi("d",n);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=Bi("t",n),i=Bi("d",n);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=Bi("t",n);if("d"in n){const i=n.d;if("h"===e){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?ja("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ja("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,i=n.v,s=n.h;this.sessionId=n.s,this.repoInfo_.host=s,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Li("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),j(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):j(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ip{put(n,e,i,s){}merge(n,e,i,s){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,i){}onDisconnectMerge(n,e,i){}onDisconnectCancel(n,e){}reportStats(n){}}class Sp{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,F.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const i=[...this.listeners_[n]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,e)}}on(n,e,i){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:i});const s=this.getInitialEvent(n);s&&e.apply(i,s)}off(n,e,i){this.validateEventType_(n);const s=this.listeners_[n]||[];for(let c=0;c<s.length;c++)if(s[c].callback===e&&(!i||i===s[c].context))return void s.splice(c,1)}validateEventType_(n){(0,F.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class Cd extends Sp{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Cd}getInitialEvent(n){return(0,F.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const qa=32,Jh=768;class sn{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function an(){return new sn("")}function kt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Js(t){return t.pieces_.length-t.pieceNum_}function Cn(t){let n=t.pieceNum_;return n<t.pieces_.length&&n++,new sn(t.pieces_,n)}function Qh(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Ds(t,n=0){return t.pieces_.slice(t.pieceNum_+n)}function ef(t){if(t.pieceNum_>=t.pieces_.length)return null;const n=[];for(let e=t.pieceNum_;e<t.pieces_.length-1;e++)n.push(t.pieces_[e]);return new sn(n,0)}function Pn(t,n){const e=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);if(n instanceof sn)for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);else{const i=n.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&e.push(i[s])}return new sn(e,0)}function xt(t){return t.pieceNum_>=t.pieces_.length}function Ui(t,n){const e=kt(t),i=kt(n);if(null===e)return n;if(e===i)return Ui(Cn(t),Cn(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")}function Er(t,n){const e=Ds(t,0),i=Ds(n,0);for(let s=0;s<e.length&&s<i.length;s++){const c=yo(e[s],i[s]);if(0!==c)return c}return e.length===i.length?0:e.length<i.length?-1:1}function Qs(t,n){if(Js(t)!==Js(n))return!1;for(let e=t.pieceNum_,i=n.pieceNum_;e<=t.pieces_.length;e++,i++)if(t.pieces_[e]!==n.pieces_[i])return!1;return!0}function Cr(t,n){let e=t.pieceNum_,i=n.pieceNum_;if(Js(t)>Js(n))return!1;for(;e<t.pieces_.length;){if(t.pieces_[e]!==n.pieces_[i])return!1;++e,++i}return!0}class Ap{constructor(n,e){this.errorPrefix_=e,this.parts_=Ds(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);Rp(this)}}function Rp(t){if(t.byteLength_>Jh)throw new Error(t.errorPrefix_+"has a key path longer than "+Jh+" bytes ("+t.byteLength_+").");if(t.parts_.length>qa)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+qa+") or object contains a cycle "+Xs(t))}function Xs(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class rf extends Sp{constructor(){let n,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[n];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new rf}getInitialEvent(n){return(0,F.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const Di=1e3;let eo,ea=(()=>{class t extends Ip{constructor(e,i,s,c,h,m,b,T){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=s,this.onConnectStatus_=c,this.onServerInfoUpdate_=h,this.authTokenProvider_=m,this.appCheckTokenProvider_=b,this.authOverride_=T,this.id=t.nextPersistentConnectionId_++,this.log_=vs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Di,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,T&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rf.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Cd.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,s){const c=++this.requestNumber_,h={r:c,a:e,b:i};this.log_((0,F.Wl)(h)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),s&&(this.requestCBHash_[c]=s)}get(e){this.initConnection_();const i=new F.BH,c={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:m=>{const b=m.d;"ok"===m.s?i.resolve(b):i.reject(b)}};return this.outstandingGets_.push(c),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,s,c){this.initConnection_();const h=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+h),this.listens.has(m)||this.listens.set(m,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(m).has(h),"listen() called twice for same path/queryId.");const b={onComplete:c,hashFn:i,query:e,tag:s};this.listens.get(m).set(h,b),this.connected_&&this.sendListen_(b)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})}sendListen_(e){const i=e.query,s=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+s+" for "+c);const h={p:s};e.tag&&(h.q=i._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,b=>{const T=b.d,R=b.s;t.warnOnListenWarnings_(T,i),(this.listens.get(s)&&this.listens.get(s).get(c))===e&&(this.log_("listen response",b),"ok"!==R&&this.removeListen_(s,c),e.onComplete&&e.onComplete(R,T))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const s=(0,F.DV)(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',h=i._path.toString();Li(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,F.w9)(e)?"auth":"gauth",s={cred:e};null===this.authOverride_?s.noauth=!0:"object"==typeof this.authOverride_&&(s.authvar=this.authOverride_),this.sendRequest(i,s,c=>{const h=c.s,m=c.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,s=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,s)})}unlisten(e,i){const s=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+c),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,c)&&this.connected_&&this.sendUnlisten_(s,c,e._queryObject,i)}sendUnlisten_(e,i,s,c){this.log_("Unlisten on "+e+" for "+i);const h={p:e};c&&(h.q=s,h.t=c),this.sendRequest("n",h)}onDisconnectPut(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:s})}onDisconnectMerge(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:s})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,s,c){const h={p:i,d:s};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,m=>{c&&setTimeout(()=>{c(m.s,m.d)},Math.floor(0))})}put(e,i,s,c){this.putInternal("p",e,i,s,c)}merge(e,i,s,c){this.putInternal("m",e,i,s,c)}putInternal(e,i,s,c,h){this.initConnection_();const m={p:i,d:s};void 0!==h&&(m.h=h),this.outstandingPuts_.push({action:e,request:m,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,s,h=>{this.log_(i+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(h.s,h.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,s=>{"ok"!==s.s&&this.log_("reportStats","Error sending stats: "+s.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Wl)(e));const i=e.r,s=this.requestCBHash_[i];s&&(delete this.requestCBHash_[i],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):ja("Unrecognized action received from server: "+(0,F.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Di,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Di,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Di),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ur.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),s=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+t.nextConnectionId_++,m=e.lastSessionId;let b=!1,T=null;const R=function(){T?T.close():(b=!0,c())};e.realtime_={close:R,sendRequest:function(W){(0,F.hu)(T,"sendRequest call when we're not connected not allowed."),T.sendRequest(W)}};const B=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[W,ue]=yield Promise.all([e.authTokenProvider_.getToken(B),e.appCheckTokenProvider_.getToken(B)]);b?On("getToken() completed but was canceled"):(On("getToken() completed. Creating connection."),e.authToken_=W&&W.accessToken,e.appCheckToken_=ue&&ue.token,T=new Kh(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,s,c,Ee=>{Li(Ee+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},m))}catch(W){e.log_("Failed to get token: "+W),b||(e.repoInfo_.nodeAdmin&&Li(W),R())}}})()}interrupt(e){On("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){On("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Di,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let s;s=i?i.map(h=>bo(h)).join("$"):"default";const c=this.removeListen_(e,s);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,i){const s=new sn(e).toString();let c;if(this.listens.has(s)){const h=this.listens.get(s);c=h.get(i),h.delete(i),0===h.size&&this.listens.delete(s)}else c=void 0;return c}onAuthRevoked_(e,i){On("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){On("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Va.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Cd.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class jt{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new jt(n,e)}}class Td{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const i=new jt(Xr,n),s=new jt(Xr,e);return 0!==this.compare(i,s)}minPost(){return jt.MIN}}class uc extends Td{static get __EMPTY_NODE(){return eo}static set __EMPTY_NODE(n){eo=n}compare(n,e){return yo(n.name,e.name)}isDefinedOn(n){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return jt.MIN}maxPost(){return new jt(wi,eo)}makePost(n,e){return(0,F.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new jt(n,eo)}toString(){return".key"}}const Do=new uc;class Ka{constructor(n,e,i,s,c=null){this.isReverse_=s,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(h=e?i(n.key,e):1,s&&(h*=-1),h<0)n=this.isReverse_?n.left:n.right;else{if(0===h){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let Op,Ei=(()=>{class t{constructor(e,i,s,c,h){this.key=e,this.value=i,this.color=s??t.RED,this.left=c??ir.EMPTY_NODE,this.right=h??ir.EMPTY_NODE}copy(e,i,s,c,h){return new t(e??this.key,i??this.value,s??this.color,c??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let c=this;const h=s(e,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(e,i,s),null):0===h?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(e,i,s)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return ir.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let s,c;if(s=this,i(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,i),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),0===i(e,s.key)){if(s.right.isEmpty())return ir.EMPTY_NODE;c=s.right.min_(),s=s.copy(c.key,c.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,i))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class ir{constructor(n,e=ir.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new ir(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,Ei.BLACK,null,null))}remove(n){return new ir(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Ei.BLACK,null,null))}get(n){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(n){let e,i=this.root_,s=null;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(s=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Ka(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new Ka(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new Ka(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new Ka(this.root_,null,this.comparator_,!0,n)}}function Mp(t,n){return yo(t.name,n.name)}function Id(t,n){return yo(t,n)}ir.EMPTY_NODE=new class Ja{copy(n,e,i,s,c){return this}insert(n,e,i){return new Ei(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const f=function(t){return"number"==typeof t?"number:"+ou(t):"string:"+t},p=function(t){if(t.isLeafNode()){const n=t.val();(0,F.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,F.r3)(n,".sv"),"Priority must be a string or number.")}else(0,F.hu)(t===Op||t.isEmpty(),"priority of unexpected type.");(0,F.hu)(t===Op||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let y,N,H,I=(()=>{class t{constructor(e,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),p(this.priorityNode_)}static set __childrenNodeConstructor(e){y=e}static get __childrenNodeConstructor(){return y}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xt(e)?this:".priority"===kt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const s=kt(e);return null===s?i:i.isEmpty()&&".priority"!==s?this:((0,F.hu)(".priority"!==s||1===Js(e),".priority must be the last token in a path"),this.updateImmediateChild(s,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Cn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+f(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?ou(this.value_):this.value_,this.lazyHash_=Ha(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,s=typeof this.value_,c=t.VALUE_TYPE_ORDER.indexOf(i),h=t.VALUE_TYPE_ORDER.indexOf(s);return(0,F.hu)(c>=0,"Unknown leaf type: "+i),(0,F.hu)(h>=0,"Unknown leaf type: "+s),c===h?"object"===s?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-c}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const Be=new class ze extends Td{compare(n,e){const i=n.node.getPriority(),s=e.node.getPriority(),c=i.compareTo(s);return 0===c?yo(n.name,e.name):c}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return jt.MIN}maxPost(){return new jt(wi,new I("[PRIORITY-POST]",H))}makePost(n,e){const i=N(n);return new jt(e,new I("[PRIORITY-POST]",i))}toString(){return".priority"}},rt=Math.log(2);class An{constructor(n){this.count=parseInt(Math.log(n+1)/rt,10),this.current_=this.count-1;const s=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&s}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Ir=function(t,n,e,i){t.sort(n);const s=function(b,T){const R=T-b;let O,B;if(0===R)return null;if(1===R)return O=t[b],B=e?e(O):O,new Ei(B,O.node,Ei.BLACK,null,null);{const W=parseInt(R/2,10)+b,ue=s(b,W),Ee=s(W+1,T);return O=t[W],B=e?e(O):O,new Ei(B,O.node,Ei.BLACK,ue,Ee)}},m=function(b){let T=null,R=null,O=t.length;const B=function(ue,Ee){const Ae=O-ue,ct=O;O-=ue;const tt=s(Ae+1,ct),yt=t[Ae],qe=e?e(yt):yt;W(new Ei(qe,yt.node,Ee,null,tt))},W=function(ue){T?(T.left=ue,T=ue):(R=ue,T=ue)};for(let ue=0;ue<b.count;++ue){const Ee=b.nextBitIsOne(),Ae=Math.pow(2,b.count-(ue+1));Ee?B(Ae,Ei.BLACK):(B(Ae,Ei.BLACK),B(Ae,Ei.RED))}return R}(new An(t.length));return new ir(i||n,m)};let ta;const Qa={};class mn{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,F.hu)(Qa&&Be,"ChildrenNode.ts has not been loaded"),ta=ta||new mn({".priority":Qa},{".priority":Be}),ta}get(n){const e=(0,F.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof ir?e:null}hasIndex(n){return(0,F.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,F.hu)(n!==Do,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const c=e.getIterator(jt.Wrap);let m,h=c.getNext();for(;h;)s=s||n.isDefinedOn(h.node),i.push(h),h=c.getNext();m=s?Ir(i,n.getCompare()):Qa;const b=n.toString(),T=Object.assign({},this.indexSet_);T[b]=n;const R=Object.assign({},this.indexes_);return R[b]=m,new mn(R,T)}addToIndexes(n,e){const i=(0,F.UI)(this.indexes_,(s,c)=>{const h=(0,F.DV)(this.indexSet_,c);if((0,F.hu)(h,"Missing index implementation for "+c),s===Qa){if(h.isDefinedOn(n.node)){const m=[],b=e.getIterator(jt.Wrap);let T=b.getNext();for(;T;)T.name!==n.name&&m.push(T),T=b.getNext();return m.push(n),Ir(m,h.getCompare())}return Qa}{const m=e.get(n.name);let b=s;return m&&(b=b.remove(new jt(n.name,m))),b.insert(n,n.node)}});return new mn(i,this.indexSet_)}removeFromIndexes(n,e){const i=(0,F.UI)(this.indexes_,s=>{if(s===Qa)return s;{const c=e.get(n.name);return c?s.remove(new jt(n.name,c)):s}});return new mn(i,this.indexSet_)}}let dc,Ft=(()=>{class t{constructor(e,i,s){this.children_=e,this.priorityNode_=i,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&p(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return dc||(dc=new t(new ir(Id),null,mn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||dc}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?dc:i}}getChild(e){const i=kt(e);return null===i?this:this.getImmediateChild(i).getChild(Cn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const s=new jt(e,i);let c,h;i.isEmpty()?(c=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(s,this.children_)):(c=this.children_.insert(e,i),h=this.indexMap_.addToIndexes(s,this.children_));const m=c.isEmpty()?dc:this.priorityNode_;return new t(c,m,h)}}updateChild(e,i){const s=kt(e);if(null===s)return i;{(0,F.hu)(".priority"!==kt(e)||1===Js(e),".priority must be the last token in a path");const c=this.getImmediateChild(s).updateChild(Cn(e),i);return this.updateImmediateChild(s,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let s=0,c=0,h=!0;if(this.forEachChild(Be,(m,b)=>{i[m]=b.val(e),s++,h&&t.INTEGER_REGEXP_.test(m)?c=Math.max(c,Number(m)):h=!1}),!e&&h&&c<2*s){const m=[];for(const b in i)m[b]=i[b];return m}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+f(this.getPriority().val())+":"),this.forEachChild(Be,(i,s)=>{const c=s.hash();""!==c&&(e+=":"+i+":"+c)}),this.lazyHash_=""===e?"":Ha(e)}return this.lazyHash_}getPredecessorChildName(e,i,s){const c=this.resolveIndex_(s);if(c){const h=c.getPredecessorKey(new jt(e,i));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.minKey();return s&&s.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new jt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.maxKey();return s&&s.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new jt(i,this.children_.get(i)):null}forEachChild(e,i){const s=this.resolveIndex_(e);return s?s.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,jt.Wrap);let h=c.peek();for(;null!=h&&i.compare(h,e)<0;)c.getNext(),h=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,jt.Wrap);let h=c.peek();for(;null!=h&&i.compare(h,e)>0;)c.getNext(),h=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Xa?-1:0}withIndex(e){if(e===Do||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Do||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const s=this.getIterator(Be),c=i.getIterator(Be);let h=s.getNext(),m=c.getNext();for(;h&&m;){if(h.name!==m.name||!h.node.equals(m.node))return!1;h=s.getNext(),m=c.getNext()}return null===h&&null===m}return!1}return!1}}resolveIndex_(e){return e===Do?null:this.indexMap_.get(e.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Xa=new class fu extends Ft{constructor(){super(new ir(Id),Ft.EMPTY_NODE,mn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Ft.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(jt,{MIN:{value:new jt(Xr,Ft.EMPTY_NODE)},MAX:{value:new jt(wi,Xa)}}),uc.__EMPTY_NODE=Ft.EMPTY_NODE,I.__childrenNodeConstructor=Ft,function _(t){Op=t}(Xa),function Re(t){H=t}(Xa);const Pp=!0;function kn(t,n=null){if(null===t)return Ft.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(n=t[".priority"]),(0,F.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new I(t,kn(n));if(t instanceof Array||!Pp){let e=Ft.EMPTY_NODE;return Sn(t,(i,s)=>{if((0,F.r3)(t,i)&&"."!==i.substring(0,1)){const c=kn(s);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(i,c))}}),e.updatePriority(kn(n))}{const e=[];let i=!1;if(Sn(t,(h,m)=>{if("."!==h.substring(0,1)){const b=kn(m);b.isEmpty()||(i=i||!b.getPriority().isEmpty(),e.push(new jt(h,b)))}}),0===e.length)return Ft.EMPTY_NODE;const c=Ir(e,Mp,h=>h.name,Id);if(i){const h=Ir(e,Be.getCompare());return new Ft(c,kn(n),new mn({".priority":h},{".priority":Be}))}return new Ft(c,kn(n),mn.Default)}}!function Q(t){N=t}(kn);class Sd extends Td{constructor(n){super(),this.indexPath_=n,(0,F.hu)(!xt(n)&&".priority"!==kt(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const i=this.extractChild(n.node),s=this.extractChild(e.node),c=i.compareTo(s);return 0===c?yo(n.name,e.name):c}makePost(n,e){const i=kn(n),s=Ft.EMPTY_NODE.updateChild(this.indexPath_,i);return new jt(e,s)}maxPost(){const n=Ft.EMPTY_NODE.updateChild(this.indexPath_,Xa);return new jt(wi,n)}toString(){return Ds(this.indexPath_,0).join("/")}}const hc=new class $m extends Td{compare(n,e){const i=n.node.compareTo(e.node);return 0===i?yo(n.name,e.name):i}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return jt.MIN}maxPost(){return jt.MAX}makePost(n,e){const i=kn(n);return new jt(e,i)}toString(){return".value"}};function Wm(t){return{type:"value",snapshotNode:t}}function sf(t,n){return{type:"child_added",snapshotNode:n,childName:t}}function el(t,n){return{type:"child_removed",snapshotNode:n,childName:t}}function pu(t,n,e){return{type:"child_changed",snapshotNode:n,childName:t,oldSnap:e}}class kp{constructor(n){this.index_=n}updateChild(n,e,i,s,c,h){(0,F.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(e);return m.getChild(s).equals(i.getChild(s))&&m.isEmpty()===i.isEmpty()||(null!=h&&(i.isEmpty()?n.hasChild(e)?h.trackChildChange(el(e,m)):(0,F.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(sf(e,i)):h.trackChildChange(pu(e,i,m))),n.isLeafNode()&&i.isEmpty())?n:n.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(n,e,i){return null!=i&&(n.isLeafNode()||n.forEachChild(Be,(s,c)=>{e.hasChild(s)||i.trackChildChange(el(s,c))}),e.isLeafNode()||e.forEachChild(Be,(s,c)=>{if(n.hasChild(s)){const h=n.getImmediateChild(s);h.equals(c)||i.trackChildChange(pu(s,c,h))}else i.trackChildChange(sf(s,c))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?Ft.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ad{constructor(n){this.indexedFilter_=new kp(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Ad.getStartPost_(n),this.endPost_=Ad.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,i=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return e&&i}updateChild(n,e,i,s,c,h){return this.matches(new jt(e,i))||(i=Ft.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,i,s,c,h)}updateFullNode(n,e,i){e.isLeafNode()&&(e=Ft.EMPTY_NODE);let s=e.withIndex(this.index_);s=s.updatePriority(Ft.EMPTY_NODE);const c=this;return e.forEachChild(Be,(h,m)=>{c.matches(new jt(h,m))||(s=s.updateImmediateChild(h,Ft.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,s,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}return n.getIndex().maxPost()}}class XI{constructor(n){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Ad(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,e,i,s,c,h){return this.rangedFilter_.matches(new jt(e,i))||(i=Ft.EMPTY_NODE),n.getImmediateChild(e).equals(i)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,i,s,c,h):this.fullLimitUpdateChild_(n,e,i,c,h)}updateFullNode(n,e,i){let s;if(e.isLeafNode()||e.isEmpty())s=Ft.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;s=Ft.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const m=c.getNext();if(this.withinDirectionalStart(m)){if(!this.withinDirectionalEnd(m))break;s=s.updateImmediateChild(m.name,m.node),h++}}}else{let c;s=e.withIndex(this.index_),s=s.updatePriority(Ft.EMPTY_NODE),c=this.reverse_?s.getReverseIterator(this.index_):s.getIterator(this.index_);let h=0;for(;c.hasNext();){const m=c.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:s=s.updateImmediateChild(m.name,Ft.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,s,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,i,s,c){let h;if(this.reverse_){const O=this.index_.getCompare();h=(B,W)=>O(W,B)}else h=this.index_.getCompare();const m=n;(0,F.hu)(m.numChildren()===this.limit_,"");const b=new jt(e,i),T=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),R=this.rangedFilter_.matches(b);if(m.hasChild(e)){const O=m.getImmediateChild(e);let B=s.getChildAfterChild(this.index_,T,this.reverse_);for(;null!=B&&(B.name===e||m.hasChild(B.name));)B=s.getChildAfterChild(this.index_,B,this.reverse_);const W=null==B?1:h(B,b);if(R&&!i.isEmpty()&&W>=0)return c?.trackChildChange(pu(e,i,O)),m.updateImmediateChild(e,i);{c?.trackChildChange(el(e,O));const Ee=m.updateImmediateChild(e,Ft.EMPTY_NODE);return null!=B&&this.rangedFilter_.matches(B)?(c?.trackChildChange(sf(B.name,B.node)),Ee.updateImmediateChild(B.name,B.node)):Ee}}return i.isEmpty()?n:R&&h(T,b)>=0?(null!=c&&(c.trackChildChange(el(T.name,T.node)),c.trackChildChange(sf(e,i))),m.updateImmediateChild(e,i).updateImmediateChild(T.name,Ft.EMPTY_NODE)):n}}class xp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Be}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Be}copy(){const n=new xp;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function Ay(t,n,e){const i=t.copy();return i.startSet_=!0,void 0===n&&(n=null),i.indexStartValue_=n,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Zm(t,n,e){const i=t.copy();return i.endSet_=!0,void 0===n&&(n=null),i.indexEndValue_=n,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function af(t,n){const e=t.copy();return e.index_=n,e}function Km(t){const n={};if(t.isDefault())return n;let e;if(t.index_===Be?e="$priority":t.index_===hc?e="$value":t.index_===Do?e="$key":((0,F.hu)(t.index_ instanceof Sd,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,F.Wl)(e),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";n[i]=(0,F.Wl)(t.indexStartValue_),t.startNameSet_&&(n[i]+=","+(0,F.Wl)(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";n[i]=(0,F.Wl)(t.indexEndValue_),t.endNameSet_&&(n[i]+=","+(0,F.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n}function fc(t){const n={};if(t.startSet_&&(n.sp=t.indexStartValue_,t.startNameSet_&&(n.sn=t.indexStartName_),n.sin=!t.startAfterSet_),t.endSet_&&(n.ep=t.indexEndValue_,t.endNameSet_&&(n.en=t.indexEndName_),n.ein=!t.endBeforeSet_),t.limitSet_){n.l=t.limit_;let e=t.viewFrom_;""===e&&(e=t.isViewFromLeft()?"l":"r"),n.vf=e}return t.index_!==Be&&(n.i=t.index_.toString()),n}class Fp extends Ip{constructor(n,e,i,s){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=vs("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,F.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,i,s){const c=n._path.toString();this.log_("Listen called for "+c+" "+n._queryIdentifier);const h=Fp.getListenId_(n,i),m={};this.listens_[h]=m;const b=Km(n._queryParams);this.restRequest_(c+".json",b,(T,R)=>{let O=R;if(404===T&&(O=null,T=null),null===T&&this.onDataUpdate_(c,O,!1,i),(0,F.DV)(this.listens_,h)===m){let B;B=T?401===T?"permission_denied":"rest_error:"+T:"ok",s(B,null)}})}unlisten(n,e){const i=Fp.getListenId_(n,e);delete this.listens_[i]}get(n){const e=Km(n._queryParams),i=n._path.toString(),s=new F.BH;return this.restRequest_(i+".json",e,(c,h)=>{let m=h;404===c&&(m=null,c=null),null===c?(this.onDataUpdate_(i,m,!1,null),s.resolve(m)):s.reject(new Error(m))}),s.promise}refreshAuthToken(n){}restRequest_(n,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,c])=>{s&&s.accessToken&&(e.auth=s.accessToken),c&&c.token&&(e.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(i&&4===m.readyState){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let b=null;if(m.status>=200&&m.status<300){try{b=(0,F.cI)(m.responseText)}catch{Li("Failed to parse JSON response for "+h+": "+m.responseText)}i(null,b)}else 401!==m.status&&404!==m.status&&Li("Got unsuccessful REST response for "+h+" Status: "+m.status),i(m.status);i=null}},m.open("GET",h,!0),m.send()})}}class Jm{constructor(){this.rootNode_=Ft.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function gu(){return{value:null,children:new Map}}function Rd(t,n,e){if(xt(n))t.value=e,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(n,e);else{const i=kt(n);t.children.has(i)||t.children.set(i,gu()),Rd(t.children.get(i),n=Cn(n),e)}}function lf(t,n){if(xt(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const e=t.value;return t.value=null,e.forEachChild(Be,(i,s)=>{Rd(t,new sn(i),s)}),lf(t,n)}}if(t.children.size>0){const e=kt(n);return n=Cn(n),t.children.has(e)&&lf(t.children.get(e),n)&&t.children.delete(e),0===t.children.size}return!0}function Nd(t,n,e){null!==t.value?e(n,t.value):function mu(t,n){t.children.forEach((e,i)=>{n(i,e)})}(t,(i,s)=>{Nd(s,new sn(n.toString()+"/"+i),e)})}class Ry{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&Sn(this.last_,(i,s)=>{e[i]=e[i]-s}),this.last_=n,e}}class Ny{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ry(n);const i=1e4+2e4*Math.random();j(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const n=this.statsListener_.get(),e={};let i=!1;Sn(n,(s,c)=>{c>0&&(0,F.r3)(this.statsToReport_,s)&&(e[s]=c,i=!0)}),i&&this.server_.reportStats(e),j(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var rr=(()=>{return(t=rr||(rr={}))[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",rr;var t})();function e_(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Md{constructor(n,e,i){this.path=n,this.affectedTree=e,this.revert=i,this.type=rr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(xt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new sn(n));return new Md(an(),e,this.revert)}}return(0,F.hu)(kt(this.path)===n,"operationForChild called for unrelated child."),new Md(Cn(this.path),this.affectedTree,this.revert)}}class cf{constructor(n,e){this.source=n,this.path=e,this.type=rr.LISTEN_COMPLETE}operationForChild(n){return xt(this.path)?new cf(this.source,an()):new cf(this.source,Cn(this.path))}}class pc{constructor(n,e,i){this.source=n,this.path=e,this.snap=i,this.type=rr.OVERWRITE}operationForChild(n){return xt(this.path)?new pc(this.source,an(),this.snap.getImmediateChild(n)):new pc(this.source,Cn(this.path),this.snap)}}class Od{constructor(n,e,i){this.source=n,this.path=e,this.children=i,this.type=rr.MERGE}operationForChild(n){if(xt(this.path)){const e=this.children.subtree(new sn(n));return e.isEmpty()?null:e.value?new pc(this.source,an(),e.value):new Od(this.source,an(),e)}return(0,F.hu)(kt(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Od(this.source,Cn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class tl{constructor(n,e,i){this.node_=n,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(xt(n))return this.isFullyInitialized()&&!this.filtered_;const e=kt(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class eS{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function nl(t,n,e,i,s,c){const h=i.filter(m=>m.type===e);h.sort((m,b)=>function Pd(t,n,e){if(null==n.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new jt(n.childName,n.snapshotNode),s=new jt(e.childName,e.snapshotNode);return t.index_.compare(i,s)}(t,m,b)),h.forEach(m=>{const b=function MD(t,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,t.index_)),n}(t,m,c);s.forEach(T=>{T.respondsTo(m.type)&&n.push(T.createEvent(b,t.query_))})})}function gc(t,n){return{eventCache:t,serverCache:n}}function uf(t,n,e,i){return gc(new tl(n,e,i),t.serverCache)}function t_(t,n,e,i){return gc(t.eventCache,new tl(n,e,i))}function Bp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function _u(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let n_;class xn{constructor(n,e=(()=>(n_||(n_=new ir(pd)),n_))()){this.value=n,this.children=e}static fromObject(n){let e=new xn(null);return Sn(n,(i,s)=>{e=e.set(new sn(i),s)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:an(),value:this.value};if(xt(n))return null;{const i=kt(n),s=this.children.get(i);if(null!==s){const c=s.findRootMostMatchingPathAndValue(Cn(n),e);return null!=c?{path:Pn(new sn(i),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(xt(n))return this;{const e=kt(n),i=this.children.get(e);return null!==i?i.subtree(Cn(n)):new xn(null)}}set(n,e){if(xt(n))return new xn(e,this.children);{const i=kt(n),c=(this.children.get(i)||new xn(null)).set(Cn(n),e),h=this.children.insert(i,c);return new xn(this.value,h)}}remove(n){if(xt(n))return this.children.isEmpty()?new xn(null):new xn(null,this.children);{const e=kt(n),i=this.children.get(e);if(i){const s=i.remove(Cn(n));let c;return c=s.isEmpty()?this.children.remove(e):this.children.insert(e,s),null===this.value&&c.isEmpty()?new xn(null):new xn(this.value,c)}return this}}get(n){if(xt(n))return this.value;{const e=kt(n),i=this.children.get(e);return i?i.get(Cn(n)):null}}setTree(n,e){if(xt(n))return e;{const i=kt(n),c=(this.children.get(i)||new xn(null)).setTree(Cn(n),e);let h;return h=c.isEmpty()?this.children.remove(i):this.children.insert(i,c),new xn(this.value,h)}}fold(n){return this.fold_(an(),n)}fold_(n,e){const i={};return this.children.inorderTraversal((s,c)=>{i[s]=c.fold_(Pn(n,s),e)}),e(n,this.value,i)}findOnPath(n,e){return this.findOnPath_(n,an(),e)}findOnPath_(n,e,i){const s=!!this.value&&i(e,this.value);if(s)return s;if(xt(n))return null;{const c=kt(n),h=this.children.get(c);return h?h.findOnPath_(Cn(n),Pn(e,c),i):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,an(),e)}foreachOnPath_(n,e,i){if(xt(n))return this;{this.value&&i(e,this.value);const s=kt(n),c=this.children.get(s);return c?c.foreachOnPath_(Cn(n),Pn(e,s),i):new xn(null)}}foreach(n){this.foreach_(an(),n)}foreach_(n,e){this.children.inorderTraversal((i,s)=>{s.foreach_(Pn(n,i),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,i)=>{i.value&&n(e,i.value)})}}class Eo{constructor(n){this.writeTree_=n}static empty(){return new Eo(new xn(null))}}function vu(t,n,e){if(xt(n))return new Eo(new xn(e));{const i=t.writeTree_.findRootMostValueAndPath(n);if(null!=i){const s=i.path;let c=i.value;const h=Ui(s,n);return c=c.updateChild(h,e),new Eo(t.writeTree_.set(s,c))}{const s=new xn(e),c=t.writeTree_.setTree(n,s);return new Eo(c)}}}function i_(t,n,e){let i=t;return Sn(e,(s,c)=>{i=vu(i,Pn(n,s),c)}),i}function Up(t,n){if(xt(n))return Eo.empty();{const e=t.writeTree_.setTree(n,new xn(null));return new Eo(e)}}function yu(t,n){return null!=bu(t,n)}function bu(t,n){const e=t.writeTree_.findRootMostValueAndPath(n);return null!=e?t.writeTree_.get(e.path).getChild(Ui(e.path,n)):null}function Oy(t){const n=[],e=t.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Be,(i,s)=>{n.push(new jt(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{null!=s.value&&n.push(new jt(i,s.value))}),n}function mc(t,n){if(xt(n))return t;{const e=bu(t,n);return new Eo(null!=e?new xn(e):t.writeTree_.subtree(n))}}function r_(t){return t.writeTree_.isEmpty()}function kd(t,n){return Py(an(),t.writeTree_,n)}function Py(t,n,e){if(null!=n.value)return e.updateChild(t,n.value);{let i=null;return n.children.inorderTraversal((s,c)=>{".priority"===s?((0,F.hu)(null!==c.value,"Priority writes must always be leaf nodes"),i=c.value):e=Py(Pn(t,s),c,e)}),!e.getChild(t).isEmpty()&&null!==i&&(e=e.updateChild(Pn(t,".priority"),i)),e}}function Vp(t,n){return By(n,t)}function tS(t,n){if(t.snap)return Cr(t.path,n);for(const e in t.children)if(t.children.hasOwnProperty(e)&&Cr(Pn(t.path,e),n))return!0;return!1}function ky(t){return t.visible}function kD(t,n,e){let i=Eo.empty();for(let s=0;s<t.length;++s){const c=t[s];if(n(c)){const h=c.path;let m;if(c.snap)Cr(e,h)?(m=Ui(e,h),i=vu(i,m,c.snap)):Cr(h,e)&&(m=Ui(h,e),i=vu(i,an(),c.snap.getChild(m)));else{if(!c.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(Cr(e,h))m=Ui(e,h),i=i_(i,m,c.children);else if(Cr(h,e))if(m=Ui(h,e),xt(m))i=i_(i,an(),c.children);else{const b=(0,F.DV)(c.children,kt(m));if(b){const T=b.getChild(Cn(m));i=vu(i,an(),T)}}}}}return i}function o_(t,n,e,i,s){if(i||s){const c=mc(t.visibleWrites,n);return!s&&r_(c)?e:s||null!=e||yu(c,an())?kd(kD(t.allWrites,function(T){return(T.visible||s)&&(!i||!~i.indexOf(T.writeId))&&(Cr(T.path,n)||Cr(n,T.path))},n),e||Ft.EMPTY_NODE):null}{const c=bu(t.visibleWrites,n);if(null!=c)return c;{const h=mc(t.visibleWrites,n);return r_(h)?e:null!=e||yu(h,an())?kd(h,e||Ft.EMPTY_NODE):null}}}function Hp(t,n,e,i){return o_(t.writeTree,t.treePath,n,e,i)}function Gp(t,n){return function xy(t,n,e){let i=Ft.EMPTY_NODE;const s=bu(t.visibleWrites,n);if(s)return s.isLeafNode()||s.forEachChild(Be,(c,h)=>{i=i.updateImmediateChild(c,h)}),i;if(e){const c=mc(t.visibleWrites,n);return e.forEachChild(Be,(h,m)=>{const b=kd(mc(c,new sn(h)),m);i=i.updateImmediateChild(h,b)}),Oy(c).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}return Oy(mc(t.visibleWrites,n)).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}(t.writeTree,t.treePath,n)}function Ly(t,n,e,i){return function xD(t,n,e,i,s){(0,F.hu)(i||s,"Either existingEventSnap or existingServerSnap must exist");const c=Pn(n,e);if(yu(t.visibleWrites,c))return null;{const h=mc(t.visibleWrites,c);return r_(h)?s.getChild(e):kd(h,s.getChild(e))}}(t.writeTree,t.treePath,n,e,i)}function jp(t,n){return function FD(t,n){return bu(t.visibleWrites,n)}(t.writeTree,Pn(t.treePath,n))}function s_(t,n,e){return function Fy(t,n,e,i){const s=Pn(n,e),c=bu(t.visibleWrites,s);return null!=c?c:i.isCompleteForChild(e)?kd(mc(t.visibleWrites,s),i.getNode().getImmediateChild(e)):null}(t.writeTree,t.treePath,n,e)}function a_(t,n){return By(Pn(t.treePath,n),t.writeTree)}function By(t,n){return{treePath:t,writeTree:n}}class UD{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,i=n.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const c=s.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(i,pu(i,n.snapshotNode,s.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(i,el(i,s.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(i,sf(i,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,F.g5)("Illegal combination of changes: "+n+" occurred after "+s);this.changeMap.set(i,pu(i,n.snapshotNode,s.oldSnap))}}else this.changeMap.set(i,n)}getChanges(){return Array.from(this.changeMap.values())}}const Ut=new class VD{getCompleteChild(n){return null}getChildAfterChild(n,e,i){return null}};class $p{constructor(n,e,i=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const i=null!=this.optCompleteServerCache_?new tl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return s_(this.writes_,n,i)}}getChildAfterChild(n,e,i){const s=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:_u(this.viewCache_),c=function BD(t,n,e,i,s,c){return function LD(t,n,e,i,s,c,h){let m;const b=mc(t.visibleWrites,n),T=bu(b,an());if(null!=T)m=T;else{if(null==e)return[];m=kd(b,e)}if(m=m.withIndex(h),m.isEmpty()||m.isLeafNode())return[];{const R=[],O=h.getCompare(),B=c?m.getReverseIteratorFrom(i,h):m.getIteratorFrom(i,h);let W=B.getNext();for(;W&&R.length<s;)0!==O(W,i)&&R.push(W),W=B.getNext();return R}}(t.writeTree,t.treePath,n,e,i,s,c)}(this.writes_,s,e,1,i,n);return 0===c.length?null:c[0]}}function l_(t,n,e,i,s,c){const h=n.eventCache;if(null!=jp(i,e))return n;{let m,b;if(xt(e))if((0,F.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const T=_u(n),O=Gp(i,T instanceof Ft?T:Ft.EMPTY_NODE);m=t.filter.updateFullNode(n.eventCache.getNode(),O,c)}else{const T=Hp(i,_u(n));m=t.filter.updateFullNode(n.eventCache.getNode(),T,c)}else{const T=kt(e);if(".priority"===T){(0,F.hu)(1===Js(e),"Can't have a priority with additional path components");const R=h.getNode();b=n.serverCache.getNode();const O=Ly(i,e,R,b);m=null!=O?t.filter.updatePriority(R,O):h.getNode()}else{const R=Cn(e);let O;if(h.isCompleteForChild(T)){b=n.serverCache.getNode();const B=Ly(i,e,h.getNode(),b);O=null!=B?h.getNode().getImmediateChild(T).updateChild(R,B):h.getNode().getImmediateChild(T)}else O=s_(i,T,n.serverCache);m=null!=O?t.filter.updateChild(h.getNode(),T,O,R,s,c):h.getNode()}}return uf(n,m,h.isFullyInitialized()||xt(e),t.filter.filtersNodes())}}function Wp(t,n,e,i,s,c,h,m){const b=n.serverCache;let T;const R=h?t.filter:t.filter.getIndexedFilter();if(xt(e))T=R.updateFullNode(b.getNode(),i,null);else if(R.filtersNodes()&&!b.isFiltered()){const W=b.getNode().updateChild(e,i);T=R.updateFullNode(b.getNode(),W,null)}else{const W=kt(e);if(!b.isCompleteForPath(e)&&Js(e)>1)return n;const ue=Cn(e),Ae=b.getNode().getImmediateChild(W).updateChild(ue,i);T=".priority"===W?R.updatePriority(b.getNode(),Ae):R.updateChild(b.getNode(),W,Ae,ue,Ut,null)}const O=t_(n,T,b.isFullyInitialized()||xt(e),R.filtersNodes());return l_(t,O,e,s,new $p(s,O,c),m)}function zp(t,n,e,i,s,c,h){const m=n.eventCache;let b,T;const R=new $p(s,n,c);if(xt(e))T=t.filter.updateFullNode(n.eventCache.getNode(),i,h),b=uf(n,T,!0,t.filter.filtersNodes());else{const O=kt(e);if(".priority"===O)T=t.filter.updatePriority(n.eventCache.getNode(),i),b=uf(n,T,m.isFullyInitialized(),m.isFiltered());else{const B=Cn(e),W=m.getNode().getImmediateChild(O);let ue;if(xt(B))ue=i;else{const Ee=R.getCompleteChild(O);ue=null!=Ee?".priority"===Qh(B)&&Ee.getChild(ef(B)).isEmpty()?Ee:Ee.updateChild(B,i):Ft.EMPTY_NODE}b=W.equals(ue)?n:uf(n,t.filter.updateChild(m.getNode(),O,ue,B,R,h),m.isFullyInitialized(),t.filter.filtersNodes())}}return b}function Hy(t,n){return t.eventCache.isCompleteForChild(n)}function $D(t,n,e){return e.foreach((i,s)=>{n=n.updateChild(i,s)}),n}function Yp(t,n,e,i,s,c,h,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let T,b=n;T=xt(e)?i:new xn(null).setTree(e,i);const R=n.serverCache.getNode();return T.children.inorderTraversal((O,B)=>{if(R.hasChild(O)){const ue=$D(0,n.serverCache.getNode().getImmediateChild(O),B);b=Wp(t,b,new sn(O),ue,s,c,h,m)}}),T.children.inorderTraversal((O,B)=>{const W=!n.serverCache.isCompleteForChild(O)&&null===B.value;if(!R.hasChild(O)&&!W){const Ee=$D(0,n.serverCache.getNode().getImmediateChild(O),B);b=Wp(t,b,new sn(O),Ee,s,c,h,m)}}),b}class c_{constructor(n,e){this.query_=n,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new kp(i.getIndex()),c=function Iy(t){return t.loadsAllData()?new kp(t.getIndex()):t.hasLimit()?new XI(t):new Ad(t)}(i);this.processor_=function Uy(t){return{filter:t}}(c);const h=e.serverCache,m=e.eventCache,b=s.updateFullNode(Ft.EMPTY_NODE,h.getNode(),null),T=c.updateFullNode(Ft.EMPTY_NODE,m.getNode(),null),R=new tl(b,h.isFullyInitialized(),s.filtersNodes()),O=new tl(T,m.isFullyInitialized(),c.filtersNodes());this.viewCache_=gc(O,R),this.eventGenerator_=new eS(this.query_)}get query(){return this.query_}}function iS(t,n){const e=_u(t.viewCache_);return e&&(t.query._queryParams.loadsAllData()||!xt(n)&&!e.getImmediateChild(kt(n)).isEmpty())?e.getChild(n):null}function YD(t){return 0===t.eventRegistrations_.length}function jy(t,n,e){const i=[];if(e){(0,F.hu)(null==n,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(e,s);h&&i.push(h)})}if(n){let s=[];for(let c=0;c<t.eventRegistrations_.length;++c){const h=t.eventRegistrations_[c];if(h.matches(n)){if(n.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(c+1));break}}else s.push(h)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function d_(t,n,e,i){n.type===rr.MERGE&&null!==n.source.queryId&&((0,F.hu)(_u(t.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(Bp(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,c=function HD(t,n,e,i,s){const c=new UD;let h,m;if(e.type===rr.OVERWRITE){const T=e;T.source.fromUser?h=zp(t,n,T.path,T.snap,i,s,c):((0,F.hu)(T.source.fromServer,"Unknown source."),m=T.source.tagged||n.serverCache.isFiltered()&&!xt(T.path),h=Wp(t,n,T.path,T.snap,i,s,m,c))}else if(e.type===rr.MERGE){const T=e;T.source.fromUser?h=function jD(t,n,e,i,s,c,h){let m=n;return i.foreach((b,T)=>{const R=Pn(e,b);Hy(n,kt(R))&&(m=zp(t,m,R,T,s,c,h))}),i.foreach((b,T)=>{const R=Pn(e,b);Hy(n,kt(R))||(m=zp(t,m,R,T,s,c,h))}),m}(t,n,T.path,T.children,i,s,c):((0,F.hu)(T.source.fromServer,"Unknown source."),m=T.source.tagged||n.serverCache.isFiltered(),h=Yp(t,n,T.path,T.children,i,s,m,c))}else if(e.type===rr.ACK_USER_WRITE){const T=e;h=T.revert?function WD(t,n,e,i,s,c){let h;if(null!=jp(i,e))return n;{const m=new $p(i,n,s),b=n.eventCache.getNode();let T;if(xt(e)||".priority"===kt(e)){let R;if(n.serverCache.isFullyInitialized())R=Hp(i,_u(n));else{const O=n.serverCache.getNode();(0,F.hu)(O instanceof Ft,"serverChildren would be complete if leaf node"),R=Gp(i,O)}T=t.filter.updateFullNode(b,R,c)}else{const R=kt(e);let O=s_(i,R,n.serverCache);null==O&&n.serverCache.isCompleteForChild(R)&&(O=b.getImmediateChild(R)),T=null!=O?t.filter.updateChild(b,R,O,Cn(e),m,c):n.eventCache.getNode().hasChild(R)?t.filter.updateChild(b,R,Ft.EMPTY_NODE,Cn(e),m,c):b,T.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Hp(i,_u(n)),h.isLeafNode()&&(T=t.filter.updateFullNode(T,h,c)))}return h=n.serverCache.isFullyInitialized()||null!=jp(i,an()),uf(n,T,h,t.filter.filtersNodes())}}(t,n,T.path,i,s,c):function Gy(t,n,e,i,s,c,h){if(null!=jp(s,e))return n;const m=n.serverCache.isFiltered(),b=n.serverCache;if(null!=i.value){if(xt(e)&&b.isFullyInitialized()||b.isCompleteForPath(e))return Wp(t,n,e,b.getNode().getChild(e),s,c,m,h);if(xt(e)){let T=new xn(null);return b.getNode().forEachChild(Do,(R,O)=>{T=T.set(new sn(R),O)}),Yp(t,n,e,T,s,c,m,h)}return n}{let T=new xn(null);return i.foreach((R,O)=>{const B=Pn(e,R);b.isCompleteForPath(B)&&(T=T.set(R,b.getNode().getChild(B)))}),Yp(t,n,e,T,s,c,m,h)}}(t,n,T.path,T.affectedTree,i,s,c)}else{if(e.type!==rr.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);h=function wu(t,n,e,i,s){const c=n.serverCache;return l_(t,t_(n,c.getNode(),c.isFullyInitialized()||xt(e),c.isFiltered()),e,i,Ut,s)}(t,n,e.path,i,c)}const b=c.getChanges();return function GD(t,n,e){const i=n.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),c=Bp(t);(e.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(c)||!i.getNode().getPriority().equals(c.getPriority()))&&e.push(Wm(Bp(n)))}}(n,h,b),{viewCache:h,changes:b}}(t.processor_,s,n,e,i);return function Vy(t,n){(0,F.hu)(n.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(n.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,c.viewCache),(0,F.hu)(c.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,$y(t,c.changes,c.viewCache.eventCache.getNode(),null)}function $y(t,n,e,i){return function ND(t,n,e,i){const s=[],c=[];return n.forEach(h=>{"child_changed"===h.type&&t.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(function Ty(t,n){return{type:"child_moved",snapshotNode:n,childName:t}}(h.childName,h.snapshotNode))}),nl(t,s,"child_removed",n,i,e),nl(t,s,"child_added",n,i,e),nl(t,s,"child_moved",c,i,e),nl(t,s,"child_changed",n,i,e),nl(t,s,"value",n,i,e),s}(t.eventGenerator_,n,e,i?[i]:t.eventRegistrations_)}let rl,Fd;class Wy{constructor(){this.views=new Map}}function qp(t,n,e,i){const s=n.source.queryId;if(null!==s){const c=t.views.get(s);return(0,F.hu)(null!=c,"SyncTree gave us an op for an invalid query."),d_(c,n,e,i)}{let c=[];for(const h of t.views.values())c=c.concat(d_(h,n,e,i));return c}}function Yy(t,n,e,i,s){const h=t.views.get(n._queryIdentifier);if(!h){let m=Hp(e,s?i:null),b=!1;m?b=!0:i instanceof Ft?(m=Gp(e,i),b=!1):(m=Ft.EMPTY_NODE,b=!1);const T=gc(new tl(m,b,!1),new tl(i,s,!1));return new c_(n,T)}return h}function Zy(t){const n=[];for(const e of t.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function _c(t,n){let e=null;for(const i of t.views.values())e=e||iS(i,n);return e}function h_(t,n){return n._queryParams.loadsAllData()?df(t):t.views.get(n._queryIdentifier)}function qy(t,n){return null!=h_(t,n)}function ol(t){return null!=df(t)}function df(t){for(const n of t.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let JD=1;class QD{constructor(n){this.listenProvider_=n,this.syncPointTree_=new xn(null),this.pendingWriteTree_=function Es(){return{visibleWrites:Eo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vc(t,n,e,i,s){return function xd(t,n,e,i,s){(0,F.hu)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),t.allWrites.push({path:n,snap:e,writeId:i,visible:s}),s&&(t.visibleWrites=vu(t.visibleWrites,n,e)),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i,s),s?bc(t,new pc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function yc(t,n,e=!1){const i=function OD(t,n){for(let e=0;e<t.allWrites.length;e++){const i=t.allWrites[e];if(i.writeId===n)return i}return null}(t.pendingWriteTree_,n);if(function PD(t,n){const e=t.allWrites.findIndex(m=>m.writeId===n);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[e];t.allWrites.splice(e,1);let s=i.visible,c=!1,h=t.allWrites.length-1;for(;s&&h>=0;){const m=t.allWrites[h];m.visible&&(h>=e&&tS(m,i.path)?s=!1:Cr(i.path,m.path)&&(c=!0)),h--}return!!s&&(c?(function nS(t){t.visibleWrites=kD(t.allWrites,ky,an()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=Up(t.visibleWrites,i.path):Sn(i.children,b=>{t.visibleWrites=Up(t.visibleWrites,Pn(i.path,b))}),!0))}(t.pendingWriteTree_,n)){let c=new xn(null);return null!=i.snap?c=c.set(an(),!0):Sn(i.children,h=>{c=c.set(new sn(h),!0)}),bc(t,new Md(i.path,c,e))}return[]}function Ld(t,n,e){return bc(t,new pc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function sl(t,n,e,i,s=!1){const c=n._path,h=t.syncPointTree_.get(c);let m=[];if(h&&("default"===n._queryIdentifier||qy(h,n))){const b=function KD(t,n,e,i){const s=n._queryIdentifier,c=[];let h=[];const m=ol(t);if("default"===s)for(const[b,T]of t.views.entries())h=h.concat(jy(T,e,i)),YD(T)&&(t.views.delete(b),T.query._queryParams.loadsAllData()||c.push(T.query));else{const b=t.views.get(s);b&&(h=h.concat(jy(b,e,i)),YD(b)&&(t.views.delete(s),b.query._queryParams.loadsAllData()||c.push(b.query)))}return m&&!ol(t)&&c.push(new(function Zp(){return(0,F.hu)(rl,"Reference.ts has not been loaded"),rl}())(n._repo,n._path)),{removed:c,events:h}}(h,n,e,i);(function ZD(t){return 0===t.views.size})(h)&&(t.syncPointTree_=t.syncPointTree_.remove(c));const T=b.removed;if(m=b.events,!s){const R=-1!==T.findIndex(B=>B._queryParams.loadsAllData()),O=t.syncPointTree_.findOnPath(c,(B,W)=>ol(W));if(R&&!O){const B=t.syncPointTree_.subtree(c);if(!B.isEmpty()){const W=function Qy(t){return t.fold((n,e,i)=>{if(e&&ol(e))return[df(e)];{let s=[];return e&&(s=Zy(e)),Sn(i,(c,h)=>{s=s.concat(h)}),s}})}(B);for(let ue=0;ue<W.length;++ue){const Ee=W[ue],Ae=Ee.query,ct=p_(t,Ee);t.listenProvider_.startListening(Bd(Ae),Eu(t,Ae),ct.hashFn,ct.onComplete)}}}!O&&T.length>0&&!i&&(R?t.listenProvider_.stopListening(Bd(n),null):T.forEach(B=>{const W=t.queryToTagMap.get(eg(B));t.listenProvider_.stopListening(Bd(B),W)}))}!function tE(t,n){for(let e=0;e<n.length;++e){const i=n[e];if(!i._queryParams.loadsAllData()){const s=eg(i),c=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(c)}}}(t,T)}return m}function Jp(t,n,e,i){const s=g_(t,i);if(null!=s){const c=tg(s),h=c.path,m=c.queryId,b=Ui(h,n);return m_(t,h,new pc(e_(m),b,e))}return[]}function ff(t,n,e,i=!1){const s=n._path;let c=null,h=!1;t.syncPointTree_.foreachOnPath(s,(B,W)=>{const ue=Ui(B,s);c=c||_c(W,ue),h=h||ol(W)});let b,m=t.syncPointTree_.get(s);m?(h=h||ol(m),c=c||_c(m,an())):(m=new Wy,t.syncPointTree_=t.syncPointTree_.set(s,m)),null!=c?b=!0:(b=!1,c=Ft.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((W,ue)=>{const Ee=_c(ue,an());Ee&&(c=c.updateImmediateChild(W,Ee))}));const T=qy(m,n);if(!T&&!n._queryParams.loadsAllData()){const B=eg(n);(0,F.hu)(!t.queryToTagMap.has(B),"View does not exist, but we have a tag");const W=function nE(){return JD++}();t.queryToTagMap.set(B,W),t.tagToQueryMap.set(W,B)}let O=function qD(t,n,e,i,s,c){const h=Yy(t,n,i,s,c);return t.views.has(n._queryIdentifier)||t.views.set(n._queryIdentifier,h),function rS(t,n){t.eventRegistrations_.push(n)}(h,e),function oS(t,n){const e=t.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Be,(c,h)=>{i.push(sf(c,h))}),e.isFullyInitialized()&&i.push(Wm(e.getNode())),$y(t,i,e.getNode(),n)}(h,e)}(m,n,e,Vp(t.pendingWriteTree_,s),c,b);if(!T&&!h&&!i){const B=h_(m,n);O=O.concat(function Co(t,n,e){const i=n._path,s=Eu(t,n),c=p_(t,e),h=t.listenProvider_.startListening(Bd(n),s,c.hashFn,c.onComplete),m=t.syncPointTree_.subtree(i);if(s)(0,F.hu)(!ol(m.value),"If we're adding a query, it shouldn't be shadowed");else{const b=m.fold((T,R,O)=>{if(!xt(T)&&R&&ol(R))return[df(R).query];{let B=[];return R&&(B=B.concat(Zy(R).map(W=>W.query))),Sn(O,(W,ue)=>{B=B.concat(ue)}),B}});for(let T=0;T<b.length;++T){const R=b[T];t.listenProvider_.stopListening(Bd(R),Eu(t,R))}}return h}(t,n,B))}return O}function Du(t,n,e){const s=t.pendingWriteTree_,c=t.syncPointTree_.findOnPath(n,(h,m)=>{const T=_c(m,Ui(h,n));if(T)return T});return o_(s,n,c,e,!0)}function bc(t,n){return Qp(n,t.syncPointTree_,null,Vp(t.pendingWriteTree_,an()))}function Qp(t,n,e,i){if(xt(t.path))return Xp(t,n,e,i);{const s=n.get(an());null==e&&null!=s&&(e=_c(s,an()));let c=[];const h=kt(t.path),m=t.operationForChild(h),b=n.children.get(h);if(b&&m){const T=e?e.getImmediateChild(h):null,R=a_(i,h);c=c.concat(Qp(m,b,T,R))}return s&&(c=c.concat(qp(s,t,i,e))),c}}function Xp(t,n,e,i){const s=n.get(an());null==e&&null!=s&&(e=_c(s,an()));let c=[];return n.children.inorderTraversal((h,m)=>{const b=e?e.getImmediateChild(h):null,T=a_(i,h),R=t.operationForChild(h);R&&(c=c.concat(Xp(R,m,b,T)))}),s&&(c=c.concat(qp(s,t,i,e))),c}function p_(t,n){const e=n.query,i=Eu(t,e);return{hashFn:()=>(function u_(t){return t.viewCache_.serverCache.getNode()}(n)||Ft.EMPTY_NODE).hash(),onComplete:s=>{if("ok"===s)return i?function Kp(t,n,e){const i=g_(t,e);if(i){const s=tg(i),c=s.path,h=s.queryId,m=Ui(c,n);return m_(t,c,new cf(e_(h),m))}return[]}(t,e._path,i):function eE(t,n){return bc(t,new cf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(t,e._path);{const c=function Hh(t,n){let e="Unknown Error";"too_big"===t?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?e="Client doesn't have permission to access the desired data.":"unavailable"===t&&(e="The service is unavailable");const i=new Error(t+" at "+n._path.toString()+": "+e);return i.code=t.toUpperCase(),i}(s,e);return sl(t,e,null,c)}}}}function Eu(t,n){const e=eg(n);return t.queryToTagMap.get(e)}function eg(t){return t._path.toString()+"$"+t._queryIdentifier}function g_(t,n){return t.tagToQueryMap.get(n)}function tg(t){const n=t.indexOf("$");return(0,F.hu)(-1!==n&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new sn(t.substr(0,n))}}function m_(t,n,e){const i=t.syncPointTree_.get(n);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),qp(i,e,Vp(t.pendingWriteTree_,n),null)}function Bd(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function f_(){return(0,F.hu)(Fd,"Reference.ts has not been loaded"),Fd}())(t._repo,t._path):t}class __{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new __(e)}node(){return this.node_}}class v_{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=Pn(this.path_,n);return new v_(this.syncTree_,e)}node(){return Du(this.syncTree_,this.path_)}}const aS=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},ng=function(t,n,e){return t&&"object"==typeof t?((0,F.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Xy(t[".sv"],n,e):"object"==typeof t[".sv"]?iE(t[".sv"],n):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Xy=function(t,n,e){if("timestamp"===t)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+t)},iE=function(t,n,e){t.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const s=n.node();if((0,F.hu)(null!==s&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const h=s.getValue();return"number"!=typeof h?i:h+i},e0=function(t,n,e,i){return ig(n,new v_(e,t),i)},y_=function(t,n,e){return ig(t,new __(n),e)};function ig(t,n,e){const i=t.getPriority().val(),s=ng(i,n.getImmediateChild(".priority"),e);let c;if(t.isLeafNode()){const h=t,m=ng(h.getValue(),n,e);return m!==h.getValue()||s!==h.getPriority().val()?new I(m,kn(s)):t}{const h=t;return c=h,s!==h.getPriority().val()&&(c=c.updatePriority(new I(s))),h.forEachChild(Be,(m,b)=>{const T=ig(b,n.getImmediateChild(m),e);T!==b&&(c=c.updateImmediateChild(m,T))}),c}}class b_{constructor(n="",e=null,i={children:{},childCount:0}){this.name=n,this.parent=e,this.node=i}}function rg(t,n){let e=n instanceof sn?n:new sn(n),i=t,s=kt(e);for(;null!==s;){const c=(0,F.DV)(i.node.children,s)||{children:{},childCount:0};i=new b_(s,i,c),e=Cn(e),s=kt(e)}return i}function al(t){return t.node.value}function w_(t,n){t.node.value=n,D_(t)}function t0(t){return t.node.childCount>0}function og(t,n){Sn(t.node.children,(e,i)=>{n(new b_(e,t,i))})}function n0(t,n,e,i){e&&!i&&n(t),og(t,s=>{n0(s,n,!0,i)}),e&&i&&n(t)}function Cu(t){return new sn(null===t.parent?t.name:Cu(t.parent)+"/"+t.name)}function D_(t){null!==t.parent&&function oE(t,n,e){const i=function rE(t){return void 0===al(t)&&!t0(t)}(e),s=(0,F.r3)(t.node.children,n);i&&s?(delete t.node.children[n],t.node.childCount--,D_(t)):!i&&!s&&(t.node.children[n]=e.node,t.node.childCount++,D_(t))}(t.parent,t.name,t)}const r0=/[\[\].#$\/\u0000-\u001F\u007F]/,sE=/[\[\].#$\u0000-\u001F\u007F]/,E_=10485760,sg=function(t){return"string"==typeof t&&0!==t.length&&!r0.test(t)},ag=function(t){return"string"==typeof t&&0!==t.length&&!sE.test(t)},pf=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!ru(t)||t&&"object"==typeof t&&(0,F.r3)(t,".sv")},To=function(t,n,e,i){i&&void 0===n||wc((0,F.gK)(t,"value"),n,e)},wc=function(t,n,e){const i=e instanceof sn?new Ap(e,t):e;if(void 0===n)throw new Error(t+"contains undefined "+Xs(i));if("function"==typeof n)throw new Error(t+"contains a function "+Xs(i)+" with contents = "+n.toString());if(ru(n))throw new Error(t+"contains "+n.toString()+" "+Xs(i));if("string"==typeof n&&n.length>E_/3&&(0,F.ug)(n)>E_)throw new Error(t+"contains a string greater than "+E_+" utf8 bytes "+Xs(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let s=!1,c=!1;if(Sn(n,(h,m)=>{if(".value"===h)s=!0;else if(".priority"!==h&&".sv"!==h&&(c=!0,!sg(h)))throw new Error(t+" contains an invalid key ("+h+") "+Xs(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function tf(t,n){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(n),t.byteLength_+=(0,F.ug)(n),Rp(t)})(i,h),wc(t,m,i),function nf(t){const n=t.parts_.pop();t.byteLength_-=(0,F.ug)(n),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),s&&c)throw new Error(t+' contains ".value" child '+Xs(i)+" in addition to actual children.")}},lE=function(t,n,e,i){if(i&&void 0===n)return;const s=(0,F.gK)(t,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");const c=[];Sn(n,(h,m)=>{const b=new sn(h);if(wc(s,m,Pn(e,b)),".priority"===Qh(b)&&!pf(m))throw new Error(s+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(b)}),function(t,n){let e,i;for(e=0;e<n.length;e++){i=n[e];const c=Ds(i);for(let h=0;h<c.length;h++)if((".priority"!==c[h]||h!==c.length-1)&&!sg(c[h]))throw new Error(t+"contains an invalid key ("+c[h]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(Er);let s=null;for(e=0;e<n.length;e++){if(i=n[e],null!==s&&Cr(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}}(s,c)},gf=function(t,n,e){if(!e||void 0!==n){if(ru(n))throw new Error((0,F.gK)(t,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!pf(n))throw new Error((0,F.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},cg=function(t,n,e,i){if(!(i&&void 0===e||sg(e)))throw new Error((0,F.gK)(t,n)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ud=function(t,n,e,i){if(!(i&&void 0===e||ag(e)))throw new Error((0,F.gK)(t,n)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},o0=function(t,n,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ud(t,n,e,i)},Io=function(t,n){if(".info"===kt(n))throw new Error(t+" failed = Can't modify data under /.info/")},C_=function(t,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!sg(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ag(t)}(e))throw new Error((0,F.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class T_{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Go(t,n){let e=null;for(let i=0;i<n.length;i++){const s=n[i],c=s.getPath();null!==e&&!Qs(c,e.path)&&(t.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(s)}e&&t.eventLists_.push(e)}function mf(t,n,e){Go(t,e),Vd(t,i=>Qs(i,n))}function Sr(t,n,e){Go(t,e),Vd(t,i=>Cr(i,n)||Cr(n,i))}function Vd(t,n){t.recursionDepth_++;let e=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];s&&(n(s.path)?(cE(t.eventLists_[i]),t.eventLists_[i]=null):e=!1)}e&&(t.eventLists_=[]),t.recursionDepth_--}function cE(t){for(let n=0;n<t.events.length;n++){const e=t.events[n];if(null!==e){t.events[n]=null;const i=e.getEventRunner();br&&On("event: "+e.toString()),S(i)}}}const I_="repo_interrupt",s0=25;class uE{constructor(n,e,i,s){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new T_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gu(),this.transactionQueueTree_=new b_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Hd(t){const e=t.infoData_.getNode(new sn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function _f(t){return aS({timestamp:Hd(t)})}function hE(t,n,e,i,s){t.dataUpdateCount++;const c=new sn(n);e=t.interceptServerDataCallback_?t.interceptServerDataCallback_(n,e):e;let h=[];if(s)if(i){const b=(0,F.UI)(e,T=>kn(T));h=function hf(t,n,e,i){const s=g_(t,i);if(s){const c=tg(s),h=c.path,m=c.queryId,b=Ui(h,n),T=xn.fromObject(e);return m_(t,h,new Od(e_(m),b,T))}return[]}(t.serverSyncTree_,c,b,s)}else{const b=kn(e);h=Jp(t.serverSyncTree_,c,b,s)}else if(i){const b=(0,F.UI)(e,T=>kn(T));h=function XD(t,n,e){const i=xn.fromObject(e);return bc(t,new Od({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,i))}(t.serverSyncTree_,c,b)}else{const b=kn(e);h=Ld(t.serverSyncTree_,c,b)}let m=c;h.length>0&&(m=Tu(t,c)),Sr(t.eventQueue_,m,h)}function a0(t,n){S_(t,"connected",n),!1===n&&function l0(t){Gd(t,"onDisconnectEvents");const n=_f(t),e=gu();Nd(t.onDisconnect_,an(),(s,c)=>{const h=e0(s,c,t.serverSyncTree_,n);Rd(e,s,h)});let i=[];Nd(e,an(),(s,c)=>{i=i.concat(Ld(t.serverSyncTree_,s,c));const h=O_(t,s);Tu(t,h)}),t.onDisconnect_=gu(),Sr(t.eventQueue_,an(),i)}(t)}function S_(t,n,e){const i=new sn("/.info/"+n),s=kn(e);t.infoData_.updateSnapshot(i,s);const c=Ld(t.infoSyncTree_,i,s);Sr(t.eventQueue_,i,c)}function ug(t){return t.nextWriteId_++}function A_(t,n,e,i,s){Gd(t,"set",{path:n.toString(),value:e,priority:i});const c=_f(t),h=kn(e,i),m=Du(t.serverSyncTree_,n),b=y_(h,m,c),T=ug(t),R=vc(t.serverSyncTree_,n,b,T,!0);Go(t.eventQueue_,R),t.server_.put(n.toString(),h.val(!0),(B,W)=>{const ue="ok"===B;ue||Li("set at "+n+" failed: "+B);const Ee=yc(t.serverSyncTree_,T,!ue);Sr(t.eventQueue_,n,Ee),ll(0,s,B,W)});const O=O_(t,n);Tu(t,O),Sr(t.eventQueue_,O,[])}function R_(t,n,e){t.server_.onDisconnectCancel(n.toString(),(i,s)=>{"ok"===i&&lf(t.onDisconnect_,n),ll(0,e,i,s)})}function c0(t,n,e,i){const s=kn(e);t.server_.onDisconnectPut(n.toString(),s.val(!0),(c,h)=>{"ok"===c&&Rd(t.onDisconnect_,n,s),ll(0,i,c,h)})}function M_(t,n,e){let i;i=".info"===kt(n._path)?sl(t.infoSyncTree_,n,e):sl(t.serverSyncTree_,n,e),mf(t.eventQueue_,n._path,i)}function u0(t){t.persistentConnection_&&t.persistentConnection_.interrupt(I_)}function Gd(t,...n){let e="";t.persistentConnection_&&(e=t.persistentConnection_.id+":"),On(e,...n)}function ll(t,n,e,i){n&&S(()=>{if("ok"===e)n(null);else{const s=(e||"error").toUpperCase();let c=s;i&&(c+=": "+i);const h=new Error(c);h.code=s,n(h)}})}function dg(t,n,e){return Du(t.serverSyncTree_,n,e)||Ft.EMPTY_NODE}function hg(t,n=t.transactionQueueTree_){if(n||jd(t,n),al(n)){const e=h0(t,n);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(s=>0===s.status)&&function lS(t,n,e){const i=e.map(T=>T.currentWriteId),s=dg(t,n,i);let c=s;const h=s.hash();for(let T=0;T<e.length;T++){const R=e[T];(0,F.hu)(0===R.status,"tryToSendTransactionQueue_: items in queue should all be run."),R.status=1,R.retryCount++;const O=Ui(n,R.path);c=c.updateChild(O,R.currentOutputSnapshotRaw)}const m=c.val(!0),b=n;t.server_.put(b.toString(),m,T=>{Gd(t,"transaction put response",{path:b.toString(),status:T});let R=[];if("ok"===T){const O=[];for(let B=0;B<e.length;B++)e[B].status=2,R=R.concat(yc(t.serverSyncTree_,e[B].currentWriteId)),e[B].onComplete&&O.push(()=>e[B].onComplete(null,!0,e[B].currentOutputSnapshotResolved)),e[B].unwatcher();jd(t,rg(t.transactionQueueTree_,n)),hg(t,t.transactionQueueTree_),Sr(t.eventQueue_,n,R);for(let B=0;B<O.length;B++)S(O[B])}else{if("datastale"===T)for(let O=0;O<e.length;O++)e[O].status=3===e[O].status?4:0;else{Li("transaction at "+b.toString()+" failed: "+T);for(let O=0;O<e.length;O++)e[O].status=4,e[O].abortReason=T}Tu(t,n)}},h)}(t,Cu(n),e)}else t0(n)&&og(n,e=>{hg(t,e)})}function Tu(t,n){const e=vf(t,n),i=Cu(e);return function cS(t,n,e){if(0===n.length)return;const i=[];let s=[];const h=n.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const b=n[m],T=Ui(e,b.path);let O,R=!1;if((0,F.hu)(null!==T,"rerunTransactionsUnderNode_: relativePath should not be null."),4===b.status)R=!0,O=b.abortReason,s=s.concat(yc(t.serverSyncTree_,b.currentWriteId,!0));else if(0===b.status)if(b.retryCount>=s0)R=!0,O="maxretry",s=s.concat(yc(t.serverSyncTree_,b.currentWriteId,!0));else{const B=dg(t,b.path,h);b.currentInputSnapshot=B;const W=n[m].update(B.val());if(void 0!==W){wc("transaction failed: Data returned ",W,b.path);let ue=kn(W);"object"==typeof W&&null!=W&&(0,F.r3)(W,".priority")||(ue=ue.updatePriority(B.getPriority()));const Ae=b.currentWriteId,ct=_f(t),tt=y_(ue,B,ct);b.currentOutputSnapshotRaw=ue,b.currentOutputSnapshotResolved=tt,b.currentWriteId=ug(t),h.splice(h.indexOf(Ae),1),s=s.concat(vc(t.serverSyncTree_,b.path,tt,b.currentWriteId,b.applyLocally)),s=s.concat(yc(t.serverSyncTree_,Ae,!0))}else R=!0,O="nodata",s=s.concat(yc(t.serverSyncTree_,b.currentWriteId,!0))}Sr(t.eventQueue_,e,s),s=[],R&&(n[m].status=2,setTimeout(n[m].unwatcher,Math.floor(0)),n[m].onComplete&&i.push("nodata"===O?()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot):()=>n[m].onComplete(new Error(O),!1,null)))}jd(t,t.transactionQueueTree_);for(let m=0;m<i.length;m++)S(i[m]);hg(t,t.transactionQueueTree_)}(t,h0(t,e),i),i}function vf(t,n){let e,i=t.transactionQueueTree_;for(e=kt(n);null!==e&&void 0===al(i);)i=rg(i,e),e=kt(n=Cn(n));return i}function h0(t,n){const e=[];return f0(t,n,e),e.sort((i,s)=>i.order-s.order),e}function f0(t,n,e){const i=al(n);if(i)for(let s=0;s<i.length;s++)e.push(i[s]);og(n,s=>{f0(t,s,e)})}function jd(t,n){const e=al(n);if(e){let i=0;for(let s=0;s<e.length;s++)2!==e[s].status&&(e[i]=e[s],i++);e.length=i,w_(n,e.length>0?e:void 0)}og(n,i=>{jd(t,i)})}function O_(t,n){const e=Cu(vf(t,n)),i=rg(t.transactionQueueTree_,n);return function na(t,n,e){let i=e?t:t.parent;for(;null!==i;){if(n(i))return!0;i=i.parent}}(i,s=>{jo(t,s)}),jo(t,i),n0(i,s=>{jo(t,s)}),e}function jo(t,n){const e=al(n);if(e){const i=[];let s=[],c=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,F.hu)(c===h-1,"All SENT items should be at beginning of queue."),c=h,e[h].status=3,e[h].abortReason="set"):((0,F.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),s=s.concat(yc(t.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&i.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===c?w_(n,void 0):e.length=c+1,Sr(t.eventQueue_,Cu(n),s);for(let h=0;h<i.length;h++)S(i[h])}}const cl=function(t,n){const e=fg(t),i=e.namespace;return"firebase.com"===e.domain&&Vr(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Vr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Li("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new qs(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,n,"",i!==e.subdomain),path:new sn(e.pathString)}},fg=function(t){let n="",e="",i="",s="",c="",h=!0,m="https",b=443;if("string"==typeof t){let T=t.indexOf("//");T>=0&&(m=t.substring(0,T-1),t=t.substring(T+2));let R=t.indexOf("/");-1===R&&(R=t.length);let O=t.indexOf("?");-1===O&&(O=t.length),n=t.substring(0,Math.min(R,O)),R<O&&(s=function yf(t){let n="";const e=t.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let s=e[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}n+="/"+s}return n}(t.substring(R,O)));const B=function Ar(t){const n={};"?"===t.charAt(0)&&(t=t.substring(1));for(const e of t.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Li(`Invalid query segment '${e}' in query '${t}'`)}return n}(t.substring(Math.min(t.length,O)));T=n.indexOf(":"),T>=0?(h="https"===m||"wss"===m,b=parseInt(n.substring(T+1),10)):T=n.length;const W=n.slice(0,T);if("localhost"===W.toLowerCase())e="localhost";else if(W.split(".").length<=2)e=W;else{const ue=n.indexOf(".");i=n.substring(0,ue).toLowerCase(),e=n.substring(ue+1),c=i}"ns"in B&&(c=B.ns)}return{host:n,port:b,domain:e,subdomain:i,secure:h,scheme:m,pathString:s,namespace:c}},So="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",P_=function(){let t=0;const n=[];return function(e){const i=e===t;let s;t=e;const c=new Array(8);for(s=7;s>=0;s--)c[s]=So.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let h=c.join("");if(i){for(s=11;s>=0&&63===n[s];s--)n[s]=0;n[s]++}else for(s=0;s<12;s++)n[s]=Math.floor(64*Math.random());for(s=0;s<12;s++)h+=So.charAt(n[s]);return(0,F.hu)(20===h.length,"nextPushId: Length should be 20."),h}}();class Iu{constructor(n,e,i,s){this.eventType=n,this.eventRegistration=e,this.snapshot=i,this.prevName=s}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Wl)(this.snapshot.exportVal())}}class Su{constructor(n,e,i){this.eventRegistration=n,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Dc{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class Au{constructor(n,e){this._repo=n,this._path=e}cancel(){const n=new F.BH;return R_(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Io("OnDisconnect.remove",this._path);const n=new F.BH;return c0(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Io("OnDisconnect.set",this._path),To("OnDisconnect.set",n,this._path,!1);const e=new F.BH;return c0(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}setWithPriority(n,e){Io("OnDisconnect.setWithPriority",this._path),To("OnDisconnect.setWithPriority",n,this._path,!1),gf("OnDisconnect.setWithPriority",e,!1);const i=new F.BH;return function N_(t,n,e,i,s){const c=kn(e,i);t.server_.onDisconnectPut(n.toString(),c.val(!0),(h,m)=>{"ok"===h&&Rd(t.onDisconnect_,n,c),ll(0,s,h,m)})}(this._repo,this._path,n,e,i.wrapCallback(()=>{})),i.promise}update(n){Io("OnDisconnect.update",this._path),lE("OnDisconnect.update",n,this._path,!1);const e=new F.BH;return function mE(t,n,e,i){if((0,F.xb)(e))return On("onDisconnect().update() called with empty data.  Don't do anything."),void ll(0,i,"ok",void 0);t.server_.onDisconnectMerge(n.toString(),e,(s,c)=>{"ok"===s&&Sn(e,(h,m)=>{const b=kn(m);Rd(t.onDisconnect_,Pn(n,h),b)}),ll(0,i,s,c)})}(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}}class Vi{constructor(n,e,i,s){this._repo=n,this._path=e,this._queryParams=i,this._orderByCalled=s}get key(){return xt(this._path)?null:Qh(this._path)}get ref(){return new or(this._repo,this._path)}get _queryIdentifier(){const n=fc(this._queryParams),e=bo(n);return"{}"===e?"default":e}get _queryObject(){return fc(this._queryParams)}isEqual(n){if(!((n=(0,F.m9)(n))instanceof Vi))return!1;const e=this._repo===n._repo,i=Qs(this._path,n._path);return e&&i&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Xh(t){let n="";for(let e=t.pieceNum_;e<t.pieces_.length;e++)""!==t.pieces_[e]&&(n+="/"+encodeURIComponent(String(t.pieces_[e])));return n||"/"}(this._path)}}function ul(t,n){if(!0===t._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function Ao(t){let n=null,e=null;if(t.hasStart()&&(n=t.getIndexStartValue()),t.hasEnd()&&(e=t.getIndexEndValue()),t.getIndex()===Do){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Xr)throw new Error(i);if("string"!=typeof n)throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==wi)throw new Error(i);if("string"!=typeof e)throw new Error(s)}}else if(t.getIndex()===Be){if(null!=n&&!pf(n)||null!=e&&!pf(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(t.getIndex()instanceof Sd||t.getIndex()===hc,"unknown index type."),null!=n&&"object"==typeof n||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function dl(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class or extends Vi{constructor(n,e){super(n,e,new xp,!1)}get parent(){const n=ef(this._path);return null===n?null:new or(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class Ec{constructor(n,e,i){this._node=n,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const e=new sn(n),i=Cc(this.ref,n);return new Ec(this._node.getChild(e),i,Be)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,s)=>n(new Ec(s,Cc(this.ref,i),Be)))}hasChild(n){const e=new sn(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function k_(t,n){return(t=(0,F.m9)(t))._checkNotDeleted("ref"),void 0!==n?Cc(t._root,n):t._root}function x_(t,n){(t=(0,F.m9)(t))._checkNotDeleted("refFromURL");const e=cl(n,t._repo.repoInfo_.nodeAdmin);C_("refFromURL",e);const i=e.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&i.host!==t._repo.repoInfo_.host&&Vr("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),k_(t,e.path.toString())}function Cc(t,n){return null===kt((t=(0,F.m9)(t))._path)?o0("child","path",n,!1):Ud("child","path",n,!1),new or(t._repo,Pn(t._path,n))}function pg(t,n){t=(0,F.m9)(t),Io("set",t._path),To("set",n,t._path,!1);const e=new F.BH;return A_(t._repo,t._path,n,null,e.wrapCallback(()=>{})),e.promise}function wE(t,n){lE("update",n,t._path,!1);const e=new F.BH;return function gE(t,n,e,i){Gd(t,"update",{path:n.toString(),value:e});let s=!0;const c=_f(t),h={};if(Sn(e,(m,b)=>{s=!1,h[m]=e0(Pn(n,m),kn(b),t.serverSyncTree_,c)}),s)On("update() called with empty data.  Don't do anything."),ll(0,i,"ok",void 0);else{const m=ug(t),b=function Ky(t,n,e,i){!function il(t,n,e,i){(0,F.hu)(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:n,children:e,writeId:i,visible:!0}),t.visibleWrites=i_(t.visibleWrites,n,e),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i);const s=xn.fromObject(e);return bc(t,new Od({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,s))}(t.serverSyncTree_,n,h,m);Go(t.eventQueue_,b),t.server_.merge(n.toString(),e,(T,R)=>{const O="ok"===T;O||Li("update at "+n+" failed: "+T);const B=yc(t.serverSyncTree_,m,!O),W=B.length>0?Tu(t,n):n;Sr(t.eventQueue_,W,B),ll(0,i,T,R)}),Sn(e,T=>{const R=O_(t,Pn(n,T));Tu(t,R)}),Sr(t.eventQueue_,n,[])}}(t._repo,t._path,n,e.wrapCallback(()=>{})),e.promise}function _0(t){t=(0,F.m9)(t);const n=new Dc(()=>{}),e=new bf(n);return function pE(t,n,e){const i=function Jy(t,n){const e=n._path;let i=null;t.syncPointTree_.foreachOnPath(e,(T,R)=>{const O=Ui(T,e);i=i||_c(R,O)});let s=t.syncPointTree_.get(e);s?i=i||_c(s,an()):(s=new Wy,t.syncPointTree_=t.syncPointTree_.set(e,s));const c=null!=i,h=c?new tl(i,!0,!1):null;return function zD(t){return Bp(t.viewCache_)}(Yy(s,n,Vp(t.pendingWriteTree_,n._path),c?h.getNode():Ft.EMPTY_NODE,c))}(t.serverSyncTree_,n);return null!=i?Promise.resolve(i):t.server_.get(n).then(s=>{const c=kn(s).withIndex(n._queryParams.getIndex());let h;if(ff(t.serverSyncTree_,n,e,!0),n._queryParams.loadsAllData())h=Ld(t.serverSyncTree_,n._path,c);else{const m=Eu(t.serverSyncTree_,n);h=Jp(t.serverSyncTree_,n._path,c,m)}return Sr(t.eventQueue_,n._path,h),sl(t.serverSyncTree_,n,e,null,!0),c},s=>(Gd(t,"get for query "+(0,F.Wl)(n)+" failed: "+s),Promise.reject(new Error(s))))}(t._repo,t,e).then(i=>new Ec(i,new or(t._repo,t._path),t._queryParams.getIndex()))}class bf{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,e){const i=e._queryParams.getIndex();return new Iu("value",this,new Ec(n.snapshotNode,new or(e._repo,e._path),i))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new Su(this,n,e):null}matches(n){return n instanceof bf&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class wf{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e="children_added"===n?"child_added":n;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new Su(this,n,e):null}createEvent(n,e){(0,F.hu)(null!=n.childName,"Child events should have a childName.");const i=Cc(new or(e._repo,e._path),n.childName),s=e._queryParams.getIndex();return new Iu(n.type,this,new Ec(n.snapshotNode,i,s),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof wf&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ru(t,n,e,i,s){let c;if("object"==typeof i&&(c=void 0,s=i),"function"==typeof i&&(c=i),s&&s.onlyOnce){const b=e,T=(R,O)=>{M_(t._repo,t,m),b(R,O)};T.userCallback=e.userCallback,T.context=e.context,e=T}const h=new Dc(e,c||void 0),m="value"===n?new bf(h):new wf(n,h);return function _E(t,n,e){let i;i=".info"===kt(n._path)?ff(t.infoSyncTree_,n,e):ff(t.serverSyncTree_,n,e),mf(t.eventQueue_,n._path,i)}(t._repo,t,m),()=>M_(t._repo,t,m)}function Df(t,n,e,i){return Ru(t,"value",n,e,i)}function v0(t,n,e,i){return Ru(t,"child_added",n,e,i)}function Ef(t,n,e,i){return Ru(t,"child_changed",n,e,i)}function Cf(t,n,e,i){return Ru(t,"child_moved",n,e,i)}function gg(t,n,e,i){return Ru(t,"child_removed",n,e,i)}function y0(t,n,e){let i=null;const s=e?new Dc(e):null;"value"===n?i=new bf(s):n&&(i=new wf(n,s)),M_(t._repo,t,i)}class to{}class Tf extends to{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){To("endAt",this._value,n._path,!0);const e=Zm(n._queryParams,this._value,this._key);if(dl(e),Ao(e),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Vi(n._repo,n._path,e,n._orderByCalled)}}class w0 extends to{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){To("endBefore",this._value,n._path,!1);const e=function qm(t,n,e){let i;return i=Zm(t,n,t.index_===Do||e?e:Xr),i.endBeforeSet_=!0,i}(n._queryParams,this._value,this._key);if(dl(e),Ao(e),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Vi(n._repo,n._path,e,n._orderByCalled)}}class L_ extends to{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){To("startAt",this._value,n._path,!0);const e=Ay(n._queryParams,this._value,this._key);if(dl(e),Ao(e),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Vi(n._repo,n._path,e,n._orderByCalled)}}class B_ extends to{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){To("startAfter",this._value,n._path,!1);const e=function Ym(t,n,e){let i;return i=Ay(t,n,t.index_===Do||e?e:wi),i.startAfterSet_=!0,i}(n._queryParams,this._value,this._key);if(dl(e),Ao(e),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Vi(n._repo,n._path,e,n._orderByCalled)}}class DE extends to{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Vi(n._repo,n._path,function Sy(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="l",e}(n._queryParams,this._limit),n._orderByCalled)}}class T0 extends to{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Vi(n._repo,n._path,function zm(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="r",e}(n._queryParams,this._limit),n._orderByCalled)}}class S0 extends to{constructor(n){super(),this._path=n}_apply(n){ul(n,"orderByChild");const e=new sn(this._path);if(xt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Sd(e),s=af(n._queryParams,i);return Ao(s),new Vi(n._repo,n._path,s,!0)}}class A0 extends to{_apply(n){ul(n,"orderByKey");const e=af(n._queryParams,Do);return Ao(e),new Vi(n._repo,n._path,e,!0)}}class U_ extends to{_apply(n){ul(n,"orderByPriority");const e=af(n._queryParams,Be);return Ao(e),new Vi(n._repo,n._path,e,!0)}}class N0 extends to{_apply(n){ul(n,"orderByValue");const e=af(n._queryParams,hc);return Ao(e),new Vi(n._repo,n._path,e,!0)}}class O0 extends to{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){if(To("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Tf(this._value,this._key)._apply(new L_(this._value,this._key)._apply(n))}}function $o(t,...n){let e=(0,F.m9)(t);for(const i of n)e=i._apply(e);return e}(function zy(t){(0,F.hu)(!rl,"__referenceConstructor has already been defined"),rl=t})(or),function sS(t){(0,F.hu)(!Fd,"__referenceConstructor has already been defined"),Fd=t}(or);const k0="FIREBASE_DATABASE_EMULATOR_HOST",_g={};let V_=!1;function hl(t,n,e,i,s){let c=i||t.options.databaseURL;void 0===c&&(t.options.projectId||Vr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),On("Using default host for project ",t.options.projectId),c=`${t.options.projectId}-default-rtdb.firebaseio.com`);let b,T,h=cl(c,s),m=h.repoInfo;typeof process<"u"&&process.env&&(T=process.env[k0]),T?(b=!0,c=`http://${T}?ns=${m.namespace}`,h=cl(c,s),m=h.repoInfo):b=!h.repoInfo.secure;const R=s&&b?new je(je.OWNER):new ae(t.name,t.options,n);C_("Invalid Firebase Database URL",h),xt(h.path)||Vr("Database URL must point to the root of a Firebase Database (not including a child path).");const O=function TE(t,n,e,i){let s=_g[n.name];s||(s={},_g[n.name]=s);let c=s[t.toURLString()];return c&&Vr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new uE(t,V_,e,i),s[t.toURLString()]=c,c}(m,t,R,new q(t.name,e));return new Nu(O,t)}class Nu{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function dE(t,n,e){if(t.stats_=Ks(t.repoInfo_),t.forceRestClient_||x())t.server_=new Fp(t.repoInfo_,(i,s,c,h)=>{hE(t,i,s,c,h)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>a0(t,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new ea(t.repoInfo_,n,(i,s,c,h)=>{hE(t,i,s,c,h)},i=>{a0(t,i)},i=>{!function fE(t,n){Sn(n,(e,i)=>{S_(t,e,i)})}(t,i)},t.authTokenProvider_,t.appCheckProvider_,e),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=function Wh(t,n){const e=t.toString();return oc[e]||(oc[e]=n()),oc[e]}(t.repoInfo_,()=>new Ny(t.stats_,t.server_)),t.infoData_=new Jm,t.infoSyncTree_=new QD({startListening:(i,s,c,h)=>{let m=[];const b=t.infoData_.getNode(i._path);return b.isEmpty()||(m=Ld(t.infoSyncTree_,i._path,b),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),S_(t,"connected",!1),t.serverSyncTree_=new QD({startListening:(i,s,c,h)=>(t.server_.listen(i,c,s,(m,b)=>{const T=h(m,b);Sr(t.eventQueue_,i._path,T)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new or(this._repo,an())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function CE(t,n){const e=_g[n];(!e||e[t.key]!==t)&&Vr(`Database ${n}(${t.repoInfo_}) has already been deleted.`),u0(t),delete e[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&Vr("Cannot call "+n+" on a deleted database.")}}function yg(){cu.IS_TRANSPORT_INITIALIZED&&Li("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function IE(){yg(),bs.forceDisallow()}function G_(){yg(),lu.forceDisallow(),bs.forceAllow()}function x0(t,n){iu(t,n)}const Hi={".sv":"timestamp"};class OE{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ea.prototype.simpleListen=function(t,n){this.sendRequest("q",{p:t},n)},ea.prototype.echo=function(t,n){this.sendRequest("echo",{d:t},n)},function NE(t){dd(yr.SDK_VERSION),(0,yr._registerComponent)(new qi.wA("database",(n,{instanceIdentifier:e})=>hl(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,yr.registerVersion)(cd,"0.14.4",t),(0,yr.registerVersion)(cd,"0.14.4","esm2017")}();const kE=new Zs.Yd("@firebase/database-compat"),U0=function(t){kE.warn("FIREBASE WARNING: "+t)};class H0{constructor(n){this._delegate=n}cancel(n){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",n,!0);const e=this._delegate.cancel();return n&&e.then(()=>n(null),i=>n(i)),e}remove(n){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",n,!0);const e=this._delegate.remove();return n&&e.then(()=>n(null),i=>n(i)),e}set(n,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(n);return e&&i.then(()=>e(null),s=>e(s)),i}setWithPriority(n,e,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const s=this._delegate.setWithPriority(n,e);return i&&s.then(()=>i(null),c=>i(c)),s}update(n,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const s={};for(let c=0;c<n.length;++c)s[""+c]=n[c];n=s,U0("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(n);return e&&i.then(()=>e(null),s=>e(s)),i}}class dS{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ia{constructor(n,e){this._database=n,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),Ud("DataSnapshot.child","path",n,!1),new ia(this._database,this._delegate.child(n))}hasChild(n){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ud("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(e=>n(new ia(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new li(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Gi{constructor(n,e){this.database=n,this._delegate=e}on(n,e,i,s){var c;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const h=Gi.getCancelAndContextArgs_("Query.on",i,s),m=(T,R)=>{e.call(h.context,new ia(this.database,T),R)};m.userCallback=e,m.context=h.context;const b=null===(c=h.cancel)||void 0===c?void 0:c.bind(h.context);switch(n){case"value":return Df(this._delegate,m,b),e;case"child_added":return v0(this._delegate,m,b),e;case"child_removed":return gg(this._delegate,m,b),e;case"child_changed":return Ef(this._delegate,m,b),e;case"child_moved":return Cf(this._delegate,m,b),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,e,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(t,n,e){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",i,!0),e){const s=()=>{};s.userCallback=e,s.context=i,y0(this._delegate,n,s)}else y0(this._delegate,n)}get(){return _0(this._delegate).then(n=>new ia(this.database,n))}once(n,e,i,s){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const c=Gi.getCancelAndContextArgs_("Query.once",i,s),h=new F.BH,m=(T,R)=>{const O=new ia(this.database,T);e&&e.call(c.context,O,R),h.resolve(O)};m.userCallback=e,m.context=c.context;const b=T=>{c.cancel&&c.cancel.call(c.context,T),h.reject(T)};switch(n){case"value":Df(this._delegate,m,b,{onlyOnce:!0});break;case"child_added":v0(this._delegate,m,b,{onlyOnce:!0});break;case"child_removed":gg(this._delegate,m,b,{onlyOnce:!0});break;case"child_changed":Ef(this._delegate,m,b,{onlyOnce:!0});break;case"child_moved":Cf(this._delegate,m,b,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(n){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new Gi(this.database,$o(this._delegate,function C0(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new DE(t)}(n)))}limitToLast(n){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new Gi(this.database,$o(this._delegate,function I0(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new T0(t)}(n)))}orderByChild(n){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new Gi(this.database,$o(this._delegate,function EE(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ud("orderByChild","path",t,!1),new S0(t)}(n)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new Gi(this.database,$o(this._delegate,function R0(){return new A0}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new Gi(this.database,$o(this._delegate,function mg(){return new U_}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new Gi(this.database,$o(this._delegate,function M0(){return new N0}()))}startAt(n=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new Gi(this.database,$o(this._delegate,function D0(t=null,n){return cg("startAt","key",n,!0),new L_(t,n)}(n,e)))}startAfter(n=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new Gi(this.database,$o(this._delegate,function E0(t,n){return cg("startAfter","key",n,!0),new B_(t,n)}(n,e)))}endAt(n=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new Gi(this.database,$o(this._delegate,function b0(t,n){return cg("endAt","key",n,!0),new Tf(t,n)}(n,e)))}endBefore(n=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new Gi(this.database,$o(this._delegate,function F_(t,n){return cg("endBefore","key",n,!0),new w0(t,n)}(n,e)))}equalTo(n,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new Gi(this.database,$o(this._delegate,function P0(t,n){return cg("equalTo","key",n,!0),new O0(t,n)}(n,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof Gi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,e,i){const s={cancel:void 0,context:void 0};if(e&&i)s.cancel=e,(0,F.Wj)(n,"cancel",s.cancel,!0),s.context=i,(0,F.lb)(n,"context",s.context,!0);else if(e)if("object"==typeof e&&null!==e)s.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");s.cancel=e}return s}get ref(){return new li(this.database,new or(this._delegate._repo,this._delegate._path))}}class li extends Gi{constructor(n,e){super(n,new Vi(e._repo,e._path,new xp,!1)),this.database=n,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new li(this.database,Cc(this._delegate,n))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new li(this.database,n):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new li(this.database,this._delegate.root)}set(n,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const i=pg(this._delegate,n);return e&&i.then(()=>e(null),s=>e(s)),i}update(n,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const s={};for(let c=0;c<n.length;++c)s[""+c]=n[c];n=s,U0("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Io("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const i=wE(this._delegate,n);return e&&i.then(()=>e(null),s=>e(s)),i}setWithPriority(n,e,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const s=function bE(t,n,e){if(Io("setWithPriority",t._path),To("setWithPriority",n,t._path,!1),gf("setWithPriority",e,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const i=new F.BH;return A_(t._repo,t._path,n,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,n,e);return i&&s.then(()=>i(null),c=>i(c)),s}remove(n){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",n,!0);const e=function g0(t){return Io("remove",t._path),pg(t,null)}(this._delegate);return n&&e.then(()=>n(null),i=>n(i)),e}transaction(n,e,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(t,n,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const s=function L0(t,n,e){var i;if(t=(0,F.m9)(t),Io("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const s=null===(i=e?.applyLocally)||void 0===i||i,c=new F.BH,m=Df(t,()=>{});return function d0(t,n,e,i,s,c){Gd(t,"transaction on "+n);const h={path:n,update:e,onComplete:i,status:null,order:ic(),applyLocally:c,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=dg(t,n,void 0);h.currentInputSnapshot=m;const b=h.update(m.val());if(void 0===b)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{wc("transaction failed: Data returned ",b,h.path),h.status=0;const T=rg(t.transactionQueueTree_,n),R=al(T)||[];let O;R.push(h),w_(T,R),"object"==typeof b&&null!==b&&(0,F.r3)(b,".priority")?(O=(0,F.DV)(b,".priority"),(0,F.hu)(pf(O),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):O=(Du(t.serverSyncTree_,n)||Ft.EMPTY_NODE).getPriority().val();const B=_f(t),W=kn(b,O),ue=y_(W,m,B);h.currentOutputSnapshotRaw=W,h.currentOutputSnapshotResolved=ue,h.currentWriteId=ug(t);const Ee=vc(t.serverSyncTree_,n,ue,h.currentWriteId,h.applyLocally);Sr(t.eventQueue_,n,Ee),hg(t,t.transactionQueueTree_)}}(t._repo,t._path,n,(b,T,R)=>{let O=null;b?c.reject(b):(O=new Ec(R,new or(t._repo,t._path),Be),c.resolve(new OE(T,O)))},m,s),c.promise}(this._delegate,n,{applyLocally:i}).then(c=>new dS(c.committed,new ia(this.database,c.snapshot)));return e&&s.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),s}setPriority(n,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const i=function m0(t,n){t=(0,F.m9)(t),Io("setPriority",t._path),gf("setPriority",n,!1);const e=new F.BH;return A_(t._repo,Pn(t._path,".priority"),n,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,n);return e&&i.then(()=>e(null),s=>e(s)),i}push(n,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const i=function p0(t,n){t=(0,F.m9)(t),Io("push",t._path),To("push",n,t._path,!0);const e=Hd(t._repo),i=P_(e),s=Cc(t,i),c=Cc(t,i);let h;return h=null!=n?pg(c,n).then(()=>c):Promise.resolve(c),s.then=h.then.bind(h),s.catch=h.then.bind(h,void 0),s}(this._delegate,n),s=i.then(h=>new li(this.database,h));e&&s.then(()=>e(null),h=>e(h));const c=new li(this.database,i);return c.then=s.then.bind(s),c.catch=s.catch.bind(s,void 0),c}onDisconnect(){return Io("Reference.onDisconnect",this._delegate._path),new H0(new Au(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class If{constructor(n,e){this._delegate=n,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:IE,forceLongPolling:G_}}useEmulator(n,e,i={}){!function SE(t,n,e,i={}){(t=(0,F.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Vr("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let c;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&Vr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new je(je.OWNER);else if(i.mockUserToken){const h="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,t.app.options.projectId);c=new je(h)}!function vg(t,n,e,i){t.repoInfo_=new qs(`${n}:${e}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}(s,n,e,c)}(this._delegate,n,e,i)}ref(n){if((0,F.Dv)("database.ref",0,1,arguments.length),n instanceof li){const e=x_(this._delegate,n.toString());return new li(this,e)}{const e=k_(this._delegate,n);return new li(this,e)}}refFromURL(n){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=x_(this._delegate,n);return new li(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function AE(t){(t=(0,F.m9)(t))._checkNotDeleted("goOffline"),u0(t._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function RE(t){(t=(0,F.m9)(t))._checkNotDeleted("goOnline"),function vE(t){t.persistentConnection_&&t.persistentConnection_.resume(I_)}(t._repo)}(this._delegate)}}If.ServerValue={TIMESTAMP:function F0(){return Hi}(),increment:t=>function ME(t){return{".sv":{increment:t}}}(t)};var ra=Object.freeze({__proto__:null,initStandalone:function G0({app:t,url:n,version:e,customAuthImpl:i,namespace:s,nodeAdmin:c=!1}){dd(e);const h=new qi.zt("auth-internal",new qi.H0("database-standalone"));return h.setComponent(new qi.wA("auth-internal",()=>i,"PRIVATE")),{instance:new If(hl(t,h,void 0,n,c),t),namespace:s}}});const Cs=If.ServerValue;!function Ts(t){t.INTERNAL.registerComponent(new qi.wA("database-compat",(n,{instanceIdentifier:e})=>{const i=n.getProvider("app-compat").getImmediate(),s=n.getProvider("database").getImmediate({identifier:e});return new If(s,i)},"PUBLIC").setServiceProps({Reference:li,Query:Gi,Database:If,DataSnapshot:ia,enableLogging:x0,INTERNAL:ra,ServerValue:Cs}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","0.3.4")}(Ho.Z);var Un=k(7579),Sf=k(5363),FE=k(6063);class LE extends Un.x{constructor(n=1/0,e=1/0,i=FE.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:i,_infiniteTimeWindow:s,_timestampProvider:c,_windowTime:h}=this;e||(i.push(n),!s&&i.push(c.now()+h)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:s}=this,c=s.slice();for(let h=0;h<c.length&&!n.closed;h+=i?1:2)n.next(c[h]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:s}=this,c=(s?1:2)*n;if(n<1/0&&c<i.length&&i.splice(0,i.length-c),!s){const h=e.now();let m=0;for(let b=1;b<i.length&&i[b]<=h;b+=2)m=b;m&&i.splice(0,m+1)}}}function j0(t,n,e){let i,s=!1;return t&&"object"==typeof t?({bufferSize:i=1/0,windowTime:n=1/0,refCount:s=!1,scheduler:e}=t):i=t??1/0,(0,Ba.B)({connector:()=>new LE(i,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}const Wd=(0,k(3888).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ii(t,n){return(0,un.e)((e,i)=>{let s=0;e.subscribe((0,gn.x)(i,c=>t.call(n,c,s++)&&i.next(c)))})}var oa=k(515);function Ci(t){return t<=0?()=>oa.E:(0,un.e)((n,e)=>{let i=0;n.subscribe((0,gn.x)(e,s=>{++i<=t&&(e.next(s),t<=i&&e.complete())}))})}function bg(t){return(0,un.e)((n,e)=>{let i=!1;n.subscribe((0,gn.x)(e,s=>{i=!0,e.next(s)},()=>{i||e.next(t),e.complete()}))})}function $0(t=W0){return(0,un.e)((n,e)=>{let i=!1;n.subscribe((0,gn.x)(e,s=>{i=!0,e.next(s)},()=>i?e.complete():e.error(t())))})}function W0(){return new Wd}function sa(t,n){const e=arguments.length>=2;return i=>i.pipe(t?ii((s,c)=>t(s,c,i)):vo.y,Ci(1),e?bg(n):$0(()=>new Wd))}var Ro=k(576);function z0(t,n){return(0,Ro.m)(n)?bn(()=>t,n):bn(()=>t)}var wg=k(9468);k(259);const $_=new Map,K0={activated:!1,tokenObservers:[]},$E={initialized:!1,enabled:!1};function ci(t){return $_.get(t)||Object.assign({},K0)}function Cg(){return $E}const W_="https://content-firebaseappcheck.googleapis.com/v1",ZE="exchangeDebugToken",J0={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class X0{constructor(n,e,i,s,c){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=s,s>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,Ur.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function eb(t){return new Promise(n=>{setTimeout(n,t)})}(e.getNextRun(n)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ki=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Tg(t){if(!ci(t).activated)throw Ki.create("use-before-activation",{appName:t.name})}function Yd(t,n){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,Ur.Z)(function*({url:t,body:n},e){const i={"Content-Type":"application/json"},s=e.getImmediate({optional:!0});if(s){const O=yield s.getHeartbeatsHeader();O&&(i["X-Firebase-Client"]=O)}const c={method:"POST",body:JSON.stringify(n),headers:i};let h,m;try{h=yield fetch(t,c)}catch(O){throw Ki.create("fetch-network-error",{originalErrorMessage:O?.message})}if(200!==h.status)throw Ki.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(O){throw Ki.create("fetch-parse-error",{originalErrorMessage:O?.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Ki.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const T=1e3*Number(b[1]),R=Date.now();return{token:m.token,expireTimeMillis:R+T,issuedAtTimeMillis:R}})).apply(this,arguments)}function nb(t,n){const{projectId:e,appId:i,apiKey:s}=t.options;return{url:`${W_}/projects/${e}/apps/${i}:${ZE}?key=${s}`,body:{debug_token:n}}}const Zd="firebase-app-check-database",vS=1,Ou="firebase-app-check-store";let Nf=null;function ib(t,n){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,Ur.Z)(function*(t,n){const i=(yield function z_(){return Nf||(Nf=new Promise((t,n)=>{try{const e=indexedDB.open(Zd,vS);e.onsuccess=i=>{t(i.target.result)},e.onerror=i=>{var s;n(Ki.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ou,{keyPath:"compositeKey"})}}catch(e){n(Ki.create("storage-open",{originalErrorMessage:e?.message}))}}),Nf)}()).transaction(Ou,"readwrite"),c=i.objectStore(Ou).put({compositeKey:t,value:n});return new Promise((h,m)=>{c.onsuccess=b=>{h()},i.onerror=b=>{var T;m(Ki.create("storage-set",{originalErrorMessage:null===(T=b.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const Vn=new Zs.Yd("@firebase/app-check");function Rg(t,n){return(0,F.hl)()?function Tt(t,n){return ib(function Mf(t){return`${t.options.appId}-${t.name}`}(t),n)}(t,n).catch(e=>{Vn.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Mg(){return Cg().enabled}function Og(){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,Ur.Z)(function*(){const t=Cg();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const tC={error:"UNKNOWN_ERROR"};function nC(t){return F.US.encodeString(JSON.stringify(t),!1)}function Ic(t){return Y_.apply(this,arguments)}function Y_(){return(Y_=(0,Ur.Z)(function*(t,n=!1){const e=t.app;Tg(e);const i=ci(e);let c,s=i.token;if(s&&!aa(s)&&(i.token=void 0,s=void 0),!s){const b=yield i.cachedTokenPromise;b&&(aa(b)?s=b:yield Rg(e,void 0))}if(!n&&s&&aa(s))return{token:s.token};let m,h=!1;if(Mg()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Yd(nb(e,yield Og()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),h=!0);const b=yield i.exchangeTokenPromise;return yield Rg(e,b),i.token=b,{token:b.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),h=!0),s=yield ci(e).exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?Vn.warn(b.message):Vn.error(b),c=b}return s?c?m=aa(s)?{token:s.token,internalError:c}:Jd(c):(m={token:s.token},i.token=s,yield Rg(e,s)):m=Jd(c),h&&function ab(t,n){const e=ci(t).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=n.error?i.error(n.error):i.next(n)}catch{}}(e,m),m})).apply(this,arguments)}function ob(t){return Z_.apply(this,arguments)}function Z_(){return(Z_=(0,Ur.Z)(function*(t){const n=t.app;Tg(n);const{provider:e}=ci(n);if(Mg()){const i=yield Og(),{token:s}=yield Yd(nb(n,i),t.heartbeatServiceProvider);return{token:s}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function kg(t,n){const e=ci(t),i=e.tokenObservers.filter(s=>s.next!==n);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function q_(t){const{app:n}=t,e=ci(n);let i=e.tokenRefresher;i||(i=function sb(t){const{app:n}=t;return new X0((0,Ur.Z)(function*(){let i;if(i=ci(n).token?yield Ic(t,!0):yield Ic(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=ci(n);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},J0.RETRIAL_MIN_WAIT,J0.RETRIAL_MAX_WAIT)}(t),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function aa(t){return t.expireTimeMillis-Date.now()>0}function Jd(t){return{token:nC(tC),error:t}}class iC{constructor(n,e){this.app=n,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:n}=ci(this.app);for(const e of n)kg(this.app,e.next);return Promise.resolve()}}const Xd="app-check-internal";!function fC(){(0,yr._registerComponent)(new qi.wA("app-check",t=>function rC(t,n){return new iC(t,n)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,e)=>{t.getProvider(Xd).initialize()})),(0,yr._registerComponent)(new qi.wA(Xd,t=>function oC(t){return{getToken:n=>Ic(t,n),getLimitedUseToken:()=>ob(t),addTokenListener:n=>function Kd(t,n,e,i){const{app:s}=t,c=ci(s);if(c.tokenObservers=[...c.tokenObservers,{next:e,error:i,type:n}],c.token&&aa(c.token)){const m=c.token;Promise.resolve().then(()=>{e({token:m.token}),q_(t)}).catch(()=>{})}c.cachedTokenPromise.then(()=>q_(t))}(t,"INTERNAL",n),removeTokenListener:n=>kg(t.app,n)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,yr.registerVersion)("@firebase/app-check","0.8.0")}();class Of{constructor(){return(0,Kn.vb)("app-check")}}typeof window<"u"&&window;var bb=k(9260);const wb=new l.OlP("angularfire2.auth.use-emulator"),Db=new l.OlP("angularfire2.auth.settings"),Eb=new l.OlP("angularfire2.auth.tenant-id"),Cb=new l.OlP("angularfire2.auth.langugage-code"),tv=new l.OlP("angularfire2.auth.use-device-language"),nv=new l.OlP("angularfire.auth.persistence"),iv=(t,n,e,i,s,c,h,m)=>(0,ni.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const b=n.runOutsideAngular(()=>t.auth());if(e&&b.useEmulator(...e),i&&(b.tenantId=i),b.languageCode=s,c&&b.useDeviceLanguage(),h)for(const[T,R]of Object.entries(h))b.settings[T]=R;return m&&b.setPersistence(m),b},[e,i,s,c,h,m]);let Tb=(()=>{class t{constructor(e,i,s,c,h,m,b,T,R,O,B,W){const ue=new Un.x,Ee=dt(void 0).pipe((0,Sf.Q)(h.outsideAngular),bn(()=>c.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,2644)))),(0,vt.U)(()=>(0,ni.on)(e,c,i)),(0,vt.U)(Ae=>iv(Ae,c,m,T,R,O,b,B)),j0({bufferSize:1,refCount:!1}));if(function xo(t){return"server"===t}(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=dt(null);else{Ee.pipe(sa()).subscribe();const ct=Ee.pipe(bn(qe=>qe.getRedirectResult().then(Dt=>Dt,()=>null)),Kn.iC,j0({bufferSize:1,refCount:!1})),tt=Ee.pipe(bn(qe=>new jn.y(Dt=>({unsubscribe:c.runOutsideAngular(()=>qe.onAuthStateChanged(Gt=>Dt.next(Gt),Gt=>Dt.error(Gt),()=>Dt.complete()))})))),yt=Ee.pipe(bn(qe=>new jn.y(Dt=>({unsubscribe:c.runOutsideAngular(()=>qe.onIdTokenChanged(Gt=>Dt.next(Gt),Gt=>Dt.error(Gt),()=>Dt.complete()))}))));this.authState=ct.pipe(z0(tt),(0,wg.R)(h.outsideAngular),(0,Sf.Q)(h.insideAngular)),this.user=ct.pipe(z0(yt),(0,wg.R)(h.outsideAngular),(0,Sf.Q)(h.insideAngular)),this.idToken=this.user.pipe(bn(qe=>qe?(0,Kt.D)(qe.getIdToken()):dt(null))),this.idTokenResult=this.user.pipe(bn(qe=>qe?(0,Kt.D)(qe.getIdTokenResult()):dt(null))),this.credential=(0,La.T)(ct,ue,this.authState.pipe(ii(qe=>!qe))).pipe((0,vt.U)(qe=>qe?.user?qe:null),(0,wg.R)(h.outsideAngular),(0,Sf.Q)(h.insideAngular))}return(0,ni.pX)(this,Ee,c,{spy:{apply:(Ae,ct,tt)=>{(Ae.startsWith("signIn")||Ae.startsWith("createUser"))&&tt.then(yt=>ue.next(yt))}}})}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(ni.Dh),l.LFG(ni.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Kn.HU),l.LFG(wb,8),l.LFG(Db,8),l.LFG(Eb,8),l.LFG(Cb,8),l.LFG(tv,8),l.LFG(nv,8),l.LFG(Of,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function Ab(t){return null==t}function Bg(t){return"function"==typeof t.set}function Ug(t,n){return Bg(n)?n:t.ref(n)}function rv(t,n){if(function Sb(t){return"string"==typeof t}(t))return n.stringCase();if(Bg(t))return n.firebaseCase();if(function _C(t){return"function"==typeof t.exportVal}(t))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function Pu(t,n,e="on",i=Br.z){return new jn.y(s=>{let c=null;return c=t[e](n,(h,m)=>{i.schedule(()=>{s.next({snapshot:h,prevKey:m})}),"once"===e&&i.schedule(()=>s.complete())},h=>{i.schedule(()=>s.error(h))}),"on"===e?{unsubscribe(){null!=c&&t.off(n,c)}}:{unsubscribe(){}}}).pipe((0,vt.U)(s=>{const{snapshot:c,prevKey:h}=s;let m=null;return c.exists()&&(m=c.key),{type:n,payload:c,prevKey:h,key:m}}),(0,Ba.B)())}function Rb(t,n){const e=t.length;for(let i=0;i<e;i++)if(t[i].payload.key===n)return i;return-1}function yC(t,n){const{payload:e,prevKey:i,key:s}=n,c=Rb(t,s),h=function ov(t,n){if(Ab(n))return 0;{const e=Rb(t,n);return-1===e?t.length:e+1}}(t,i);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let m=null;n.payload.forEach(b=>{const T={payload:b,type:"value",prevKey:m,key:b.key};return m=b.key,t=[...t,T],!1})}return t;case"child_added":if(c>-1){const m=t[c-1];(m&&m.key||null)!==i&&(t=t.filter(b=>b.payload.key!==e.key)).splice(h,0,n)}else{if(null==i)return[n,...t];(t=t.slice()).splice(h,0,n)}return t;case"child_removed":return t.filter(m=>m.payload.key!==e.key);case"child_changed":return t.map(m=>m.payload.key===s?n:m);case"child_moved":if(c>-1){const m=t.splice(c,1)[0];return(t=t.slice()).splice(h,0,m),t}return t;default:return t}}function sv(t){return(Ab(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function ku(t,n,e){return function vC(t,n,e){return Pu(t,"value","once",e).pipe(bn(i=>{const s=[dt(i)];return n.forEach(c=>s.push(Pu(t,c,"on",e))),(0,La.T)(...s).pipe(ps(yC,[]))}),Ys())}(t,n=sv(n),e)}function av(t,n,e){const i=(n=sv(n)).map(s=>Pu(t,s,"on",e));return(0,La.T)(...i)}function Vg(t,n){return function(i,s){return rv(i,{stringCase:()=>t.child(i)[n](s),firebaseCase:()=>i[n](s),snapshotCase:()=>i.ref[n](s)})}}function wC(t){return function(e){return e?rv(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function Mb(t,n){return function(){return Pu(t,"value","on",n)}}const cv=new l.OlP("angularfire2.realtimeDatabaseURL"),Pb=new l.OlP("angularfire2.database.use-emulator");let uv=(()=>{class t{constructor(e,i,s,c,h,m,b,T,R,O,B,W,ue,Ee,Ae){this.schedulers=m;const ct=b,tt=(0,ni.on)(e,h,i);T&&iv(tt,h,R,B,W,ue,O,Ee),this.database=(0,ni.cc)(`${tt.name}.database.${s}`,"AngularFireDatabase",tt.name,()=>{const yt=h.runOutsideAngular(()=>tt.database(s||void 0));return ct&&yt.useEmulator(...ct),yt},[ct])}list(e,i){const s=this.schedulers.ngZone.runOutsideAngular(()=>Ug(this.database,e));let c=s;return i&&(c=i(s)),function lv(t,n){const e=n.schedulers.outsideAngular,i=n.schedulers.ngZone.run(()=>t.ref);return{query:t,update:Vg(i,"update"),set:Vg(i,"set"),push:s=>i.push(s),remove:wC(i),snapshotChanges:s=>ku(t,s,e).pipe(Kn.iC),stateChanges:s=>av(t,s,e).pipe(Kn.iC),auditTrail:s=>function bC(t,n,e){return function Nb(t,n,e){return function PS(t,n){return Pu(t,"value","on",n).pipe((0,vt.U)(e=>{let i;return e.payload.forEach(s=>(i=s.key,!1)),{data:e,lastKeyToLoad:i}}))}(t,e).pipe(Qr(n),(0,vt.U)(([s,c])=>{const h=s.lastKeyToLoad,m=c.map(b=>b.key);return{actions:c,lastKeyToLoad:h,loadedKeys:m}}),function Bh(t){return(0,un.e)((n,e)=>{let i=!1,s=0;n.subscribe((0,gn.x)(e,c=>(i||(i=!t(c,s++)))&&e.next(c)))})}(s=>-1===s.loadedKeys.indexOf(s.lastKeyToLoad)),(0,vt.U)(s=>s.actions))}(t,av(t,n).pipe(ps((s,c)=>[...s,c],[])),e)}(t,s,e).pipe(Kn.iC),valueChanges:(s,c)=>ku(t,s,e).pipe((0,vt.U)(m=>m.map(b=>c&&c.idField?Object.assign(Object.assign({},b.payload.val()),{[c.idField]:b.key}):b.payload.val())),Kn.iC)}}(c,this)}object(e){return function Ob(t,n){return{query:t,snapshotChanges:()=>Mb(t,n.schedulers.outsideAngular)().pipe(Kn.iC),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>Mb(t,n.schedulers.outsideAngular)().pipe(Kn.iC,(0,vt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Ug(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(ni.Dh),l.LFG(ni.xv,8),l.LFG(cv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Kn.HU),l.LFG(Pb,8),l.LFG(Tb,8),l.LFG(wb,8),l.LFG(Db,8),l.LFG(Eb,8),l.LFG(Cb,8),l.LFG(tv,8),l.LFG(nv,8),l.LFG(Of,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),kb=(()=>{class t{constructor(){bb.Z.registerVersion("angularfire",Kn.q4.full,"rtdb-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[uv]}),t})();const Fb="firebasestorage.googleapis.com",Lb="storageBucket";class ui extends F.ZR{constructor(n,e,i=0){super(dv(n),`Firebase Storage: ${e} (${dv(n)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ui.prototype)}get status(){return this.status_}set status(n){this.status_=n}_codeEquals(n){return dv(n)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(n){this.customData.serverResponse=n,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Fn=(()=>{return(t=Fn||(Fn={})).UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Fn;var t})();function dv(t){return"storage/"+t}function hv(){return new ui(Fn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function fv(){return new ui(Fn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pv(){return new ui(Fn.CANCELED,"User canceled the upload/download.")}function Vb(){return new ui(Fn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xu(t){return new ui(Fn.INVALID_ARGUMENT,t)}function gv(){return new ui(Fn.APP_DELETED,"The Firebase app was deleted.")}function mv(t){return new ui(Fn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function eh(t,n){return new ui(Fn.INVALID_FORMAT,"String does not match format '"+t+"': "+n)}function th(t){throw new ui(Fn.INTERNAL_ERROR,"Internal error: "+t)}class sr{constructor(n,e){this.bucket=n,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(n,e){let i;try{i=sr.makeFromUrl(n,e)}catch{return new sr(n,"")}if(""===i.path)return i;throw function AC(t){return new ui(Fn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(n)}static makeFromUrl(n,e){let i=null;const s="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+s+"(/(.*))?$","i");function T(qe){qe.path_=decodeURIComponent(qe.path)}const O=e.replace(/[.]/g,"\\."),yt=[{regex:m,indices:{bucket:1,path:3},postModify:function c(qe){"/"===qe.path.charAt(qe.path.length-1)&&(qe.path_=qe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${O}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:T},{regex:new RegExp(`^https?://${e===Fb?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:T}];for(let qe=0;qe<yt.length;qe++){const Dt=yt[qe],Gt=Dt.regex.exec(n);if(Gt){let wn=Gt[Dt.indices.path];wn||(wn=""),i=new sr(Gt[Dt.indices.bucket],wn),Dt.postModify(i);break}}if(null==i)throw function SC(t){return new ui(Fn.INVALID_URL,"Invalid URL '"+t+"'.")}(n);return i}}class OC{constructor(n){this.promise_=Promise.reject(n)}getPromise(){return this.promise_}cancel(n=!1){}}function Hg(t){return"string"==typeof t||t instanceof String}function nh(t){return _v()&&t instanceof Blob}function _v(){return typeof Blob<"u"&&!(0,F.UG)()}function kf(t,n,e,i){if(i<n)throw xu(`Invalid value for '${t}'. Expected ${n} or greater.`);if(i>e)throw xu(`Invalid value for '${t}'. Expected ${e} or less.`)}function Ji(t,n,e){let i=n;return null==e&&(i=`https://${n}`),`${e}://${i}/v0${t}`}function Gb(t){const n=encodeURIComponent;let e="?";for(const i in t)t.hasOwnProperty(i)&&(e=e+(n(i)+"=")+n(t[i])+"&");return e=e.slice(0,-1),e}var la=(()=>{return(t=la||(la={}))[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",la;var t})();function ih(t,n){const e=t>=500&&t<600,s=-1!==[408,429].indexOf(t),c=-1!==n.indexOf(t);return e||s||c}class FC{constructor(n,e,i,s,c,h,m,b,T,R,O,B=!0){this.url_=n,this.method_=e,this.headers_=i,this.body_=s,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=b,this.timeout_=T,this.progressCallback_=R,this.connectionFactory_=O,this.retry=B,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((W,ue)=>{this.resolve_=W,this.reject_=ue,this.start_()})}start_(){const e=(i,s)=>{const c=this.resolve_,h=this.reject_,m=s.connection;if(s.wasSuccessCode)try{const b=this.callback_(m,m.getResponse());!function PC(t){return void 0!==t}(b)?c():c(b)}catch(b){h(b)}else if(null!==m){const b=hv();b.serverResponse=m.getErrorText(),h(this.errorCallback_?this.errorCallback_(m,b):b)}else h(s.canceled?this.appDelete_?gv():pv():fv())};this.canceled_?e(0,new Gg(!1,null,!0)):this.backoffId_=function xS(t,n,e){let i=1,s=null,c=null,h=!1,m=0;function b(){return 2===m}let T=!1;function R(...Ae){T||(T=!0,n.apply(null,Ae))}function O(Ae){s=setTimeout(()=>{s=null,t(W,b())},Ae)}function B(){c&&clearTimeout(c)}function W(Ae,...ct){if(T)return void B();if(Ae)return B(),void R.call(null,Ae,...ct);if(b()||h)return B(),void R.call(null,Ae,...ct);let yt;i<64&&(i*=2),1===m?(m=2,yt=0):yt=1e3*(i+Math.random()),O(yt)}let ue=!1;function Ee(Ae){ue||(ue=!0,B(),!T&&(null!==s?(Ae||(m=2),clearTimeout(s),O(0)):Ae||(m=1)))}return O(0),c=setTimeout(()=>{h=!0,Ee(!0)},e),Ee}((i,s)=>{if(s)return void i(!1,new Gg(!1,null,!0));const c=this.connectionFactory_();this.pendingConnection_=c;const h=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const m=c.getErrorCode()===la.NO_ERROR,b=c.getStatus();if(!m||ih(b,this.additionalRetryCodes_)&&this.retry){const R=c.getErrorCode()===la.ABORT;return void i(!1,new Gg(!1,null,R))}const T=-1!==this.successCodes_.indexOf(b);i(!0,new Gg(T,c))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(n){this.canceled_=!0,this.appDelete_=n||!1,null!==this.backoffId_&&function Hb(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Gg{constructor(n,e,i){this.wasSuccessCode=n,this.connection=e,this.canceled=!!i}}function $b(...t){const n=function jb(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==n){const e=new n;for(let i=0;i<t.length;i++)e.append(t[i]);return e.getBlob()}if(_v())return new Blob(t);throw new ui(Fn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Hr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xf{constructor(n,e){this.data=n,this.contentType=e||null}}function Wg(t,n){switch(t){case Hr.RAW:return new xf(zg(n));case Hr.BASE64:case Hr.BASE64URL:return new xf(zb(t,n));case Hr.DATA_URL:return new xf(function VC(t){const n=new Yb(t);return n.base64?zb(Hr.BASE64,n.rest):function yv(t){let n;try{n=decodeURIComponent(t)}catch{throw eh(Hr.DATA_URL,"Malformed data URL.")}return zg(n)}(n.rest)}(n),function HC(t){return new Yb(t).contentType}(n))}throw hv()}function zg(t){const n=[];for(let e=0;e<t.length;e++){let i=t.charCodeAt(e);i<=127?n.push(i):i<=2047?n.push(192|i>>6,128|63&i):55296==(64512&i)?e<t.length-1&&56320==(64512&t.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&t.charCodeAt(++e),n.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):n.push(239,191,189):56320==(64512&i)?n.push(239,191,189):n.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(n)}function zb(t,n){switch(t){case Hr.BASE64:{const s=-1!==n.indexOf("-"),c=-1!==n.indexOf("_");if(s||c)throw eh(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Hr.BASE64URL:{const s=-1!==n.indexOf("+"),c=-1!==n.indexOf("/");if(s||c)throw eh(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Wb(t){if(typeof atob>"u")throw function Pf(t){return new ui(Fn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(n)}catch(s){throw s.message.includes("polyfill")?s:eh(t,"Invalid character found")}const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}class Yb{constructor(n){this.base64=!1,this.contentType=null;const e=n.match(/^data:([^,]+)?,/);if(null===e)throw eh(Hr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function Zb(t,n){return t.length>=n.length&&t.substring(t.length-n.length)===n}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=n.substring(n.indexOf(",")+1)}}class Wo{constructor(n,e){let i=0,s="";nh(n)?(this.data_=n,i=n.size,s=n.type):n instanceof ArrayBuffer?(e?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),i=this.data_.length):n instanceof Uint8Array&&(e?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),i=n.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(n,e){if(nh(this.data_)){const s=function vv(t,n,e){return t.webkitSlice?t.webkitSlice(n,e):t.mozSlice?t.mozSlice(n,e):t.slice?t.slice(n,e):null}(this.data_,n,e);return null===s?null:new Wo(s)}{const i=new Uint8Array(this.data_.buffer,n,e-n);return new Wo(i,!0)}}static getBlob(...n){if(_v()){const e=n.map(i=>i instanceof Wo?i.data_:i);return new Wo($b.apply(null,e))}{const e=n.map(h=>Hg(h)?Wg(Hr.RAW,h).data:h.data_);let i=0;e.forEach(h=>{i+=h.byteLength});const s=new Uint8Array(i);let c=0;return e.forEach(h=>{for(let m=0;m<h.length;m++)s[c++]=h[m]}),new Wo(s,!0)}}uploadData(){return this.data_}}function Yg(t){let n;try{n=JSON.parse(t)}catch{return null}return function xC(t){return"object"==typeof t&&!Array.isArray(t)}(n)?n:null}function bv(t){const n=t.lastIndexOf("/",t.length-2);return-1===n?t:t.slice(n+1)}function GC(t,n){return n}class Rr{constructor(n,e,i,s){this.server=n,this.local=e||n,this.writable=!!i,this.xform=s||GC}}let Ff=null;function rh(){if(Ff)return Ff;const t=[];t.push(new Rr("bucket")),t.push(new Rr("generation")),t.push(new Rr("metageneration")),t.push(new Rr("name","fullPath",!0));const e=new Rr("name");e.xform=function n(c,h){return function jC(t){return!Hg(t)||t.length<2?t:bv(t)}(h)},t.push(e);const s=new Rr("size");return s.xform=function i(c,h){return void 0!==h?Number(h):h},t.push(s),t.push(new Rr("timeCreated")),t.push(new Rr("updated")),t.push(new Rr("md5Hash",null,!0)),t.push(new Rr("cacheControl",null,!0)),t.push(new Rr("contentDisposition",null,!0)),t.push(new Rr("contentEncoding",null,!0)),t.push(new Rr("contentLanguage",null,!0)),t.push(new Rr("contentType",null,!0)),t.push(new Rr("metadata","customMetadata",!0)),Ff=t,Ff}function Fu(t,n,e){const i=Yg(n);return null===i?null:function Gr(t,n,e){const i={type:"file"},s=e.length;for(let c=0;c<s;c++){const h=e[c];i[h.local]=h.xform(i,n[h.server])}return function Jb(t,n){Object.defineProperty(t,"ref",{get:function e(){const c=new sr(t.bucket,t.fullPath);return n._makeStorageReference(c)}})}(i,t),i}(t,i,e)}function wv(t,n){const e={},i=n.length;for(let s=0;s<i;s++){const c=n[s];c.writable&&(e[c.server]=t[c.local])}return JSON.stringify(e)}const WC="prefixes",zC="items";class no{constructor(n,e,i,s){this.url=n,this.method=e,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ca(t){if(!t)throw hv()}function oh(t,n){return function e(i,s){const c=Fu(t,s,n);return ca(null!==c),c}}function sh(t){return function n(e,i){let s;return s=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function IC(){return new ui(Fn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function TC(){return new ui(Fn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function CC(t){return new ui(Fn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===e.getStatus()?function Ub(t){return new ui(Fn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):i,s.status=e.getStatus(),s.serverResponse=i.serverResponse,s}}function Lf(t){const n=sh(t);return function e(i,s){let c=n(i,s);return 404===i.getStatus()&&(c=function kS(t){return new ui(Fn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),c.serverResponse=s.serverResponse,c}}function ew(t,n,e){const s=Ji(n.fullServerUrl(),t.host,t._protocol),h=t.maxOperationRetryTime,m=new no(s,"GET",oh(t,e),h);return m.errorHandler=Lf(n),m}function Ev(t,n,e,i,s){const c={};c.prefix=n.isRoot?"":n.path+"/",e&&e.length>0&&(c.delimiter=e),i&&(c.pageToken=i),s&&(c.maxResults=s);const m=Ji(n.bucketOnlyServerUrl(),t.host,t._protocol),T=t.maxOperationRetryTime,R=new no(m,"GET",function YC(t,n){return function e(i,s){const c=function Dv(t,n,e){const i=Yg(e);return null===i?null:function Qb(t,n,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[WC])for(const s of e[WC]){const c=s.replace(/\/$/,""),h=t._makeStorageReference(new sr(n,c));i.prefixes.push(h)}if(e[zC])for(const s of e[zC]){const c=t._makeStorageReference(new sr(n,s.name));i.items.push(c)}return i}(t,n,i)}(t,n,s);return ca(null!==c),c}}(t,n.bucket),T);return R.urlParams=c,R.errorHandler=sh(n),R}function Iv(t,n,e){const i=Object.assign({},e);return i.fullPath=t.path,i.size=n.size(),i.contentType||(i.contentType=function FS(t,n){return t&&t.contentType||n&&n.type()||"application/octet-stream"}(null,n)),i}class Bf{constructor(n,e,i,s){this.current=n,this.total=e,this.finalized=!!i,this.metadata=s||null}}function Sc(t,n){let e=null;try{e=t.getResponseHeader("X-Goog-Upload-Status")}catch{ca(!1)}return ca(!!e&&-1!==(n||["active"]).indexOf(e)),e}const qC={STATE_CHANGED:"state_changed"},io={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Sv(t){switch(t){case"running":case"pausing":case"canceling":return io.RUNNING;case"paused":return io.PAUSED;case"success":return io.SUCCESS;case"canceled":return io.CANCELED;default:return io.ERROR}}class KC{constructor(n,e,i){if(function kC(t){return"function"==typeof t}(n)||null!=e||null!=i)this.next=n,this.error=e??void 0,this.complete=i??void 0;else{const c=n;this.next=c.next,this.error=c.error,this.complete=c.complete}}}function ah(t){return(...n)=>{Promise.resolve().then(()=>t(...n))}}let Av=null;class rw{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=la.NO_ERROR,this.sendPromise_=new Promise(n=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=la.ABORT,n()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=la.NETWORK_ERROR,n()}),this.xhr_.addEventListener("load",()=>{n()})})}send(n,e,i,s){if(this.sent_)throw th("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,n,!0),void 0!==s)for(const c in s)s.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,s[c].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw th("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw th("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw th("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw th("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(n){return this.xhr_.getResponseHeader(n)}addUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",n)}removeUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",n)}}class JC extends rw{initXhr(){this.xhr_.responseType="text"}}function zo(){return Av?Av():new JC}class aw{constructor(n,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=n,this._blob=e,this._metadata=i,this._mappings=rh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Fn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const c=this.isExponentialBackoffExpired();if(ih(s.status,[])){if(!c)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();s=fv()}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Fn.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,c)=>{this._resolve=s,this._reject=c,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const n=this._transferred;return e=>this._updateProgress(n+e)}_shouldDoResumable(n){return n.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(n){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":n(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((n,e)=>{const i=function ZC(t,n,e,i,s){const c=n.bucketOnlyServerUrl(),h=Iv(n,i,s),m={name:h.fullPath},b=Ji(c,t.host,t._protocol),R={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},O=wv(h,e),ue=new no(b,"POST",function W(Ee){let Ae;Sc(Ee);try{Ae=Ee.getResponseHeader("X-Goog-Upload-URL")}catch{ca(!1)}return ca(Hg(Ae)),Ae},t.maxUploadRetryTime);return ue.urlParams=m,ue.headers=R,ue.body=O,ue.errorHandler=sh(n),ue}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,zo,n,e);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const n=this._uploadUrl;this._resolveToken((e,i)=>{const s=function iw(t,n,e,i){const b=new no(e,"POST",function c(T){const R=Sc(T,["active","final"]);let O=null;try{O=T.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ca(!1)}O||ca(!1);const B=Number(O);return ca(!isNaN(B)),new Bf(B,i.size(),"final"===R)},t.maxUploadRetryTime);return b.headers={"X-Goog-Upload-Command":"query"},b.errorHandler=sh(n),b}(this._ref.storage,this._ref._location,n,this._blob),c=this._ref.storage._makeRequest(s,zo,e,i);this._request=c,c.getPromise().then(h=>{this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const n=262144*this._chunkMultiplier,e=new Bf(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((s,c)=>{let h;try{h=function LS(t,n,e,i,s,c,h,m){const b=new Bf(0,0);if(h?(b.current=h.current,b.total=h.total):(b.current=0,b.total=i.size()),i.size()!==b.total)throw function NC(){return new ui(Fn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const T=b.total-b.current;let R=T;s>0&&(R=Math.min(R,s));const O=b.current;let W="";W=0===R?"finalize":T===R?"upload, finalize":"upload";const ue={"X-Goog-Upload-Command":W,"X-Goog-Upload-Offset":`${b.current}`},Ee=i.slice(O,O+R);if(null===Ee)throw Vb();const yt=new no(e,"POST",function Ae(qe,Dt){const Gt=Sc(qe,["active","final"]),Ln=b.current+R,wn=i.size();let Mi;return Mi="final"===Gt?oh(n,c)(qe,Dt):null,new Bf(Ln,wn,"final"===Gt,Mi)},n.maxUploadRetryTime);return yt.headers=ue,yt.body=Ee.uploadData(),yt.progressCallback=m||null,yt.errorHandler=sh(t),yt}(this._ref._location,this._ref.storage,i,this._blob,n,this._mappings,e,this._makeProgressCallback())}catch(b){return this._error=b,void this._transition("error")}const m=this._ref.storage._makeRequest(h,zo,s,c,!1);this._request=m,m.getPromise().then(b=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(b.current),b.finalized?(this._metadata=b.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((n,e)=>{const i=ew(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(i,zo,n,e);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((n,e)=>{const i=function nw(t,n,e,i,s){const c=n.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},b=function m(){let yt="";for(let qe=0;qe<2;qe++)yt+=Math.random().toString().slice(2);return yt}();h["Content-Type"]="multipart/related; boundary="+b;const T=Iv(n,i,s),R=wv(T,e),W=Wo.getBlob("--"+b+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+R+"\r\n--"+b+"\r\nContent-Type: "+T.contentType+"\r\n\r\n",i,"\r\n--"+b+"--");if(null===W)throw Vb();const ue={name:T.fullPath},Ee=Ji(c,t.host,t._protocol),ct=t.maxUploadRetryTime,tt=new no(Ee,"POST",oh(t,e),ct);return tt.urlParams=ue,tt.headers=h,tt.body=W.uploadData(),tt.errorHandler=sh(n),tt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,zo,n,e);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(n){const e=this._transferred;this._transferred=n,this._transferred!==e&&this._notifyObservers()}_transition(n){if(this._state!==n)switch(n){case"canceling":case"pausing":this._state=n,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=n,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=n,this._notifyObservers();break;case"canceled":this._error=pv(),this._state=n,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const n=Sv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:n,metadata:this._metadata,task:this,ref:this._ref}}on(n,e,i,s){const c=new KC(e||void 0,i||void 0,s||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(n,e){return this._promise.then(n,e)}catch(n){return this.then(null,n)}_addObserver(n){this._observers.push(n),this._notifyObserver(n)}_removeObserver(n){const e=this._observers.indexOf(n);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let n=!0;switch(Sv(this._state)){case io.SUCCESS:ah(this._resolve.bind(null,this.snapshot))();break;case io.CANCELED:case io.ERROR:ah(this._reject.bind(null,this._error))();break;default:n=!1}n&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(n){switch(Sv(this._state)){case io.RUNNING:case io.PAUSED:n.next&&ah(n.next.bind(n,this.snapshot))();break;case io.SUCCESS:n.complete&&ah(n.complete.bind(n))();break;default:n.error&&ah(n.error.bind(n,this._error))()}}resume(){const n="paused"===this._state||"pausing"===this._state;return n&&this._transition("running"),n}pause(){const n="running"===this._state;return n&&this._transition("pausing"),n}cancel(){const n="running"===this._state||"pausing"===this._state;return n&&this._transition("canceling"),n}}class Ac{constructor(n,e){this._service=n,this._location=e instanceof sr?e:sr.makeFromUrl(e,n.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(n,e){return new Ac(n,e)}get root(){const n=new sr(this._location.bucket,"");return this._newRef(this._service,n)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bv(this._location.path)}get storage(){return this._service}get parent(){const n=function qb(t){if(0===t.length)return null;const n=t.lastIndexOf("/");return-1===n?"":t.slice(0,n)}(this._location.path);if(null===n)return null;const e=new sr(this._location.bucket,n);return new Ac(this._service,e)}_throwIfRoot(n){if(""===this._location.path)throw mv(n)}}function Nv(t,n,e){return uw.apply(this,arguments)}function uw(){return(uw=(0,Ur.Z)(function*(t,n,e){const s=yield nT(t,{pageToken:e});n.prefixes.push(...s.prefixes),n.items.push(...s.items),null!=s.nextPageToken&&(yield Nv(t,n,s.nextPageToken))})).apply(this,arguments)}function nT(t,n){null!=n&&"number"==typeof n.maxResults&&kf("options.maxResults",1,1e3,n.maxResults);const e=n||{},i=Ev(t.storage,t._location,"/",e.pageToken,e.maxResults);return t.storage.makeRequestWithTokens(i,zo)}function HS(t){t._throwIfRoot("getDownloadURL");const n=function tw(t,n,e){const s=Ji(n.fullServerUrl(),t.host,t._protocol),h=t.maxOperationRetryTime,m=new no(s,"GET",function Xb(t,n){return function e(i,s){const c=Fu(t,s,n);return ca(null!==c),function $C(t,n,e,i){const s=Yg(n);if(null===s||!Hg(s.downloadTokens))return null;const c=s.downloadTokens;if(0===c.length)return null;const h=encodeURIComponent;return c.split(",").map(T=>{const O=t.fullPath;return Ji("/b/"+h(t.bucket)+"/o/"+h(O),e,i)+Gb({alt:"media",token:T})})[0]}(c,s,t.host,t._protocol)}}(t,e),h);return m.errorHandler=Lf(n),m}(t.storage,t._location,rh());return t.storage.makeRequestWithTokens(n,zo).then(e=>{if(null===e)throw function MC(){return new ui(Fn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function iT(t,n){const e=function Kb(t,n){const e=n.split("/").filter(i=>i.length>0).join("/");return 0===t.length?e:t+"/"+e}(t._location.path,n),i=new sr(t._location.bucket,e);return new Ac(t.storage,i)}function rT(t,n){if(t instanceof Jg){const e=t;if(null==e._bucket)throw function RC(){return new ui(Fn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Lb+"' property when initializing the app?")}();const i=new Ac(e,e._bucket);return null!=n?rT(i,n):i}return void 0!==n?iT(t,n):t}function dw(t,n){if(n&&function jS(t){return/^[A-Za-z]+:\/\//.test(t)}(n)){if(t instanceof Jg)return function Kg(t,n){return new Ac(t,n)}(t,n);throw xu("To use ref(service, url), the first argument must be a Storage instance.")}return rT(t,n)}function Uf(t,n){const e=n?.[Lb];return null==e?null:sr.makeFromBucketSpec(e,t)}class Jg{constructor(n,e,i,s,c){this.app=n,this._authProvider=e,this._appCheckProvider=i,this._url=s,this._firebaseVersion=c,this._bucket=null,this._host=Fb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?sr.makeFromBucketSpec(s,this._host):Uf(this._host,this.app.options)}get host(){return this._host}set host(n){this._host=n,this._bucket=null!=this._url?sr.makeFromBucketSpec(this._url,n):Uf(n,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(n){kf("time",0,Number.POSITIVE_INFINITY,n),this._maxUploadRetryTime=n}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(n){kf("time",0,Number.POSITIVE_INFINITY,n),this._maxOperationRetryTime=n}_getAuthToken(){var n=this;return(0,Ur.Z)(function*(){if(n._overrideAuthToken)return n._overrideAuthToken;const e=n._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var n=this;return(0,Ur.Z)(function*(){const e=n._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(n=>n.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(n){return new Ac(this,n)}_makeRequest(n,e,i,s,c=!0){if(this._deleted)return new OC(gv());{const h=function UC(t,n,e,i,s,c,h=!0){const m=Gb(t.urlParams),b=t.url+m,T=Object.assign({},t.headers);return function $g(t,n){n&&(t["X-Firebase-GMPID"]=n)}(T,n),function LC(t,n){null!==n&&n.length>0&&(t.Authorization="Firebase "+n)}(T,e),function jg(t,n){t["X-Firebase-Storage-Version"]="webjs/"+(n??"AppManager")}(T,c),function BC(t,n){null!==n&&(t["X-Firebase-AppCheck"]=n)}(T,i),new FC(b,t.method,T,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,h)}(n,this._appId,i,s,e,this._firebaseVersion,c);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}makeRequestWithTokens(n,e){var i=this;return(0,Ur.Z)(function*(){const[s,c]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(n,e,s,c).getPromise()})()}}const oT="@firebase/storage";function fw(t,n){return dw(t=(0,F.m9)(t),n)}function pw(t,{instanceIdentifier:n}){const e=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Jg(e,i,s,n,yr.SDK_VERSION)}!function KS(){(0,yr._registerComponent)(new qi.wA("storage",pw,"PUBLIC").setMultipleInstances(!0)),(0,yr.registerVersion)(oT,"0.11.2",""),(0,yr.registerVersion)(oT,"0.11.2","esm2017")}();class ro{constructor(n,e,i){this._delegate=n,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class gw{constructor(n,e){this._delegate=n,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ro(this._delegate.snapshot,this,this._ref)}then(n,e){return this._delegate.then(i=>{if(n)return n(new ro(i,this,this._ref))},e)}on(n,e,i,s){let c;return e&&(c="function"==typeof e?h=>e(new ro(h,this,this._ref)):{next:e.next?h=>e.next(new ro(h,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(n,c,i||void 0,s||void 0)}}class em{constructor(n,e){this._delegate=n,this._service=e}get prefixes(){return this._delegate.prefixes.map(n=>new fl(n,this._service))}get items(){return this._delegate.items.map(n=>new fl(n,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class fl{constructor(n,e){this._delegate=n,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(n){const e=function cT(t,n){return iT(t,n)}(this._delegate,n);return new fl(e,this.storage)}get root(){return new fl(this._delegate.root,this.storage)}get parent(){const n=this._delegate.parent;return null==n?null:new fl(n,this.storage)}put(n,e){return this._throwIfRoot("put"),new gw(function sT(t,n,e){return function eT(t,n,e){return t._throwIfRoot("uploadBytesResumable"),new aw(t,new Wo(n),e)}(t=(0,F.m9)(t),n,e)}(this._delegate,n,e),this)}putString(n,e=Hr.RAW,i){this._throwIfRoot("putString");const s=Wg(e,n),c=Object.assign({},i);return null==c.contentType&&null!=s.contentType&&(c.contentType=s.contentType),new gw(new aw(this._delegate,new Wo(s.data,!0),c),this)}listAll(){return function WS(t){return function BS(t){const n={prefixes:[],items:[]};return Nv(t,n).then(()=>n)}(t=(0,F.m9)(t))}(this._delegate).then(n=>new em(n,this.storage))}list(n){return function lT(t,n){return nT(t=(0,F.m9)(t),n)}(this._delegate,n||void 0).then(e=>new em(e,this.storage))}getMetadata(){return function aT(t){return function US(t){t._throwIfRoot("getMetadata");const n=ew(t.storage,t._location,rh());return t.storage.makeRequestWithTokens(n,zo)}(t=(0,F.m9)(t))}(this._delegate)}updateMetadata(n){return function Xg(t,n){return function VS(t,n){t._throwIfRoot("updateMetadata");const e=function Zg(t,n,e,i){const c=Ji(n.fullServerUrl(),t.host,t._protocol),m=wv(e,i),T=t.maxOperationRetryTime,R=new no(c,"PATCH",oh(t,i),T);return R.headers={"Content-Type":"application/json; charset=utf-8"},R.body=m,R.errorHandler=Lf(n),R}(t.storage,t._location,n,rh());return t.storage.makeRequestWithTokens(e,zo)}(t=(0,F.m9)(t),n)}(this._delegate,n)}getDownloadURL(){return function zS(t){return HS(t=(0,F.m9)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function YS(t){return function GS(t){t._throwIfRoot("deleteObject");const n=function Tv(t,n){const i=Ji(n.fullServerUrl(),t.host,t._protocol),m=new no(i,"DELETE",function h(b,T){},t.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=Lf(n),m}(t.storage,t._location);return t.storage.makeRequestWithTokens(n,zo)}(t=(0,F.m9)(t))}(this._delegate)}_throwIfRoot(n){if(""===this._delegate._location.path)throw mv(n)}}class hT{constructor(n,e){this.app=n,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(n){if(No(n))throw xu("ref() expected a child path but got a URL, use refFromURL instead.");return new fl(fw(this._delegate,n),this)}refFromURL(n){if(!No(n))throw xu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{sr.makeFromUrl(n,this._delegate.host)}catch{throw xu("refFromUrl() expected a valid full URL but got an invalid one.")}return new fl(fw(this._delegate,n),this)}setMaxUploadRetryTime(n){this._delegate.maxUploadRetryTime=n}setMaxOperationRetryTime(n){this._delegate.maxOperationRetryTime=n}useEmulator(n,e,i={}){!function uT(t,n,e,i={}){!function hw(t,n,e,i={}){t.host=`${n}:${e}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken="string"==typeof s?s:(0,F.Sg)(s,t.app.options.projectId))}(t,n,e,i)}(this._delegate,n,e,i)}}function No(t){return/^[A-Za-z]+:\/\//.test(t)}function gT(t,{instanceIdentifier:n}){const e=t.getProvider("app-compat").getImmediate(),i=t.getProvider("storage").getImmediate({identifier:n});return new hT(e,i)}function kv(t){const n=function mw(t){return new jn.y(n=>{const e=h=>n.next(h);e(t.snapshot);const c=t.on("state_changed",e);return t.then(h=>{e(h),n.complete()},h=>{e(t.snapshot),(h=>{n.error(h)})(h)}),function(){c()}}).pipe(function xb(t,n=Br.z){return(0,un.e)((e,i)=>{let s=null,c=null,h=null;const m=()=>{if(s){s.unsubscribe(),s=null;const T=c;c=null,i.next(T)}};function b(){const T=h+t,R=n.now();if(R<T)return s=this.schedule(void 0,T-R),void i.add(s);m()}e.subscribe((0,gn.x)(i,T=>{c=T,h=n.now(),s||(s=n.schedule(b,t),i.add(s))},()=>{m(),i.complete()},void 0,()=>{c=s=null}))})}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>n,percentageChanges:()=>n.pipe((0,vt.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function tm(t){return{getDownloadURL:()=>dt(void 0).pipe(Kn.fc,bn(()=>t.getDownloadURL()),Kn.iC),getMetadata:()=>dt(void 0).pipe(Kn.fc,bn(()=>t.getMetadata()),Kn.iC),delete:()=>(0,Kt.D)(t.delete()),child:n=>tm(t.child(n)),updateMetadata:n=>(0,Kt.D)(t.updateMetadata(n)),put:(n,e)=>kv(t.put(n,e)),putString:(n,e,i)=>kv(t.putString(n,e,i)),list:n=>(0,Kt.D)(t.list(n)),listAll:()=>(0,Kt.D)(t.listAll())}}!function Pv(t){const n={TaskState:io,TaskEvent:qC,StringFormat:Hr,Storage:hT,Reference:fl};t.INTERNAL.registerComponent(new qi.wA("storage-compat",gT,"PUBLIC").setServiceProps(n).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.2")}(Ho.Z);const _w=new l.OlP("angularfire2.storageBucket"),vw=new l.OlP("angularfire2.storage.maxUploadRetryTime"),mT=new l.OlP("angularfire2.storage.maxOperationRetryTime"),yw=new l.OlP("angularfire2.storage.use-emulator");let bw=(()=>{class t{constructor(e,i,s,c,h,m,b,T,R,O){const B=(0,ni.on)(e,h,i);this.storage=(0,ni.cc)(`${B.name}.storage.${s}`,"AngularFireStorage",B.name,()=>{const W=h.runOutsideAngular(()=>B.storage(s||void 0)),ue=R;return ue&&W.useEmulator(...ue),b&&W.setMaxUploadRetryTime(b),T&&W.setMaxOperationRetryTime(T),W},[b,T])}ref(e){return tm(this.storage.ref(e))}refFromURL(e){return tm(this.storage.refFromURL(e))}upload(e,i,s){return tm(this.storage.ref(e)).put(i,s)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(ni.Dh),l.LFG(ni.xv,8),l.LFG(_w,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Kn.HU),l.LFG(vw,8),l.LFG(mT,8),l.LFG(yw,8),l.LFG(Of,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),pl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})(),Rc=(()=>{class t{constructor(){bb.Z.registerVersion("angularfire",Kn.q4.full,"gcs-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[bw],imports:[pl]}),t})();class ji extends Un.x{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}const{isArray:xv}=Array,{getPrototypeOf:Dw,prototype:_T,keys:JS}=Object;const{isArray:yT}=Array;function nm(t){return(0,vt.U)(n=>function bT(t,n){return yT(n)?t(...n):t(n)}(t,n))}var Cw=k(9672);function im(...t){const n=(0,Fi.yG)(t),e=(0,Fi.jO)(t),{args:i,keys:s}=function Ew(t){if(1===t.length){const n=t[0];if(xv(n))return{args:n,keys:null};if(function vT(t){return t&&"object"==typeof t&&Dw(t)===_T}(n)){const e=JS(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}(t);if(0===i.length)return(0,Kt.D)([],n);const c=new jn.y(function Tw(t,n,e=vo.y){return i=>{DT(n,()=>{const{length:s}=t,c=new Array(s);let h=s,m=s;for(let b=0;b<s;b++)DT(n,()=>{const T=(0,Kt.D)(t[b],n);let R=!1;T.subscribe((0,gn.x)(i,O=>{c[b]=O,R||(R=!0,m--),m||i.next(e(c.slice()))},()=>{--h||i.complete()}))},i)},i)}}(i,n,s?h=>function wT(t,n){return t.reduce((e,i,s)=>(e[i]=n[s],e),{})}(s,h):vo.y));return e?c.pipe(nm(e)):c}function DT(t,n,e){t?(0,Cw.f)(e,t,n):n()}var Lu=k(8189);function lh(...t){return function Iw(){return(0,Lu.J)(1)}()((0,Kt.D)(t,(0,Fi.yG)(t)))}function Fv(t){return new jn.y(n=>{(0,tr.Xf)(t()).subscribe(n)})}var Sw=k(9635);function ch(t,n){const e=(0,Ro.m)(t)?t:()=>t,i=s=>s.error(e());return new jn.y(n?s=>n.schedule(i,0,s):i)}var Vf=k(727);function uh(){return(0,un.e)((t,n)=>{let e=null;t._refCount++;const i=(0,gn.x)(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const s=t._connection,c=e;e=null,s&&(!c||s===c)&&s.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class Lv extends jn.y{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,un.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Vf.w0;const e=this.getSubject();n.add(this.source.subscribe((0,gn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Vf.w0.EMPTY)}return n}refCount(){return uh()(this)}}function rm(...t){const n=(0,Fi.yG)(t);return(0,un.e)((e,i)=>{(n?lh(t,e,n):lh(t,e)).subscribe(i)})}var ar=k(5577);function dh(t,n){return(0,Ro.m)(n)?(0,ar.z)(t,n,1):(0,ar.z)(t,1)}var lr=k(8505);function Bu(t){return(0,un.e)((n,e)=>{let c,i=null,s=!1;i=n.subscribe((0,gn.x)(e,void 0,void 0,h=>{c=(0,tr.Xf)(t(h,Bu(t)(n))),i?(i.unsubscribe(),i=null,c.subscribe(e)):s=!0})),s&&(i.unsubscribe(),i=null,c.subscribe(e))})}function om(t){return t<=0?()=>oa.E:(0,un.e)((n,e)=>{let i=[];n.subscribe((0,gn.x)(e,s=>{i.push(s),t<i.length&&i.shift()},()=>{for(const s of i)e.next(s);e.complete()},void 0,()=>{i=null}))})}function Aw(t,n){const e=arguments.length>=2;return i=>i.pipe(t?ii((s,c)=>t(s,c,i)):vo.y,om(1),e?bg(n):$0(()=>new Wd))}function Bv(t){return(0,un.e)((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const zt="primary",sm=Symbol("RouteTitle");class QS{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Hf(t){return new QS(t)}function CT(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const s={};for(let c=0;c<i.length;c++){const h=i[c],m=t[c];if(h.startsWith(":"))s[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:t.slice(0,i.length),posParams:s}}function ua(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let c=0;c<e.length;c++)if(s=e[c],!Nw(t[s],n[s]))return!1;return!0}function Nw(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((s,c)=>i[c]===s)}return t===n}function Uv(t){return Array.prototype.concat.apply([],t)}function Nc(t){return t.length>0?t[t.length-1]:null}function $i(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function da(t){return(0,l.CqO)(t)?t:(0,l.QGY)(t)?(0,Kt.D)(Promise.resolve(t)):dt(t)}const lm=!1,Vv={exact:function IT(t,n,e){if(!Oc(t.segments,n.segments)||!um(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!IT(t.children[i],n.children[i],e))return!1;return!0},subset:ST},cm={exact:function XS(t,n){return ua(t,n)},subset:function e1(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Nw(t[e],n[e]))},ignored:()=>!0};function Gf(t,n,e){return Vv[e.paths](t.root,n.root,e.matrixParams)&&cm[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function ST(t,n,e){return Hv(t,n,n.segments,e)}function Hv(t,n,e,i){if(t.segments.length>e.length){const s=t.segments.slice(0,e.length);return!(!Oc(s,e)||n.hasChildren()||!um(s,e,i))}if(t.segments.length===e.length){if(!Oc(t.segments,e)||!um(t.segments,e,i))return!1;for(const s in n.children)if(!t.children[s]||!ST(t.children[s],n.children[s],i))return!1;return!0}{const s=e.slice(0,t.segments.length),c=e.slice(t.segments.length);return!!(Oc(t.segments,s)&&um(t.segments,s,i)&&t.children[zt])&&Hv(t.children[zt],n,c,i)}}function um(t,n,e){return n.every((i,s)=>cm[e](t[s].parameters,i.parameters))}class Mc{constructor(n=new Qt([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hf(this.queryParams)),this._queryParamMap}toString(){return Pw.serialize(this)}}class Qt{constructor(n,e){this.segments=n,this.children=e,this.parent=null,$i(e,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hh(this)}}class jf{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Hf(this.parameters)),this._parameterMap}toString(){return kw(this)}}function Oc(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}let $f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return new Gv},providedIn:"root"}),t})();class Gv{parse(n){const e=new o1(n);return new Mc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${dm(n.root,!0)}`,i=function MT(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(s=>`${fh(e)}=${fh(s)}`).join("&"):`${fh(e)}=${fh(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function AT(t){return encodeURI(t)}(n.fragment)}`:""}`}}const Pw=new Gv;function hh(t){return t.segments.map(n=>kw(n)).join("/")}function dm(t,n){if(!t.hasChildren())return hh(t);if(n){const e=t.children[zt]?dm(t.children[zt],!1):"",i=[];return $i(t.children,(s,c)=>{c!==zt&&i.push(`${c}:${dm(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Ow(t,n){let e=[];return $i(t.children,(i,s)=>{s===zt&&(e=e.concat(n(i,s)))}),$i(t.children,(i,s)=>{s!==zt&&(e=e.concat(n(i,s)))}),e}(t,(i,s)=>s===zt?[dm(t.children[zt],!1)]:[`${s}:${dm(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[zt]?`${hh(t)}/${e[0]}`:`${hh(t)}/(${e.join("//")})`}}function jv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fh(t){return jv(t).replace(/%3B/gi,";")}function $v(t){return jv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wv(t){return decodeURIComponent(t)}function RT(t){return Wv(t.replace(/\+/g,"%20"))}function kw(t){return`${$v(t.path)}${function NT(t){return Object.keys(t).map(n=>`;${$v(n)}=${$v(t[n])}`).join("")}(t.parameters)}`}const t1=/^[^\/()?;=#]+/;function zv(t){const n=t.match(t1);return n?n[0]:""}const n1=/^[^=?&#]+/,OT=/^[^&#]+/;class o1{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[zt]=new Qt(n,e)),i}parseSegment(){const n=zv(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new l.vHH(4009,lm);return this.capture(n),new jf(Wv(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=zv(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=zv(this.remaining);s&&(i=s,this.capture(i))}n[Wv(e)]=Wv(i)}parseQueryParam(n){const e=function i1(t){const n=t.match(n1);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const h=function r1(t){const n=t.match(OT);return n?n[0]:""}(this.remaining);h&&(i=h,this.capture(i))}const s=RT(e),c=RT(i);if(n.hasOwnProperty(s)){let h=n[s];Array.isArray(h)||(h=[h],n[s]=h),h.push(c)}else n[s]=c}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=zv(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new l.vHH(4010,lm);let c;i.indexOf(":")>-1?(c=i.slice(0,i.indexOf(":")),this.capture(c),this.capture(":")):n&&(c=zt);const h=this.parseChildren();e[c]=1===Object.keys(h).length?h[zt]:new Qt([],h),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new l.vHH(4011,lm)}}function xw(t){return t.segments.length>0?new Qt([],{[zt]:t}):t}function Yv(t){const n={};for(const i of Object.keys(t.children)){const c=Yv(t.children[i]);(c.segments.length>0||c.hasChildren())&&(n[i]=c)}return function PT(t){if(1===t.numberOfChildren&&t.children[zt]){const n=t.children[zt];return new Qt(t.segments.concat(n.segments),n.children)}return t}(new Qt(t.segments,n))}function ph(t){return t instanceof Mc}const r=!1;function d(t,n,e,i,s){if(0===e.length)return D(n.root,n.root,n.root,i,s);const c=function M(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new A(!0,0,t);let n=0,e=!1;const i=t.reduce((s,c,h)=>{if("object"==typeof c&&null!=c){if(c.outlets){const m={};return $i(c.outlets,(b,T)=>{m[T]="string"==typeof b?b.split("/"):b}),[...s,{outlets:m}]}if(c.segmentPath)return[...s,c.segmentPath]}return"string"!=typeof c?[...s,c]:0===h?(c.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?e=!0:".."===m?n++:""!=m&&s.push(m))}),s):[...s,c]},[]);return new A(e,n,i)}(e);return c.toRoot()?D(n.root,n.root,new Qt([],{}),i,s):function h(b){const T=function te(t,n,e,i){if(t.isAbsolute)return new L(n.root,!0,0);if(-1===i)return new L(e,e===n.root,0);return function be(t,n,e){let i=t,s=n,c=e;for(;c>s;){if(c-=s,i=i.parent,!i)throw new l.vHH(4005,r&&"Invalid number of '../'");s=i.segments.length}return new L(i,!1,s-c)}(e,i+(g(t.commands[0])?0:1),t.numberOfDoubleDots)}(c,n,t.snapshot?._urlSegment,b),R=T.processChildren?ot(T.segmentGroup,T.index,c.commands):Xe(T.segmentGroup,T.index,c.commands);return D(n.root,T.segmentGroup,R,i,s)}(t.snapshot?._lastPathIndex)}function g(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function v(t){return"object"==typeof t&&null!=t&&t.outlets}function D(t,n,e,i,s){let h,c={};i&&$i(i,(b,T)=>{c[T]=Array.isArray(b)?b.map(R=>`${R}`):`${b}`}),h=t===n?e:C(t,n,e);const m=xw(Yv(h));return new Mc(m,c,s)}function C(t,n,e){const i={};return $i(t.children,(s,c)=>{i[c]=s===n?e:C(s,n,e)}),new Qt(t.segments,i)}class A{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&g(i[0]))throw new l.vHH(4003,r&&"Root segment cannot have matrix parameters");const s=i.find(v);if(s&&s!==Nc(i))throw new l.vHH(4004,r&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class L{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function Xe(t,n,e){if(t||(t=new Qt([],{})),0===t.segments.length&&t.hasChildren())return ot(t,n,e);const i=function At(t,n,e){let i=0,s=n;const c={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(i>=e.length)return c;const h=t.segments[s],m=e[i];if(v(m))break;const b=`${m}`,T=i<e.length-1?e[i+1]:null;if(s>0&&void 0===b)break;if(b&&T&&"object"==typeof T&&void 0===T.outlets){if(!di(b,T,h))return c;i+=2}else{if(!di(b,{},h))return c;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(t,n,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const c=new Qt(t.segments.slice(0,i.pathIndex),{});return c.children[zt]=new Qt(t.segments.slice(i.pathIndex),t.children),ot(c,0,s)}return i.match&&0===s.length?new Qt(t.segments,{}):i.match&&!t.hasChildren()?ke(t,n,e):i.match?ot(t,0,s):ke(t,n,e)}function ot(t,n,e){if(0===e.length)return new Qt(t.segments,{});{const i=function He(t){return v(t[0])?t[0].outlets:{[zt]:t}}(e),s={};if(!i[zt]&&t.children[zt]&&1===t.numberOfChildren&&0===t.children[zt].segments.length){const c=ot(t.children[zt],n,e);return new Qt(t.segments,c.children)}return $i(i,(c,h)=>{"string"==typeof c&&(c=[c]),null!==c&&(s[h]=Xe(t.children[h],n,c))}),$i(t.children,(c,h)=>{void 0===i[h]&&(s[h]=c)}),new Qt(t.segments,s)}}function ke(t,n,e){const i=t.segments.slice(0,n);let s=0;for(;s<e.length;){const c=e[s];if(v(c)){const b=Vt(c.outlets);return new Qt(i,b)}if(0===s&&g(e[0])){i.push(new jf(t.segments[n].path,Wn(e[0]))),s++;continue}const h=v(c)?c.outlets[zt]:`${c}`,m=s<e.length-1?e[s+1]:null;h&&m&&g(m)?(i.push(new jf(h,Wn(m))),s+=2):(i.push(new jf(h,{})),s++)}return new Qt(i,{})}function Vt(t){const n={};return $i(t,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[i]=ke(new Qt([],{}),0,e))}),n}function Wn(t){const n={};return $i(t,(e,i)=>n[i]=`${e}`),n}function di(t,n,e){return t==e.path&&ua(n,e.parameters)}const hm="imperative";class Pc{constructor(n,e){this.id=n,this.url=e}}class kT extends Pc{constructor(n,e,i="imperative",s=null){super(n,e),this.type=0,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wf extends Pc{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fw extends Pc{constructor(n,e,i,s){super(n,e),this.reason=i,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lw extends Pc{constructor(n,e,i,s){super(n,e),this.reason=i,this.code=s,this.type=16}}class xT extends Pc{constructor(n,e,i,s){super(n,e),this.error=i,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zN extends Pc{constructor(n,e,i,s){super(n,e),this.urlAfterRedirects=i,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YN extends Pc{constructor(n,e,i,s){super(n,e),this.urlAfterRedirects=i,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZN extends Pc{constructor(n,e,i,s,c){super(n,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qN extends Pc{constructor(n,e,i,s){super(n,e),this.urlAfterRedirects=i,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KN extends Pc{constructor(n,e,i,s){super(n,e),this.urlAfterRedirects=i,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JN{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class QN{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class XN{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eM{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tM{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nM{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s1{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let oM=(()=>{class t{createUrlTree(e,i,s,c,h,m){return d(e||i.root,s,c,h,m)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),aM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(n){return oM.\u0275fac(n)},providedIn:"root"}),t})();class a1{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=FT(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=FT(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=LT(n,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==n)}pathFromRoot(n){return LT(n,this._root).map(e=>e.value)}}function FT(t,n){if(t===n.value)return n;for(const e of n.children){const i=FT(t,e);if(i)return i}return null}function LT(t,n){if(t===n.value)return[n];for(const e of n.children){const i=LT(t,e);if(i.length)return i.unshift(n),i}return[]}class Uu{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function fm(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class l1 extends a1{constructor(n,e){super(n),this.snapshot=e,BT(this,n)}toString(){return this.snapshot.toString()}}function c1(t,n){const e=function lM(t,n){const h=new Bw([],{},{},"",{},zt,n,null,t.root,-1,{});return new d1("",new Uu(h,[]))}(t,n),i=new ji([new jf("",{})]),s=new ji({}),c=new ji({}),h=new ji({}),m=new ji(""),b=new pm(i,s,h,m,c,zt,n,e.root);return b.snapshot=e.root,new l1(new Uu(b,[]),e)}class pm{constructor(n,e,i,s,c,h,m,b){this.url=n,this.params=e,this.queryParams=i,this.fragment=s,this.data=c,this.outlet=h,this.component=m,this.title=this.data?.pipe((0,vt.U)(T=>T[sm]))??dt(void 0),this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(n=>Hf(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(n=>Hf(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function u1(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const s=e[i],c=e[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(c.component)break;i--}}return function cM(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Bw{get title(){return this.data?.[sm]}constructor(n,e,i,s,c,h,m,b,T,R,O){this.url=n,this.params=e,this.queryParams=i,this.fragment=s,this.data=c,this.outlet=h,this.component=m,this.routeConfig=b,this._urlSegment=T,this._lastPathIndex=R,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class d1 extends a1{constructor(n,e){super(e),this.url=n,BT(this,e)}toString(){return h1(this._root)}}function BT(t,n){n.value._routerState=t,n.children.forEach(e=>BT(t,e))}function h1(t){const n=t.children.length>0?` { ${t.children.map(h1).join(", ")} } `:"";return`${t.value}${n}`}function UT(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,ua(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),ua(n.params,e.params)||t.params.next(e.params),function am(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!ua(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),ua(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function VT(t,n){const e=ua(t.params,n.params)&&function Mw(t,n){return Oc(t,n)&&t.every((e,i)=>ua(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||VT(t.parent,n.parent))}function Zv(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const s=function dM(t,n,e){return n.children.map(i=>{for(const s of e.children)if(t.shouldReuseRoute(i.value,s.value.snapshot))return Zv(t,i,s);return Zv(t,i)})}(t,n,e);return new Uu(i,s)}{if(t.shouldAttach(n.value)){const c=t.retrieve(n.value);if(null!==c){const h=c.route;return h.value._futureSnapshot=n.value,h.children=n.children.map(m=>Zv(t,m)),h}}const i=function hM(t){return new pm(new ji(t.url),new ji(t.params),new ji(t.queryParams),new ji(t.fragment),new ji(t.data),t.outlet,t.component,t)}(n.value),s=n.children.map(c=>Zv(t,c));return new Uu(i,s)}}const HT="ngNavigationCancelingError";function f1(t,n){const{redirectTo:e,navigationBehaviorOptions:i}=ph(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,s=p1(!1,0,n);return s.url=e,s.navigationBehaviorOptions=i,s}function p1(t,n,e){const i=new Error("NavigationCancelingError: "+(t||""));return i[HT]=!0,i.cancellationCode=n,e&&(i.url=e),i}function g1(t){return m1(t)&&ph(t.url)}function m1(t){return t&&t[HT]}class fM{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new qv,this.attachRef=null}}let qv=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const s=this.getOrCreateContext(e);s.outlet=i,this.contexts.set(e,s)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new fM,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Uw=!1;let _1=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=zt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(qv),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:s}=e.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Uw);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Uw);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Uw);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new l.vHH(4013,Uw);this._activatedRoute=e;const s=this.location,h=e.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,b=new pM(e,m,s.injector);if(i&&function gM(t){return!!t.resolveComponentFactory}(i)){const T=i.resolveComponentFactory(h);this.activated=s.createComponent(T,s.length,b)}else this.activated=s.createComponent(h,{index:s.length,injector:b,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=l.lG2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),t})();class pM{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===pm?this.route:n===qv?this.childContexts:this.parent.get(n,e)}}let GT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},dependencies:[_1],encapsulation:2}),t})();function v1(t,n){return t.providers&&!t._injector&&(t._injector=(0,l.MMx)(t.providers,n,`Route: ${t.path}`)),t._injector??n}function $T(t){const n=t.children&&t.children.map($T),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==zt&&(e.component=GT),e}function ha(t){return t.outlet||zt}function y1(t,n){const e=t.filter(i=>ha(i)===n);return e.push(...t.filter(i=>ha(i)!==n)),e}function Kv(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class bM{constructor(n,e,i,s){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=s}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),UT(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const s=fm(e);n.children.forEach(c=>{const h=c.value.outlet;this.deactivateRoutes(c,s[h],i),delete s[h]}),$i(s,(c,h)=>{this.deactivateRouteAndItsChildren(c,i)})}deactivateRoutes(n,e,i){const s=n.value,c=e?e.value:null;if(s===c)if(s.component){const h=i.getContext(s.outlet);h&&this.deactivateChildRoutes(n,e,h.children)}else this.deactivateChildRoutes(n,e,i);else c&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),s=i&&n.value.component?i.children:e,c=fm(n);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],s);if(i&&i.outlet){const h=i.outlet.detach(),m=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:h,route:n,contexts:m})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),s=i&&n.value.component?i.children:e,c=fm(n);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],s);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(n,e,i){const s=fm(e);n.children.forEach(c=>{this.activateRoutes(c,s[c.value.outlet],i),this.forwardEvent(new nM(c.value.snapshot))}),n.children.length&&this.forwardEvent(new eM(n.value.snapshot))}activateRoutes(n,e,i){const s=n.value,c=e?e.value:null;if(UT(s),s===c)if(s.component){const h=i.getOrCreateContext(s.outlet);this.activateChildRoutes(n,e,h.children)}else this.activateChildRoutes(n,e,i);else if(s.component){const h=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const m=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),UT(m.route.value),this.activateChildRoutes(n,null,h.children)}else{const m=Kv(s.snapshot),b=m?.get(l._Vd)??null;h.attachRef=null,h.route=s,h.resolver=b,h.injector=m,h.outlet&&h.outlet.activateWith(s,h.injector),this.activateChildRoutes(n,null,h.children)}}else this.activateChildRoutes(n,null,i)}}class b1{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Vw{constructor(n,e){this.component=n,this.route=e}}function wM(t,n,e){const i=t._root;return Jv(i,n?n._root:null,e,[i.value])}function gm(t,n){const e=Symbol(),i=n.get(t,e);return i===e?"function"!=typeof t||(0,l.Z0I)(t)?n.get(t):t:i}function Jv(t,n,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=fm(n);return t.children.forEach(h=>{(function EM(t,n,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=t.value,h=n?n.value:null,m=e?e.getContext(t.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){const b=function CM(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Oc(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Oc(t.url,n.url)||!ua(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!VT(t,n)||!ua(t.queryParams,n.queryParams);default:return!VT(t,n)}}(h,c,c.routeConfig.runGuardsAndResolvers);b?s.canActivateChecks.push(new b1(i)):(c.data=h.data,c._resolvedData=h._resolvedData),Jv(t,n,c.component?m?m.children:null:e,i,s),b&&m&&m.outlet&&m.outlet.isActivated&&s.canDeactivateChecks.push(new Vw(m.outlet.component,h))}else h&&Qv(n,m,s),s.canActivateChecks.push(new b1(i)),Jv(t,null,c.component?m?m.children:null:e,i,s)})(h,c[h.value.outlet],e,i.concat([h.value]),s),delete c[h.value.outlet]}),$i(c,(h,m)=>Qv(h,e.getContext(m),s)),s}function Qv(t,n,e){const i=fm(t),s=t.value;$i(i,(c,h)=>{Qv(c,s.component?n?n.children.getContext(h):null:n,e)}),e.canDeactivateChecks.push(new Vw(s.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,s))}function Xv(t){return"function"==typeof t}function WT(t){return t instanceof Wd||"EmptyError"===t?.name}const Hw=Symbol("INITIAL_VALUE");function mm(){return bn(t=>im(t.map(n=>n.pipe(Ci(1),rm(Hw)))).pipe((0,vt.U)(n=>{for(const e of n)if(!0!==e){if(e===Hw)return Hw;if(!1===e||e instanceof Mc)return e}return!0}),ii(n=>n!==Hw),Ci(1)))}function w1(t){return(0,Sw.z)((0,lr.b)(n=>{if(ph(n))throw f1(0,n)}),(0,vt.U)(n=>!0===n))}const zT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function D1(t,n,e,i,s){const c=YT(t,n,e);return c.matched?function HM(t,n,e,i){const s=n.canMatch;return s&&0!==s.length?dt(s.map(h=>{const m=gm(h,t);return da(function NM(t){return t&&Xv(t.canMatch)}(m)?m.canMatch(n,e):t.runInContext(()=>m(n,e)))})).pipe(mm(),w1()):dt(!0)}(i=v1(n,i),n,e).pipe((0,vt.U)(h=>!0===h?c:{...zT})):dt(c)}function YT(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...zT}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(n.matcher||CT)(e,t,n);if(!s)return{...zT};const c={};$i(s.posParams,(m,b)=>{c[b]=m.path});const h=s.consumed.length>0?{...c,...s.consumed[s.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:h,positionalParamSegments:s.posParams??{}}}function Gw(t,n,e,i){if(e.length>0&&function $M(t,n,e){return e.some(i=>jw(t,n,i)&&ha(i)!==zt)}(t,e,i)){const c=new Qt(n,function jM(t,n,e,i){const s={};s[zt]=i,i._sourceSegment=t,i._segmentIndexShift=n.length;for(const c of e)if(""===c.path&&ha(c)!==zt){const h=new Qt([],{});h._sourceSegment=t,h._segmentIndexShift=n.length,s[ha(c)]=h}return s}(t,n,i,new Qt(e,t.children)));return c._sourceSegment=t,c._segmentIndexShift=n.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function WM(t,n,e){return e.some(i=>jw(t,n,i))}(t,e,i)){const c=new Qt(t.segments,function GM(t,n,e,i,s){const c={};for(const h of i)if(jw(t,e,h)&&!s[ha(h)]){const m=new Qt([],{});m._sourceSegment=t,m._segmentIndexShift=n.length,c[ha(h)]=m}return{...s,...c}}(t,n,e,i,t.children));return c._sourceSegment=t,c._segmentIndexShift=n.length,{segmentGroup:c,slicedSegments:e}}const s=new Qt(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}function jw(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function E1(t,n,e,i){return!!(ha(t)===i||i!==zt&&jw(n,e,t))&&("**"===t.path||YT(n,t,e).matched)}function C1(t,n,e){return 0===n.length&&!t.children[e]}const $w=!1;class Ww{constructor(n){this.segmentGroup=n||null}}class T1{constructor(n){this.urlTree=n}}function ey(t){return ch(new Ww(t))}function I1(t){return ch(new T1(t))}class qM{constructor(n,e,i,s,c){this.injector=n,this.configLoader=e,this.urlSerializer=i,this.urlTree=s,this.config=c,this.allowRedirects=!0}apply(){const n=Gw(this.urlTree.root,[],[],this.config).segmentGroup,e=new Qt(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,e,zt).pipe((0,vt.U)(c=>this.createUrlTree(Yv(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bu(c=>{if(c instanceof T1)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Ww?this.noMatchError(c):c}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,zt).pipe((0,vt.U)(s=>this.createUrlTree(Yv(s),n.queryParams,n.fragment))).pipe(Bu(s=>{throw s instanceof Ww?this.noMatchError(s):s}))}noMatchError(n){return new l.vHH(4002,$w)}createUrlTree(n,e,i){const s=xw(n);return new Mc(s,e,i)}expandSegmentGroup(n,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(n,e,i).pipe((0,vt.U)(c=>new Qt([],c))):this.expandSegment(n,i,e,i.segments,s,!0)}expandChildren(n,e,i){const s=[];for(const c of Object.keys(i.children))"primary"===c?s.unshift(c):s.push(c);return(0,Kt.D)(s).pipe(dh(c=>{const h=i.children[c],m=y1(e,c);return this.expandSegmentGroup(n,m,h,c).pipe((0,vt.U)(b=>({segment:b,outlet:c})))}),ps((c,h)=>(c[h.outlet]=h.segment,c),{}),Aw())}expandSegment(n,e,i,s,c,h){return(0,Kt.D)(i).pipe(dh(m=>this.expandSegmentAgainstRoute(n,e,i,m,s,c,h).pipe(Bu(T=>{if(T instanceof Ww)return dt(null);throw T}))),sa(m=>!!m),Bu((m,b)=>{if(WT(m))return C1(e,s,c)?dt(new Qt([],{})):ey(e);throw m}))}expandSegmentAgainstRoute(n,e,i,s,c,h,m){return E1(s,e,c,h)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(n,e,s,c,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,i,s,c,h):ey(e):ey(e)}expandSegmentAgainstRouteUsingRedirect(n,e,i,s,c,h){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,s,h):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,s,c,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,s){const c=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?I1(c):this.lineralizeSegments(i,c).pipe((0,ar.z)(h=>{const m=new Qt(h,{});return this.expandSegment(n,m,e,h,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,s,c,h){const{matched:m,consumedSegments:b,remainingSegments:T,positionalParamSegments:R}=YT(e,s,c);if(!m)return ey(e);const O=this.applyRedirectCommands(b,s.redirectTo,R);return s.redirectTo.startsWith("/")?I1(O):this.lineralizeSegments(s,O).pipe((0,ar.z)(B=>this.expandSegment(n,e,i,B.concat(T),h,!1)))}matchSegmentAgainstRoute(n,e,i,s,c){return"**"===i.path?(n=v1(i,n),i.loadChildren?(i._loadedRoutes?dt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(n,i)).pipe((0,vt.U)(m=>(i._loadedRoutes=m.routes,i._loadedInjector=m.injector,new Qt(s,{})))):dt(new Qt(s,{}))):D1(e,i,s,n).pipe(bn(({matched:h,consumedSegments:m,remainingSegments:b})=>h?this.getChildConfig(n=i._injector??n,i,s).pipe((0,ar.z)(R=>{const O=R.injector??n,B=R.routes,{segmentGroup:W,slicedSegments:ue}=Gw(e,m,b,B),Ee=new Qt(W.segments,W.children);if(0===ue.length&&Ee.hasChildren())return this.expandChildren(O,B,Ee).pipe((0,vt.U)(yt=>new Qt(m,yt)));if(0===B.length&&0===ue.length)return dt(new Qt(m,{}));const Ae=ha(i)===c;return this.expandSegment(O,Ee,B,ue,Ae?zt:c,!0).pipe((0,vt.U)(tt=>new Qt(m.concat(tt.segments),tt.children)))})):ey(e)))}getChildConfig(n,e,i){return e.children?dt({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?dt({routes:e._loadedRoutes,injector:e._loadedInjector}):function VM(t,n,e,i){const s=n.canLoad;return void 0===s||0===s.length?dt(!0):dt(s.map(h=>{const m=gm(h,t);return da(function IM(t){return t&&Xv(t.canLoad)}(m)?m.canLoad(n,e):t.runInContext(()=>m(n,e)))})).pipe(mm(),w1())}(n,e,i).pipe((0,ar.z)(s=>s?this.configLoader.loadChildren(n,e).pipe((0,lr.b)(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):function YM(t){return ch(p1($w,3))}())):dt({routes:[],injector:n})}lineralizeSegments(n,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return dt(i);if(s.numberOfChildren>1||!s.children[zt])return n.redirectTo,ch(new l.vHH(4e3,$w));s=s.children[zt]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreateUrlTree(n,e,i,s){const c=this.createSegmentGroup(n,e.root,i,s);return new Mc(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return $i(n,(s,c)=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);i[c]=e[m]}else i[c]=s}),i}createSegmentGroup(n,e,i,s){const c=this.createSegments(n,e.segments,i,s);let h={};return $i(e.children,(m,b)=>{h[b]=this.createSegmentGroup(n,m,i,s)}),new Qt(c,h)}createSegments(n,e,i,s){return e.map(c=>c.path.startsWith(":")?this.findPosParam(n,c,s):this.findOrReturn(c,i))}findPosParam(n,e,i){const s=i[e.path.substring(1)];if(!s)throw new l.vHH(4001,$w);return s}findOrReturn(n,e){let i=0;for(const s of e){if(s.path===n.path)return e.splice(i),s;i++}return n}}class JM{}class eO{constructor(n,e,i,s,c,h,m){this.injector=n,this.rootComponentType=e,this.config=i,this.urlTree=s,this.url=c,this.paramsInheritanceStrategy=h,this.urlSerializer=m}recognize(){const n=Gw(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,zt).pipe((0,vt.U)(e=>{if(null===e)return null;const i=new Bw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Uu(i,e),c=new d1(this.url,s);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(n){const e=n.value,i=u1(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(n,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,s)}processChildren(n,e,i){return(0,Kt.D)(Object.keys(i.children)).pipe(dh(s=>{const c=i.children[s],h=y1(e,s);return this.processSegmentGroup(n,h,c,s)}),ps((s,c)=>s&&c?(s.push(...c),s):null),function ET(t,n=!1){return(0,un.e)((e,i)=>{let s=0;e.subscribe((0,gn.x)(i,c=>{const h=t(c,s++);(h||n)&&i.next(c),!h&&i.complete()}))})}(s=>null!==s),bg(null),Aw(),(0,vt.U)(s=>{if(null===s)return null;const c=A1(s);return function tO(t){t.sort((n,e)=>n.value.outlet===zt?-1:e.value.outlet===zt?1:n.value.outlet.localeCompare(e.value.outlet))}(c),c}))}processSegment(n,e,i,s,c){return(0,Kt.D)(e).pipe(dh(h=>this.processSegmentAgainstRoute(h._injector??n,h,i,s,c)),sa(h=>!!h),Bu(h=>{if(WT(h))return C1(i,s,c)?dt([]):dt(null);throw h}))}processSegmentAgainstRoute(n,e,i,s,c){if(e.redirectTo||!E1(e,i,s,c))return dt(null);let h;if("**"===e.path){const m=s.length>0?Nc(s).parameters:{},b=N1(i)+s.length;h=dt({snapshot:new Bw(s,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M1(e),ha(e),e.component??e._loadedComponent??null,e,R1(i),b,O1(e)),consumedSegments:[],remainingSegments:[]})}else h=D1(i,e,s,n).pipe((0,vt.U)(({matched:m,consumedSegments:b,remainingSegments:T,parameters:R})=>{if(!m)return null;const O=N1(i)+b.length;return{snapshot:new Bw(b,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M1(e),ha(e),e.component??e._loadedComponent??null,e,R1(i),O,O1(e)),consumedSegments:b,remainingSegments:T}}));return h.pipe(bn(m=>{if(null===m)return dt(null);const{snapshot:b,consumedSegments:T,remainingSegments:R}=m;n=e._injector??n;const O=e._loadedInjector??n,B=function nO(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(e),{segmentGroup:W,slicedSegments:ue}=Gw(i,T,R,B.filter(Ae=>void 0===Ae.redirectTo));if(0===ue.length&&W.hasChildren())return this.processChildren(O,B,W).pipe((0,vt.U)(Ae=>null===Ae?null:[new Uu(b,Ae)]));if(0===B.length&&0===ue.length)return dt([new Uu(b,[])]);const Ee=ha(e)===c;return this.processSegment(O,B,W,ue,Ee?zt:c).pipe((0,vt.U)(Ae=>null===Ae?null:[new Uu(b,Ae)]))}))}}function iO(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function A1(t){const n=[],e=new Set;for(const i of t){if(!iO(i)){n.push(i);continue}const s=n.find(c=>i.value.routeConfig===c.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):n.push(i)}for(const i of e){const s=A1(i.children);n.push(new Uu(i.value,s))}return n.filter(i=>!e.has(i))}function R1(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function N1(t){let n=t,e=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift??0;return e-1}function M1(t){return t.data||{}}function O1(t){return t.resolve||{}}function sO(t,n){return(0,ar.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return dt(e);let c=0;return(0,Kt.D)(s).pipe(dh(h=>function aO(t,n,e,i){const s=t.routeConfig,c=t._resolve;return void 0!==s?.title&&!P1(s)&&(c[sm]=s.title),function lO(t,n,e,i){const s=function cO(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===s.length)return dt({});const c={};return(0,Kt.D)(s).pipe((0,ar.z)(h=>function uO(t,n,e,i){const s=Kv(n)??i,c=gm(t,s);return da(c.resolve?c.resolve(n,e):s.runInContext(()=>c(n,e)))}(t[h],n,e,i).pipe(sa(),(0,lr.b)(m=>{c[h]=m}))),om(1),function Rw(t){return(0,vt.U)(()=>t)}(c),Bu(h=>WT(h)?oa.E:ch(h)))}(c,t,n,i).pipe((0,vt.U)(h=>(t._resolvedData=h,t.data=u1(t,e).resolve,s&&P1(s)&&(t.data[sm]=s.title),null)))}(h.route,i,t,n)),(0,lr.b)(()=>c++),om(1),(0,ar.z)(h=>c===s.length?dt(e):oa.E))})}function P1(t){return"string"==typeof t.title||null===t.title}function ZT(t){return bn(n=>{const e=t(n);return e?(0,Kt.D)(e).pipe((0,vt.U)(()=>n)):dt(n)})}const _m=new l.OlP("ROUTES");let qT=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return dt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=da(e.loadComponent()).pipe((0,vt.U)(x1),(0,lr.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),Bv(()=>{this.componentLoaders.delete(e)})),s=new Lv(i,()=>new Un.x).pipe(uh());return this.componentLoaders.set(e,s),s}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return dt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,vt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(i);let b,T,R=!1;Array.isArray(m)?T=m:(b=m.create(e).injector,T=Uv(b.get(_m,[],l.XFs.Self|l.XFs.Optional)));return{routes:T.map($T),injector:b}}),Bv(()=>{this.childrenLoaders.delete(i)})),h=new Lv(c,()=>new Un.x).pipe(uh());return this.childrenLoaders.set(i,h),h}loadModuleFactoryOrRoutes(e){return da(e()).pipe((0,vt.U)(x1),(0,ar.z)(i=>i instanceof l.YKP||Array.isArray(i)?dt(i):(0,Kt.D)(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function x1(t){return function dO(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Yw=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Un.x,this.configLoader=(0,l.f3M)(qT),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)($f),this.rootContexts=(0,l.f3M)(qv),this.navigationId=0,this.afterPreactivation=()=>dt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new QN(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new JN(s))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new ji({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:hm,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ii(i=>0!==i.id),(0,vt.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),bn(i=>{let s=!1,c=!1;return dt(i).pipe((0,lr.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),bn(h=>{const m=e.browserUrlTree.toString(),b=!e.navigated||h.extractedUrl.toString()!==m||m!==e.currentUrlTree.toString();if(!b&&"reload"!==(h.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const R="";return this.events.next(new Lw(h.id,e.serializeUrl(i.rawUrl),R,0)),e.rawUrlTree=h.rawUrl,h.resolve(null),oa.E}if(e.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return F1(h.source)&&(e.browserUrlTree=h.extractedUrl),dt(h).pipe(bn(R=>{const O=this.transitions?.getValue();return this.events.next(new kT(R.id,this.urlSerializer.serialize(R.extractedUrl),R.source,R.restoredState)),O!==this.transitions?.getValue()?oa.E:Promise.resolve(R)}),function KM(t,n,e,i){return bn(s=>function ZM(t,n,e,i,s){return new qM(t,n,e,i,s).apply()}(t,n,e,s.extractedUrl,i).pipe((0,vt.U)(c=>({...s,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,lr.b)(R=>{this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects},i.urlAfterRedirects=R.urlAfterRedirects}),function oO(t,n,e,i,s){return(0,ar.z)(c=>function XM(t,n,e,i,s,c,h="emptyOnly"){return new eO(t,n,e,i,s,h,c).recognize().pipe(bn(m=>null===m?function QM(t){return new jn.y(n=>n.error(t))}(new JM):dt(m)))}(t,n,e,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,s).pipe((0,vt.U)(h=>({...c,targetSnapshot:h}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,lr.b)(R=>{if(i.targetSnapshot=R.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!R.extras.skipLocationChange){const B=e.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);e.setBrowserUrl(B,R)}e.browserUrlTree=R.urlAfterRedirects}const O=new zN(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(O)}));if(b&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:R,extractedUrl:O,source:B,restoredState:W,extras:ue}=h,Ee=new kT(R,this.urlSerializer.serialize(O),B,W);this.events.next(Ee);const Ae=c1(O,this.rootComponentType).snapshot;return dt(i={...h,targetSnapshot:Ae,urlAfterRedirects:O,extras:{...ue,skipLocationChange:!1,replaceUrl:!1}})}{const R="";return this.events.next(new Lw(h.id,e.serializeUrl(i.extractedUrl),R,1)),e.rawUrlTree=h.rawUrl,h.resolve(null),oa.E}}),(0,lr.b)(h=>{const m=new YN(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}),(0,vt.U)(h=>i={...h,guards:wM(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function OM(t,n){return(0,ar.z)(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:c,canDeactivateChecks:h}}=e;return 0===h.length&&0===c.length?dt({...e,guardsResult:!0}):function PM(t,n,e,i){return(0,Kt.D)(t).pipe((0,ar.z)(s=>function UM(t,n,e,i,s){const c=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return c&&0!==c.length?dt(c.map(m=>{const b=Kv(n)??s,T=gm(m,b);return da(function RM(t){return t&&Xv(t.canDeactivate)}(T)?T.canDeactivate(t,n,e,i):b.runInContext(()=>T(t,n,e,i))).pipe(sa())})).pipe(mm()):dt(!0)}(s.component,s.route,e,n,i)),sa(s=>!0!==s,!0))}(h,i,s,t).pipe((0,ar.z)(m=>m&&function TM(t){return"boolean"==typeof t}(m)?function kM(t,n,e,i){return(0,Kt.D)(n).pipe(dh(s=>lh(function FM(t,n){return null!==t&&n&&n(new XN(t)),dt(!0)}(s.route.parent,i),function xM(t,n){return null!==t&&n&&n(new tM(t)),dt(!0)}(s.route,i),function BM(t,n,e){const i=n[n.length-1],c=n.slice(0,n.length-1).reverse().map(h=>function DM(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(h)).filter(h=>null!==h).map(h=>Fv(()=>dt(h.guards.map(b=>{const T=Kv(h.node)??e,R=gm(b,T);return da(function AM(t){return t&&Xv(t.canActivateChild)}(R)?R.canActivateChild(i,t):T.runInContext(()=>R(i,t))).pipe(sa())})).pipe(mm())));return dt(c).pipe(mm())}(t,s.path,e),function LM(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return dt(!0);const s=i.map(c=>Fv(()=>{const h=Kv(n)??e,m=gm(c,h);return da(function SM(t){return t&&Xv(t.canActivate)}(m)?m.canActivate(n,t):h.runInContext(()=>m(n,t))).pipe(sa())}));return dt(s).pipe(mm())}(t,s.route,e))),sa(s=>!0!==s,!0))}(i,c,t,n):dt(m)),(0,vt.U)(m=>({...e,guardsResult:m})))})}(this.environmentInjector,h=>this.events.next(h)),(0,lr.b)(h=>{if(i.guardsResult=h.guardsResult,ph(h.guardsResult))throw f1(0,h.guardsResult);const m=new ZN(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(m)}),ii(h=>!!h.guardsResult||(e.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),ZT(h=>{if(h.guards.canActivateChecks.length)return dt(h).pipe((0,lr.b)(m=>{const b=new qN(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}),bn(m=>{let b=!1;return dt(m).pipe(sO(e.paramsInheritanceStrategy,this.environmentInjector),(0,lr.b)({next:()=>b=!0,complete:()=>{b||(e.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,lr.b)(m=>{const b=new KN(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}))}),ZT(h=>{const m=b=>{const T=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,lr.b)(R=>{b.component=R}),(0,vt.U)(()=>{})));for(const R of b.children)T.push(...m(R));return T};return im(m(h.targetSnapshot.root)).pipe(bg(),Ci(1))}),ZT(()=>this.afterPreactivation()),(0,vt.U)(h=>{const m=function uM(t,n,e){const i=Zv(t,n._root,e?e._root:void 0);return new l1(i,n)}(e.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:m}}),(0,lr.b)(h=>{e.currentUrlTree=h.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),e.routerState=h.targetRouterState,"deferred"===e.urlUpdateStrategy&&(h.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,h),e.browserUrlTree=h.urlAfterRedirects)}),((t,n,e)=>(0,vt.U)(i=>(new bM(n,i.targetRouterState,i.currentRouterState,e).activate(t),i)))(this.rootContexts,e.routeReuseStrategy,h=>this.events.next(h)),Ci(1),(0,lr.b)({next:h=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Wf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{s=!0}}),Bv(()=>{s||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Bu(h=>{if(c=!0,m1(h)){g1(h)||(e.navigated=!0,e.restoreHistory(i,!0));const m=new Fw(i.id,this.urlSerializer.serialize(i.extractedUrl),h.message,h.cancellationCode);if(this.events.next(m),g1(h)){const b=e.urlHandlingStrategy.merge(h.url,e.rawUrlTree),T={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||F1(i.source)};e.scheduleNavigation(b,hm,null,T,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const m=new xT(i.id,this.urlSerializer.serialize(i.extractedUrl),h,i.targetSnapshot??void 0);this.events.next(m);try{i.resolve(e.errorHandler(h))}catch(b){i.reject(b)}}return oa.E}))}))}cancelNavigationTransition(e,i,s){const c=new Fw(e.id,this.urlSerializer.serialize(e.extractedUrl),i,s);this.events.next(c),e.resolve(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function F1(t){return t!==hm}let L1=(()=>{class t{buildTitle(e){let i,s=e.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(c=>c.outlet===zt);return i}getResolvedTitleForRoute(e){return e.data[sm]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(hO)},providedIn:"root"}),t})(),hO=(()=>{class t extends L1{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Ph))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),fO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(gO)},providedIn:"root"}),t})();class pO{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let gO=(()=>{class t extends pO{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=l.n5z(t)))(i||t)}}(),t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Zw=new l.OlP("",{providedIn:"root",factory:()=>({})});let _O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(vO)},providedIn:"root"}),t})(),vO=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yO(t){throw t}function bO(t,n,e){return n.parse("/")}const wO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Is=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(Zw,{optional:!0})||{},this.errorHandler=this.options.errorHandler||yO,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||bO,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(_O),this.routeReuseStrategy=(0,l.f3M)(fO),this.urlCreationStrategy=(0,l.f3M)(aM),this.titleStrategy=(0,l.f3M)(L1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Uv((0,l.f3M)(_m,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(Yw),this.urlSerializer=(0,l.f3M)($f),this.location=(0,l.f3M)(Ue),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Mc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=c1(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),hm,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,s){const c={replaceUrl:!0},h=s?.navigationId?s:null;if(s){const b={...s};delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(c.state=b)}const m=this.parseUrl(e);this.scheduleNavigation(m,i,h,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map($T),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:s,queryParams:c,fragment:h,queryParamsHandling:m,preserveFragment:b}=i,T=b?this.currentUrlTree.fragment:h;let R=null;switch(m){case"merge":R={...this.currentUrlTree.queryParams,...c};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=c||null}return null!==R&&(R=this.removeEmptyProps(R)),this.urlCreationStrategy.createUrlTree(s,this.routerState,this.currentUrlTree,e,R,T??null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=ph(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,hm,null,i)}navigate(e,i={skipLocationChange:!1}){return function EO(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new l.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return i}isActive(e,i){let s;if(s=!0===i?{...wO}:!1===i?{...DO}:i,ph(e))return Gf(this.currentUrlTree,e,s);const c=this.parseUrl(e);return Gf(this.currentUrlTree,c,s)}removeEmptyProps(e){return Object.keys(e).reduce((i,s)=>{const c=e[s];return null!=c&&(i[s]=c),i},{})}scheduleNavigation(e,i,s,c,h){if(this.disposed)return Promise.resolve(!1);let m,b,T,R;return h?(m=h.resolve,b=h.reject,T=h.promise):T=new Promise((O,B)=>{m=O,b=B}),R="computed"===this.canceledNavigationResolution?s&&s.\u0275routerPageId?s.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:R,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:c,resolve:m,reject:b,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(O=>Promise.reject(O))}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const h={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",h)}else{const c={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(s,"",c)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-(this.browserPageId??this.currentPageId);0!==c?this.location.historyGo(c):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===c&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class B1{}let IO=(()=>{class t{constructor(e,i,s,c,h){this.router=e,this.injector=s,this.preloadingStrategy=c,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(ii(e=>e instanceof Wf),dh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const c of i){c.providers&&!c._injector&&(c._injector=(0,l.MMx)(c.providers,e,`Route: ${c.path}`));const h=c._injector??e,m=c._loadedInjector??h;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&s.push(this.preloadConfig(h,c)),(c.children||c._loadedRoutes)&&s.push(this.processRoutes(m,c.children??c._loadedRoutes))}return(0,Kt.D)(s).pipe((0,Lu.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):dt(null);const c=s.pipe((0,ar.z)(h=>null===h?dt(void 0):(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,this.processRoutes(h.injector??e,h.routes))));if(i.loadComponent&&!i._loadedComponent){const h=this.loader.loadComponent(i);return(0,Kt.D)([c,h]).pipe((0,Lu.J)())}return c})}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Is),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(B1),l.LFG(qT))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const QT=new l.OlP("");let U1=(()=>{class t{constructor(e,i,s,c,h={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=s,this.zone=c,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof kT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Wf&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof s1&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new s1(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(e){l.$Z()},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();var Ss=(()=>((Ss=Ss||{})[Ss.COMPLETE=0]="COMPLETE",Ss[Ss.FAILED=1]="FAILED",Ss[Ss.REDIRECTING=2]="REDIRECTING",Ss))();const vm=!1;function gh(t,n){return{\u0275kind:t,\u0275providers:n}}const XT=new l.OlP("",{providedIn:"root",factory:()=>!1});function H1(){const t=(0,l.f3M)(l.zs3);return n=>{const e=t.get(l.z2F);if(n!==e.components[0])return;const i=t.get(Is),s=t.get(G1);1===t.get(eI)&&i.initialNavigation(),t.get(j1,null,l.XFs.Optional)?.setUpPreloading(),t.get(QT,null,l.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const G1=new l.OlP(vm?"bootstrap done indicator":"",{factory:()=>new Un.x}),eI=new l.OlP(vm?"initial navigation":"",{providedIn:"root",factory:()=>1});function MO(){let t=[];return t=vm?[{provide:l.Xts,multi:!0,useFactory:()=>{const n=(0,l.f3M)(Is);return()=>n.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function iM(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],gh(1,t)}const j1=new l.OlP(vm?"router preloader":"");function OO(t){return gh(0,[{provide:j1,useExisting:IO},{provide:B1,useExisting:t}])}const ty=!1,$1=new l.OlP(ty?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),PO=[Ue,{provide:$f,useClass:Gv},Is,qv,{provide:pm,useFactory:function V1(t){return t.routerState.root},deps:[Is]},qT,ty?{provide:XT,useValue:!0}:[]];function kO(){return new l.PXZ("Router",Is)}let W1=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[PO,ty&&i?.enableTracing?MO().\u0275providers:[],{provide:_m,multi:!0,useValue:e},{provide:$1,useFactory:BO,deps:[[Is,new l.FiY,new l.tp0]]},{provide:Zw,useValue:i||{}},i?.useHash?{provide:at,useClass:Me}:{provide:at,useClass:Ne},{provide:QT,useFactory:()=>{const t=(0,l.f3M)(ya),n=(0,l.f3M)(l.R0b),e=(0,l.f3M)(Zw),i=(0,l.f3M)(Yw),s=(0,l.f3M)($f);return e.scrollOffset&&t.setOffset(e.scrollOffset),new U1(s,i,t,n,e)}},i?.preloadingStrategy?OO(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:kO},i?.initialNavigation?UO(i):[],[{provide:z1,useFactory:H1},{provide:l.tb,multi:!0,useExisting:z1}]]}}static forChild(e){return{ngModule:t,providers:[{provide:_m,multi:!0,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)(l.LFG($1,8))},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[GT]}),t})();function BO(t){if(ty&&t)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function UO(t){return["disabled"===t.initialNavigation?gh(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const n=(0,l.f3M)(Is);return()=>{n.setUpLocationChangeListener()}}},{provide:eI,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?gh(2,[{provide:eI,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:n=>{const e=n.get(ge,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const s=n.get(Is),c=n.get(G1);(function SO(t,n){t.events.pipe(ii(e=>e instanceof Wf||e instanceof Fw||e instanceof xT||e instanceof Lw),(0,vt.U)(e=>e instanceof Wf||e instanceof Lw?Ss.COMPLETE:e instanceof Fw&&(0===e.code||1===e.code)?Ss.REDIRECTING:Ss.FAILED),ii(e=>e!==Ss.REDIRECTING),Ci(1)).subscribe(()=>{n()})})(s,()=>{i(!0)}),n.get(Yw).afterPreactivation=()=>(i(!0),c.closed?dt(void 0):c),s.initialNavigation()}))}}]).\u0275providers:[]]}const z1=new l.OlP(ty?"Router Initializer":""),HO=[];let GO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[W1.forRoot(HO),W1]}),t})();var jO=k(1144);const $O=["addListener","removeListener"],WO=["addEventListener","removeEventListener"],zO=["on","off"];function jr(t,n,e,i){if((0,Ro.m)(e)&&(i=e,e=void 0),i)return jr(t,n,e).pipe(nm(i));const[s,c]=function qO(t){return(0,Ro.m)(t.addEventListener)&&(0,Ro.m)(t.removeEventListener)}(t)?WO.map(h=>m=>t[h](n,m,e)):function YO(t){return(0,Ro.m)(t.addListener)&&(0,Ro.m)(t.removeListener)}(t)?$O.map(Y1(t,n)):function ZO(t){return(0,Ro.m)(t.on)&&(0,Ro.m)(t.off)}(t)?zO.map(Y1(t,n)):[];if(!s&&(0,jO.z)(t))return(0,ar.z)(h=>jr(h,n,e))((0,tr.Xf)(t));if(!s)throw new TypeError("Invalid event target");return new jn.y(h=>{const m=(...b)=>h.next(1<b.length?b:b[0]);return s(m),()=>c(m)})}function Y1(t,n){return e=>i=>t[e](n,i)}var KO=k(3532);function tI(t=0,n,e=Br.P){let i=-1;return null!=n&&((0,KO.K)(n)?e=n:i=n),new jn.y(s=>{let c=function JO(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;c<0&&(c=0);let h=0;return e.schedule(function(){s.closed||(s.next(h++),0<=i?this.schedule(void 0,i):s.complete())},c)})}const{isArray:QO}=Array;function Z1(t){return 1===t.length&&QO(t[0])?t[0]:t}const K1=new jn.y(Jr.Z);function qw(...t){const n=(0,Fi.jO)(t),e=Z1(t);return e.length?new jn.y(i=>{let s=e.map(()=>[]),c=e.map(()=>!1);i.add(()=>{s=c=null});for(let h=0;!i.closed&&h<e.length;h++)(0,tr.Xf)(e[h]).subscribe((0,gn.x)(i,m=>{if(s[h].push(m),s.every(b=>b.length)){const b=s.map(T=>T.shift());i.next(n?n(...b):b),s.some((T,R)=>!T.length&&c[R])&&i.complete()}},()=>{c[h]=!0,!s[h].length&&i.complete()}));return()=>{s=c=null}}):oa.E}function Ri(t){return(0,un.e)((n,e)=>{(0,tr.Xf)(t).subscribe((0,gn.x)(e,()=>e.complete(),Jr.Z)),!e.closed&&n.subscribe(e)})}const Yo=new l.OlP("NgValueAccessor");function ux(t,n){}function dx(t,n){if(1&t&&(l.TgZ(0,"button",3),l._uU(1),l.YNc(2,ux,0,0,"ng-template",4),l.qZA()),2&t){const e=n.$implicit;l.Q6J("ngbPanelToggle",e),l.xp6(1),l.hij(" ",e.title," "),l.xp6(1),l.Q6J("ngTemplateOutlet",null==e.titleTpl?null:e.titleTpl.templateRef)}}function hx(t,n){}function fx(t,n){}function px(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"div",8),l.NdJ("ngbRef",function(s){l.CHM(e);const c=l.oxw().$implicit;return l.KtG(c.panelDiv=s)}),l.TgZ(1,"div",9),l.YNc(2,fx,0,0,"ng-template",4),l.qZA()()}if(2&t){const e=l.oxw().$implicit;l.s9C("id",e.id),l.uIk("aria-labelledby",e.id+"-header"),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)}}Math,Math,Math;const gx=function(t,n){return{$implicit:t,opened:n}};function mx(t,n){if(1&t&&(l.TgZ(0,"div")(1,"div",5),l.YNc(2,hx,0,0,"ng-template",6),l.qZA(),l.YNc(3,px,3,3,"div",7),l.qZA()),2&t){const e=n.$implicit,i=l.oxw(),s=l.MAs(1);l.Tol("accordion-item "+(e.cardClass||"")),l.xp6(1),l.Tol("accordion-header "+(e.type?"bg-"+e.type:i.type?"bg-"+i.type:"")),l.MGl("id","",e.id,"-header"),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==e.headerTpl?null:e.headerTpl.templateRef)||s)("ngTemplateOutletContext",l.WLB(8,gx,e,e.isOpen)),l.xp6(1),l.Q6J("ngIf",!i.destroyOnHide||e.isOpen||e.transitionRunning)}}function _x(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",1),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.close())}),l.qZA()}}const cD=["*"];function vx(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){const c=l.CHM(e).$implicit,h=l.oxw();return h.focus(),l.KtG(h.select(c.id,h.NgbSlideEventSource.INDICATOR))}),l.qZA()}if(2&t){const e=n.$implicit,i=l.oxw();l.ekj("active",e.id===i.activeId),l.uIk("aria-labelledby","slide-"+e.id)("aria-controls","slide-"+e.id)("aria-selected",e.id===i.activeId)}}function yx(t,n){}function bx(t,n){if(1&t&&(l.TgZ(0,"div",7)(1,"span",8),l.SDv(2,9),l.qZA(),l.YNc(3,yx,0,0,"ng-template",10),l.qZA()),2&t){const e=n.$implicit,i=n.index,s=n.count;l.Q6J("id","slide-"+e.id),l.xp6(2),l.pQV(i+1)(s),l.QtT(2),l.xp6(1),l.Q6J("ngTemplateOutlet",e.tplRef)}}function wx(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.arrowLeft())}),l._UZ(1,"span",12),l.TgZ(2,"span",8),l.SDv(3,13),l.qZA()()}}function Dx(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.arrowRight())}),l._UZ(1,"span",15),l.TgZ(2,"span",8),l.SDv(3,16),l.qZA()()}}const Ex=["ngbDatepickerDayView",""],Cx=["month"],Tx=["year"];function Ix(t,n){if(1&t&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&t){const e=n.$implicit,i=l.oxw();l.Q6J("value",e),l.uIk("aria-label",i.i18n.getMonthFullName(e,i.date.year)),l.xp6(1),l.Oqu(i.i18n.getMonthShortName(e,i.date.year))}}function Sx(t,n){if(1&t&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&t){const e=n.$implicit,i=l.oxw();l.Q6J("value",e),l.xp6(1),l.Oqu(i.i18n.getYearNumerals(e))}}function Ax(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"ngb-datepicker-navigation-select",7),l.NdJ("select",function(s){l.CHM(e);const c=l.oxw();return l.KtG(c.select.emit(s))}),l.qZA()}if(2&t){const e=l.oxw();l.Q6J("date",e.date)("disabled",e.disabled)("months",e.selectBoxes.months)("years",e.selectBoxes.years)}}function Rx(t,n){1&t&&l._UZ(0,"div",0)}function Nx(t,n){1&t&&l._UZ(0,"div",0)}function Mx(t,n){if(1&t&&(l.YNc(0,Rx,1,0,"div",9),l.TgZ(1,"div",10),l._uU(2),l.qZA(),l.YNc(3,Nx,1,0,"div",9)),2&t){const e=n.$implicit,i=n.index,s=l.oxw(2);l.Q6J("ngIf",i>0),l.xp6(2),l.hij(" ",s.i18n.getMonthLabel(e.firstDate)," "),l.xp6(1),l.Q6J("ngIf",i!==s.months.length-1)}}function Ox(t,n){if(1&t&&l.YNc(0,Mx,4,3,"ng-template",8),2&t){const e=l.oxw();l.Q6J("ngForOf",e.months)}}function Px(t,n){if(1&t&&(l.TgZ(0,"div",5),l._uU(1),l.qZA()),2&t){const e=l.oxw(2);l.xp6(1),l.Oqu(e.i18n.getWeekLabel())}}function kx(t,n){if(1&t&&(l.TgZ(0,"div",6),l._uU(1),l.qZA()),2&t){const e=n.$implicit;l.xp6(1),l.Oqu(e)}}function xx(t,n){if(1&t&&(l.TgZ(0,"div",2),l.YNc(1,Px,2,1,"div",3),l.YNc(2,kx,2,1,"div",4),l.qZA()),2&t){const e=l.oxw();l.xp6(1),l.Q6J("ngIf",e.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",e.viewModel.weekdays)}}function Fx(t,n){if(1&t&&(l.TgZ(0,"div",11),l._uU(1),l.qZA()),2&t){const e=l.oxw(2).$implicit,i=l.oxw();l.xp6(1),l.Oqu(i.i18n.getWeekNumerals(e.number))}}function Lx(t,n){}function Bx(t,n){if(1&t&&l.YNc(0,Lx,0,0,"ng-template",14),2&t){const e=l.oxw().$implicit,i=l.oxw(3);l.Q6J("ngTemplateOutlet",i.datepicker.dayTemplate)("ngTemplateOutletContext",e.context)}}function Ux(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(s){const h=l.CHM(e).$implicit;return l.oxw(3).doSelect(h),l.KtG(s.preventDefault())}),l.YNc(1,Bx,1,2,"ng-template",13),l.qZA()}if(2&t){const e=n.$implicit;l.ekj("disabled",e.context.disabled)("hidden",e.hidden)("ngb-dp-today",e.context.today),l.Q6J("tabindex",e.tabindex),l.uIk("aria-label",e.ariaLabel),l.xp6(1),l.Q6J("ngIf",!e.hidden)}}function Vx(t,n){if(1&t&&(l.TgZ(0,"div",8),l.YNc(1,Fx,2,1,"div",9),l.YNc(2,Ux,2,9,"div",10),l.qZA()),2&t){const e=l.oxw().$implicit,i=l.oxw();l.xp6(1),l.Q6J("ngIf",i.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",e.days)}}function Hx(t,n){1&t&&l.YNc(0,Vx,3,2,"div",7),2&t&&l.Q6J("ngIf",!n.$implicit.collapsed)}const Gx=["defaultDayTemplate"],jx=["content"];function $x(t,n){if(1&t&&l._UZ(0,"div",8),2&t){const i=n.currentMonth,s=n.selected,c=n.disabled,h=n.focused;l.Q6J("date",n.date)("currentMonth",i)("selected",s)("disabled",c)("focused",h)}}function Wx(t,n){if(1&t&&(l.TgZ(0,"div",13),l._uU(1),l.qZA()),2&t){const e=l.oxw().$implicit,i=l.oxw(2);l.xp6(1),l.hij(" ",i.i18n.getMonthLabel(e.firstDate)," ")}}function zx(t,n){if(1&t&&(l.TgZ(0,"div",10),l.YNc(1,Wx,2,1,"div",11),l._UZ(2,"ngb-datepicker-month",12),l.qZA()),2&t){const e=n.$implicit,i=l.oxw(2);l.xp6(1),l.Q6J("ngIf","none"===i.navigation||i.displayMonths>1&&"select"===i.navigation),l.xp6(1),l.Q6J("month",e.firstDate)}}function Yx(t,n){if(1&t&&l.YNc(0,zx,3,2,"div",9),2&t){const e=l.oxw();l.Q6J("ngForOf",e.model.months)}}function Zx(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"ngb-datepicker-navigation",14),l.NdJ("navigate",function(s){l.CHM(e);const c=l.oxw();return l.KtG(c.onNavigateEvent(s))})("select",function(s){l.CHM(e);const c=l.oxw();return l.KtG(c.onNavigateDateSelect(s))}),l.qZA()}if(2&t){const e=l.oxw();l.Q6J("date",e.model.firstDate)("months",e.model.months)("disabled",e.model.disabled)("showSelect","select"===e.model.navigation)("prevDisabled",e.model.prevDisabled)("nextDisabled",e.model.nextDisabled)("selectBoxes",e.model.selectBoxes)}}function qx(t,n){}function Kx(t,n){}const _R=function(t){return{$implicit:t}},Jx=["dialog"],Qx=["ngbNavOutlet",""];function Xx(t,n){}function eF(t,n){if(1&t&&(l.TgZ(0,"div",2),l.YNc(1,Xx,0,0,"ng-template",3),l.qZA()),2&t){const e=l.oxw().$implicit,i=l.oxw();l.Q6J("item",e)("nav",i.nav)("role",i.paneRole),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)("ngTemplateOutletContext",l.VKq(5,_R,e.active||i.isPanelTransitioning(e)))}}function tF(t,n){if(1&t&&l.YNc(0,eF,2,7,"div",1),2&t){const e=n.$implicit,i=l.oxw();l.Q6J("ngIf",e.isPanelInDom()||i.isPanelTransitioning(e))}}function nF(t,n){1&t&&(l.TgZ(0,"span",9),l.SDv(1,10),l.qZA())}function iF(t,n){1&t&&(l.TgZ(0,"span",9),l.SDv(1,11),l.qZA())}function rF(t,n){1&t&&(l.TgZ(0,"span",9),l.SDv(1,12),l.qZA())}function oF(t,n){1&t&&(l.TgZ(0,"span",9),l.SDv(1,13),l.qZA())}function sF(t,n){1&t&&l._uU(0,"...")}function aF(t,n){1&t&&l._uU(0),2&t&&l.Oqu(n.$implicit)}function lF(t,n){}const cF=function(t){return{disabled:!0,currentPage:t}};function uF(t,n){if(1&t&&(l.TgZ(0,"a",18),l.YNc(1,lF,0,0,"ng-template",8),l.qZA()),2&t){const e=l.oxw(2).$implicit,i=l.oxw(),s=l.MAs(9);l.xp6(1),l.Q6J("ngTemplateOutlet",(null==i.tplEllipsis?null:i.tplEllipsis.templateRef)||s)("ngTemplateOutletContext",l.VKq(2,cF,e))}}function dF(t,n){}const hF=function(t,n,e){return{disabled:t,$implicit:n,currentPage:e}};function fF(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"a",19),l.NdJ("click",function(s){l.CHM(e);const c=l.oxw().$implicit;return l.oxw(2).selectPage(c),l.KtG(s.preventDefault())}),l.YNc(1,dF,0,0,"ng-template",8),l.qZA()}if(2&t){const e=l.oxw().$implicit,i=l.oxw(),s=i.disabled,c=i.$implicit,h=l.oxw(),m=l.MAs(11);l.uIk("tabindex",s?"-1":null)("aria-disabled",s?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==h.tplNumber?null:h.tplNumber.templateRef)||m)("ngTemplateOutletContext",l.kEZ(4,hF,s,e,c))}}function pF(t,n){if(1&t&&(l.TgZ(0,"li",15),l.YNc(1,uF,2,4,"a",16),l.YNc(2,fF,2,8,"a",17),l.qZA()),2&t){const e=n.$implicit,i=l.oxw(),s=i.$implicit,c=i.disabled,h=l.oxw();l.ekj("active",e===s)("disabled",h.isEllipsis(e)||c),l.uIk("aria-current",e===s?"page":null),l.xp6(1),l.Q6J("ngIf",h.isEllipsis(e)),l.xp6(1),l.Q6J("ngIf",!h.isEllipsis(e))}}function gF(t,n){1&t&&l.YNc(0,pF,3,7,"li",14),2&t&&l.Q6J("ngForOf",n.pages)}function mF(t,n){}const kI=function(t,n){return{disabled:t,currentPage:n}};function _F(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"li",15)(1,"a",20),l.NdJ("click",function(s){return l.CHM(e),l.oxw().selectPage(1),l.KtG(s.preventDefault())}),l.YNc(2,mF,0,0,"ng-template",8),l.qZA()()}if(2&t){const e=l.oxw(),i=l.MAs(1);l.ekj("disabled",e.previousDisabled()),l.xp6(1),l.uIk("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==e.tplFirst?null:e.tplFirst.templateRef)||i)("ngTemplateOutletContext",l.WLB(6,kI,e.previousDisabled(),e.page))}}function vF(t,n){}const yF=function(t){return{disabled:t}};function bF(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"li",15)(1,"a",21),l.NdJ("click",function(s){l.CHM(e);const c=l.oxw();return c.selectPage(c.page-1),l.KtG(s.preventDefault())}),l.YNc(2,vF,0,0,"ng-template",8),l.qZA()()}if(2&t){const e=l.oxw(),i=l.MAs(3);l.ekj("disabled",e.previousDisabled()),l.xp6(1),l.uIk("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==e.tplPrevious?null:e.tplPrevious.templateRef)||i)("ngTemplateOutletContext",l.VKq(6,yF,e.previousDisabled()))}}function wF(t,n){}function DF(t,n){}function EF(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"li",15)(1,"a",22),l.NdJ("click",function(s){l.CHM(e);const c=l.oxw();return c.selectPage(c.page+1),l.KtG(s.preventDefault())}),l.YNc(2,DF,0,0,"ng-template",8),l.qZA()()}if(2&t){const e=l.oxw(),i=l.MAs(5);l.ekj("disabled",e.nextDisabled()),l.xp6(1),l.uIk("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==e.tplNext?null:e.tplNext.templateRef)||i)("ngTemplateOutletContext",l.WLB(6,kI,e.nextDisabled(),e.page))}}function CF(t,n){}function TF(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"li",15)(1,"a",23),l.NdJ("click",function(s){l.CHM(e);const c=l.oxw();return c.selectPage(c.pageCount),l.KtG(s.preventDefault())}),l.YNc(2,CF,0,0,"ng-template",8),l.qZA()()}if(2&t){const e=l.oxw(),i=l.MAs(7);l.ekj("disabled",e.nextDisabled()),l.xp6(1),l.uIk("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==e.tplLast?null:e.tplLast.templateRef)||i)("ngTemplateOutletContext",l.WLB(6,kI,e.nextDisabled(),e.page))}}const IF=function(t,n,e){return{$implicit:t,pages:n,disabled:e}};function RF(t,n){if(1&t&&(l.TgZ(0,"span"),l.SDv(1,1),l.ALo(2,"percent"),l.qZA()),2&t){const e=l.oxw();l.xp6(2),l.pQV(l.lcZ(2,1,e.getValue()/e.max)),l.QtT(1)}}function NF(t,n){1&t&&l._uU(0),2&t&&l.Oqu(100===n.fill?"\u2605":"\u2606")}function MF(t,n){}function OF(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"span",2),l._uU(1),l.qZA(),l.TgZ(2,"span",3),l.NdJ("mouseenter",function(){const c=l.CHM(e).index,h=l.oxw();return l.KtG(h.enter(c+1))})("click",function(){const c=l.CHM(e).index,h=l.oxw();return l.KtG(h.handleClick(c+1))}),l.YNc(3,MF,0,0,"ng-template",4),l.qZA()}if(2&t){const e=n.index,i=l.oxw(),s=l.MAs(1);l.xp6(1),l.hij("(",e<i.nextRate?"*":" ",")"),l.xp6(1),l.Udp("cursor",i.isInteractive()?"pointer":"default"),l.xp6(1),l.Q6J("ngTemplateOutlet",i.starTemplate||i.starTemplateFromContent||s)("ngTemplateOutletContext",i.contexts[e])}}function PF(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.changeHour(s.hourStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,14),l.qZA()()}if(2&t){const e=l.oxw();l.ekj("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),l.Q6J("disabled",e.disabled)}}function kF(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.changeHour(-s.hourStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,16),l.qZA()()}if(2&t){const e=l.oxw();l.ekj("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),l.Q6J("disabled",e.disabled)}}function xF(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.changeMinute(s.minuteStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,17),l.qZA()()}if(2&t){const e=l.oxw();l.ekj("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),l.Q6J("disabled",e.disabled)}}function FF(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.changeMinute(-s.minuteStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,18),l.qZA()()}if(2&t){const e=l.oxw();l.ekj("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),l.Q6J("disabled",e.disabled)}}function LF(t,n){1&t&&(l.TgZ(0,"div",5),l._uU(1,":"),l.qZA())}function BF(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(e);const s=l.oxw(2);return l.KtG(s.changeSecond(s.secondStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,21),l.qZA()()}if(2&t){const e=l.oxw(2);l.ekj("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),l.Q6J("disabled",e.disabled)}}function UF(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(e);const s=l.oxw(2);return l.KtG(s.changeSecond(-s.secondStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,22),l.qZA()()}if(2&t){const e=l.oxw(2);l.ekj("btn-sm",e.isSmallSize)("btn-lg",e.isLargeSize)("disabled",e.disabled),l.Q6J("disabled",e.disabled)}}function VF(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"div",19),l.YNc(1,BF,4,7,"button",3),l.TgZ(2,"input",20),l.NdJ("change",function(s){l.CHM(e);const c=l.oxw();return l.KtG(c.updateSecond(s.target.value))})("blur",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.handleBlur())})("input",function(s){l.CHM(e);const c=l.oxw();return l.KtG(c.formatInput(s.target))})("keydown.ArrowUp",function(s){l.CHM(e);const c=l.oxw();return c.changeSecond(c.secondStep),l.KtG(s.preventDefault())})("keydown.ArrowDown",function(s){l.CHM(e);const c=l.oxw();return c.changeSecond(-c.secondStep),l.KtG(s.preventDefault())}),l.qZA(),l.YNc(3,UF,4,7,"button",3),l.qZA()}if(2&t){const e=l.oxw();l.xp6(1),l.Q6J("ngIf",e.spinners),l.xp6(1),l.ekj("form-control-sm",e.isSmallSize)("form-control-lg",e.isLargeSize),l.Q6J("value",e.formatMinSec(null==e.model?null:e.model.second))("readOnly",e.readonlyInputs)("disabled",e.disabled),l.xp6(1),l.Q6J("ngIf",e.spinners)}}function HF(t,n){1&t&&l._UZ(0,"div",5)}function GF(t,n){if(1&t&&(l.ynx(0),l.SDv(1,27),l.BQk()),2&t){const e=l.oxw(2);l.xp6(1),l.pQV(e.i18n.getAfternoonPeriod()),l.QtT(1)}}function jF(t,n){if(1&t&&l.SDv(0,28),2&t){const e=l.oxw(2);l.pQV(e.i18n.getMorningPeriod()),l.QtT(0)}}function $F(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"div",23)(1,"button",24),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.toggleMeridian())}),l.YNc(2,GF,2,1,"ng-container",25),l.YNc(3,jF,1,1,"ng-template",null,26,l.W1O),l.qZA()()}if(2&t){const e=l.MAs(4),i=l.oxw();l.xp6(1),l.ekj("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),l.Q6J("disabled",i.disabled),l.xp6(1),l.Q6J("ngIf",i.model&&i.model.hour>=12)("ngIfElse",e)}}function WF(t,n){if(1&t&&(l.TgZ(0,"strong",3),l._uU(1),l.qZA()),2&t){const e=l.oxw();l.xp6(1),l.Oqu(e.header)}}function zF(t,n){}function YF(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"div",4),l.YNc(1,zF,0,0,"ng-template",5),l.TgZ(2,"button",6),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.hide())}),l.qZA()()}if(2&t){const e=l.oxw(),i=l.MAs(1);l.xp6(1),l.Q6J("ngTemplateOutlet",e.contentHeaderTpl||i)}}function ZF(t,n){if(1&t&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&t){const e=l.oxw().$implicit,i=l.oxw();l.Tol(i.highlightClass),l.xp6(1),l.Oqu(e)}}function qF(t,n){if(1&t&&l._uU(0),2&t){const e=l.oxw().$implicit;l.Oqu(e)}}function KF(t,n){if(1&t&&(l.YNc(0,ZF,2,3,"span",1),l.YNc(1,qF,1,1,"ng-template",null,2,l.W1O)),2&t){const e=n.odd,i=l.MAs(2);l.Q6J("ngIf",e)("ngIfElse",i)}}function Wr(t){return parseInt(`${t}`,10)}function vR(t){return null!=t?`${t}`:""}function uD(t,n,e=0){return Math.max(Math.min(t,n),e)}function Cm(t){return"string"==typeof t}function Ni(t){return!isNaN(Wr(t))}function Ti(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function Kf(t){return null!=t}function Tm(t){return Ni(t)?`0${t}`.slice(-2):""}function bR(t,n){return t&&t.className&&t.className.split&&t.className.split(/\s+/).indexOf(n)>=0}function Im(t){return(t||document.body).getBoundingClientRect()}function wR(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const DR={animation:!0,transitionTimerDelayMs:5},iL=()=>{},{transitionTimerDelayMs:rL}=DR,fy=new Map,cr=(t,n,e,i)=>{let s=i.context||{};const c=fy.get(n);if(c)switch(i.runningTransition){case"continue":return oa.E;case"stop":t.run(()=>c.transition$.complete()),s=Object.assign(c.context,s),fy.delete(n)}const h=e(n,i.animation,s)||iL;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>h()),dt(void 0).pipe(function tL(t){return n=>new jn.y(e=>n.subscribe({next:h=>t.run(()=>e.next(h)),error:h=>t.run(()=>e.error(h)),complete:()=>t.run(()=>e.complete())}))}(t));const m=new Un.x,b=new Un.x,T=m.pipe(function eP(...t){return n=>lh(n,dt(...t))}(!0));fy.set(n,{transition$:m,complete:()=>{b.next(),b.complete()},context:s});const R=function nL(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const O=jr(n,"transitionend").pipe(Ri(T),ii(({target:W})=>W===n));(function q1(...t){return 1===(t=Z1(t)).length?(0,tr.Xf)(t[0]):new jn.y(function XO(t){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<t.length;i++)e.push((0,tr.Xf)(t[i]).subscribe((0,gn.x)(n,s=>{if(e){for(let c=0;c<e.length;c++)c!==i&&e[c].unsubscribe();e=null}n.next(s)})))}}(t))})(tI(R+rL).pipe(Ri(T)),O,b).pipe(Ri(T)).subscribe(()=>{fy.delete(n),t.run(()=>{h(),m.next(),m.complete()})})}),m.asObservable()},xI=(t,n,e)=>{let{direction:i,maxSize:s,dimension:c}=e;const{classList:h}=t;function m(){h.add("collapse"),"show"===i?h.add("show"):h.remove("show")}if(n)return s||(s=function sL(t,n){if(typeof navigator>"u")return"0px";const{classList:e}=t,i=e.contains("show");i||e.add("show"),t.style[n]="";const s=t.getBoundingClientRect()[n]+"px";return i||e.remove("show"),s}(t,c),e.maxSize=s,t.style[c]="show"!==i?s:"0px",h.remove("collapse"),h.remove("collapsing"),h.remove("show"),Im(t),h.add("collapsing")),t.style[c]="show"===i?s:"0px",()=>{m(),h.remove("collapsing"),t.style[c]=""};m()};let Jf=(()=>{class t{constructor(){this.animation=DR.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ER=(()=>{class t{constructor(e){this._ngbConfig=e,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Jf))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),aL=0,FI=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),t})(),CR=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),t})(),TR=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),t})(),LI=(()=>{class t{constructor(){this.disabled=!1,this.id="ngb-panel-"+aL++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new l.vpe,this.hidden=new l.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=l.lG2({type:t,selectors:[["ngb-panel"]],contentQueries:function(e,i,s){if(1&e&&(l.Suo(s,CR,4),l.Suo(s,FI,4),l.Suo(s,TR,4)),2&e){let c;l.iGM(c=l.CRH())&&(i.titleTpls=c),l.iGM(c=l.CRH())&&(i.headerTpls=c),l.iGM(c=l.CRH())&&(i.contentTpls=c)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),t})(),lL=(()=>{class t{constructor(e){this._El=e,this.ngbRef=new l.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.SBq))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),t})(),IR=(()=>{class t{constructor(e,i){this.accordion=e,this.panel=i}set ngbPanelToggle(e){e&&(this.panel=e)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36((0,l.Gpc)(()=>BI)),l.Y36(LI,9))},t.\u0275dir=l.lG2({type:t,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i.accordion.toggle(i.panel.id)}),2&e&&(l.Ikx("disabled",i.panel.disabled),l.uIk("aria-expanded",i.panel.isOpen)("aria-controls",i.panel.id),l.ekj("collapsed",!i.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),t})(),BI=(()=>{class t{constructor(e,i,s){this._ngZone=i,this._changeDetector=s,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=e.animation,this.type=e.type,this.closeOtherPanels=e.closeOthers}isExpanded(e){return this.activeIds.indexOf(e)>-1}expand(e){this._changeOpenState(this._findPanelById(e),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(e=>this._changeOpenState(e,!0))}collapse(e){this._changeOpenState(this._findPanelById(e),!1)}collapseAll(){this.panels.forEach(e=>{this._changeOpenState(e,!1)})}toggle(e){const i=this._findPanelById(e);i&&this._changeOpenState(i,!i.isOpen)}ngAfterContentChecked(){Cm(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(e=>{e.isOpen=!e.disabled&&this.activeIds.indexOf(e.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(Ci(1)).subscribe(()=>{this.panels.forEach(e=>{const i=e.panelDiv;i?e.initClassDone||(e.initClassDone=!0,cr(this._ngZone,i,xI,{animation:!1,runningTransition:"continue",context:{direction:e.isOpen?"show":"hide",dimension:"height"}})):e.initClassDone=!1})})}_changeOpenState(e,i){if(null!=e&&!e.disabled&&e.isOpen!==i){let s=!1;this.panelChange.emit({panelId:e.id,nextState:i,preventDefault:()=>{s=!0}}),s||(e.isOpen=i,e.transitionRunning=!0,i&&this.closeOtherPanels&&this._closeOthers(e.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(e,i=!0){this.panels.forEach(s=>{s.id!==e&&s.isOpen&&(s.isOpen=!1,s.transitionRunning=i)})}_findPanelById(e){return this.panels.find(i=>i.id===e)||null}_updateActiveIds(){this.activeIds=this.panels.filter(e=>e.isOpen&&!e.disabled).map(e=>e.id)}_runTransitions(e){this._changeDetector.detectChanges(),this.panels.forEach(i=>{i.transitionRunning&&cr(this._ngZone,i.panelDiv,xI,{animation:e,runningTransition:"stop",context:{direction:i.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{i.transitionRunning=!1;const{id:c}=i;i.isOpen?(i.shown.emit(),this.shown.emit(c)):(i.hidden.emit(),this.hidden.emit(c))})})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(ER),l.Y36(l.R0b),l.Y36(l.sBO))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-accordion"]],contentQueries:function(e,i,s){if(1&e&&l.Suo(s,LI,4),2&e){let c;l.iGM(c=l.CRH())&&(i.panels=c)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(e,i){2&e&&l.uIk("aria-multiselectable",!i.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[l.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(e,i){1&e&&(l.YNc(0,dx,3,3,"ng-template",0,1,l.W1O),l.YNc(2,mx,4,11,"ng-template",2)),2&e&&(l.xp6(2),l.Q6J("ngForOf",i.panels))},dependencies:[Si,En,IR,lL,FI,Yn],encapsulation:2}),t})(),NR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[BI]}),t})();const pL=({classList:t})=>{t.remove("show")};let gL=(()=>{class t{constructor(e){this._ngbConfig=e,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Jf))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),mL=(()=>{class t{constructor(e,i,s,c){this._renderer=i,this._element=s,this._zone=c,this.closed=new l.vpe,this.dismissible=e.dismissible,this.type=e.type,this.animation=e.animation}close(){const e=cr(this._zone,this._element.nativeElement,pL,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>this.closed.emit()),e}ngOnChanges(e){const i=e.type;i&&!i.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${i.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${i.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(gL),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.R0b))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("fade",i.animation)("alert-dismissible",i.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:cD,decls:2,vars:1,consts:function(){let n;return n=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",n,3,"click",4,"ngIf"],["type","button","aria-label",n,1,"btn-close",3,"click"]]},template:function(e,i){1&e&&(l.F$t(),l.Hsn(0),l.YNc(1,_x,1,0,"button",0)),2&e&&(l.xp6(1),l.Q6J("ngIf",i.dismissible))},dependencies:[Yn],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),t})(),MR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[mL]}),t})();var bh=(()=>{return(t=bh||(bh={})).START="start",t.END="end",bh;var t})();const OR=({classList:t})=>t.contains("carousel-item-start")||t.contains("carousel-item-end"),py=t=>{t.remove("carousel-item-start"),t.remove("carousel-item-end")},dD=t=>{py(t),t.remove("carousel-item-prev"),t.remove("carousel-item-next")},_L=(t,n,{direction:e})=>{const{classList:i}=t;return n?(OR(t)?py(i):(i.add("carousel-item-"+(e===bh.START?"next":"prev")),Im(t),i.add("carousel-item-"+e)),()=>{dD(i),i.add("active")}):(py(i),dD(i),void i.add("active"))},vL=(t,n,{direction:e})=>{const{classList:i}=t;return n?(OR(t)?py(i):i.add("carousel-item-"+e),()=>{dD(i),i.remove("active")}):(py(i),dD(i),void i.remove("active"))};let yL=(()=>{class t{constructor(e){this._ngbConfig=e,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Jf))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),bL=0,wL=(()=>{class t{constructor(e){this.tplRef=e,this.id="ngb-slide-"+bL++,this.slid=new l.vpe}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),t})(),DL=(()=>{class t{constructor(e,i,s,c,h){this._platformId=i,this._ngZone=s,this._cd=c,this._container=h,this.NgbSlideEventSource=Xf,this._destroy$=new Un.x,this._interval$=new ji(0),this._mouseHover$=new ji(!1),this._focused$=new ji(!1),this._pauseOnHover$=new ji(!1),this._pauseOnFocus$=new ji(!1),this._pause$=new ji(!1),this._wrap$=new ji(!1),this.slide=new l.vpe,this.slid=new l.vpe,this._transitionIds=null,this.animation=e.animation,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.pauseOnFocus=e.pauseOnFocus,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(e){this._pauseOnFocus$.next(e)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(e){this._mouseHover$.next(e)}get mouseHover(){return this._mouseHover$.value}set focused(e){this._focused$.next(e)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Xf.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Xf.ARROW_RIGHT)}ngAfterContentInit(){(function $u(t){return t===Ch})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const e=im([this.slide.pipe((0,vt.U)(i=>i.current),rm(this.activeId)),this._wrap$,this.slides.changes.pipe(rm(null))]).pipe((0,vt.U)(([i,s])=>{const c=this.slides.toArray(),h=this._getSlideIdxById(i);return s?c.length>1:h<c.length-1}),Ys());im([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,e]).pipe((0,vt.U)(([i,s,c,h,m,b,T])=>i||s&&c||h&&m||!T?0:b),Ys(),bn(i=>i>0?tI(i,i):K1),Ri(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Xf.TIMER)))}),this.slides.changes.pipe(Ri(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(e=>(t=>{fy.get(t)?.complete()})(this._getSlideElement(e))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(Ci(1)).subscribe(()=>{for(const{id:e}of this.slides){const i=this._getSlideElement(e);e===this.activeId?i.classList.add("active"):i.classList.remove("active")}})})}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const e=this._getSlideElement(this.activeId);e&&e.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(e,i){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),i)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),bh.END,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),bh.START,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(e,i,s){const c=this._transitionIds;if(c&&(c[0]!==e||c[1]!==this.activeId))return;let h=this._getSlideById(e);if(h&&h.id!==this.activeId){this._transitionIds=[this.activeId,e],this.slide.emit({prev:this.activeId,current:h.id,direction:i,paused:this._pause$.value,source:s});const m={animation:this.animation,runningTransition:"stop",context:{direction:i}},b=[],T=this._getSlideById(this.activeId);if(T){const W=cr(this._ngZone,this._getSlideElement(T.id),vL,m);W.subscribe(()=>{T.slid.emit({isShown:!1,direction:i,source:s})}),b.push(W)}const R=this.activeId;this.activeId=h.id;const O=this._getSlideById(this.activeId),B=cr(this._ngZone,this._getSlideElement(h.id),_L,m);B.subscribe(()=>{O?.slid.emit({isShown:!0,direction:i,source:s})}),b.push(B),qw(...b).pipe(Ci(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:R,current:h.id,direction:i,paused:this._pause$.value,source:s})})}this._cd.markForCheck()}_getSlideEventDirection(e,i){return this._getSlideIdxById(e)>this._getSlideIdxById(i)?bh.END:bh.START}_getSlideById(e){return this.slides.find(i=>i.id===e)||null}_getSlideIdxById(e){const i=this._getSlideById(e);return null!=i?this.slides.toArray().indexOf(i):-1}_getNextSlide(e){const i=this.slides.toArray(),s=this._getSlideIdxById(e);return s===i.length-1?this.wrap?i[0].id:i[i.length-1].id:i[s+1].id}_getPrevSlide(e){const i=this.slides.toArray(),s=this._getSlideIdxById(e);return 0===s?this.wrap?i[i.length-1].id:i[0].id:i[s-1].id}_getSlideElement(e){return this._container.nativeElement.querySelector(`#slide-${e}`)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(yL),l.Y36(l.Lbi),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(l.SBq))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-carousel"]],contentQueries:function(e,i,s){if(1&e&&l.Suo(s,wL,4),2&e){let c;l.iGM(c=l.CRH())&&(i.slides=c)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(e,i){1&e&&l.NdJ("keydown.arrowLeft",function(){return i.keyboard&&i.arrowLeft()})("keydown.arrowRight",function(){return i.keyboard&&i.arrowRight()})("mouseenter",function(){return i.mouseHover=!0})("mouseleave",function(){return i.mouseHover=!1})("focusin",function(){return i.focused=!0})("focusout",function(){return i.focused=!1}),2&e&&(l.uIk("aria-activedescendant","slide-"+i.activeId),l.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[l.jDz],decls:6,vars:6,consts:function(){let n,e,i;return n=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,e=$localize`:@@ngb.carousel.previous:Previous`,i=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],n,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],e,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],i]},template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.YNc(1,vx,1,5,"button",1),l.qZA(),l.TgZ(2,"div",2),l.YNc(3,bx,4,4,"div",3),l.qZA(),l.YNc(4,wx,4,0,"button",4),l.YNc(5,Dx,4,0,"button",5)),2&e&&(l.ekj("visually-hidden",!i.showNavigationIndicators),l.xp6(1),l.Q6J("ngForOf",i.slides),l.xp6(2),l.Q6J("ngForOf",i.slides),l.xp6(1),l.Q6J("ngIf",i.showNavigationArrows),l.xp6(1),l.Q6J("ngIf",i.showNavigationArrows))},dependencies:[Si,En,Yn],encapsulation:2,changeDetection:0}),t})();var Xf=(()=>{return(t=Xf||(Xf={})).TIMER="timer",t.ARROW_LEFT="arrowLeft",t.ARROW_RIGHT="arrowRight",t.INDICATOR="indicator",Xf;var t})();let PR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[DL]}),t})(),kR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();class ur{constructor(n,e,i){this.year=Ti(n)?n:null,this.month=Ti(e)?e:null,this.day=Ti(i)?i:null}static from(n){return n instanceof ur?n:n?new ur(n.year,n.month,n.day):null}equals(n){return null!=n&&this.year===n.year&&this.month===n.month&&this.day===n.day}before(n){return!!n&&(this.year===n.year?this.month===n.month?this.day!==n.day&&this.day<n.day:this.month<n.month:this.year<n.year)}after(n){return!!n&&(this.year===n.year?this.month===n.month?this.day!==n.day&&this.day>n.day:this.month>n.month:this.year>n.year)}}function Sm(t,n){return!function EL(t,n){return!t&&!n||!!t&&!!n&&t.equals(n)}(t,n)}function xR(t,n){return!(!t&&!n||t&&n&&t.year===n.year&&t.month===n.month)}function hD(t,n,e){return t&&n&&t.before(n)?n:t&&e&&t.after(e)?e:t||null}function VI(t,n){const{minDate:e,maxDate:i,disabled:s,markDisabled:c}=n;return!(null==t||s||c&&c(t,{year:t.year,month:t.month})||e&&t.before(e)||i&&t.after(i))}function FR(t){return new ur(t.getFullYear(),t.getMonth()+1,t.getDate())}function fD(t){const n=new Date(t.year,t.month-1,t.day,12);return isNaN(n.getTime())||n.setFullYear(t.year),n}let pD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return function OL(){return new PL}()},providedIn:"root"}),t})(),PL=(()=>{class t extends pD{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(e,i="d",s=1){let c=fD(e),h=!0,m=c.getMonth();switch(i){case"y":c.setFullYear(c.getFullYear()+s);break;case"m":m+=s,c.setMonth(m),m%=12,m<0&&(m+=12);break;case"d":c.setDate(c.getDate()+s),h=!1;break;default:return e}return h&&c.getMonth()!==m&&c.setDate(0),FR(c)}getPrev(e,i="d",s=1){return this.getNext(e,i,-s)}getWeekday(e){let s=fD(e).getDay();return 0===s?7:s}getWeekNumber(e,i){7===i&&(i=0);const h=fD(e[(11-i)%7]);h.setDate(h.getDate()+4-(h.getDay()||7));const m=h.getTime();return h.setMonth(0),h.setDate(1),Math.floor(Math.round((m-h.getTime())/864e5)/7)+1}getToday(){return FR(new Date)}isValid(e){if(!(e&&Ti(e.year)&&Ti(e.month)&&Ti(e.day)&&0!==e.year))return!1;const i=fD(e);return!isNaN(i.getTime())&&i.getFullYear()===e.year&&i.getMonth()+1===e.month&&i.getDate()===e.day}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=l.n5z(t)))(i||t)}}(),t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),ep=(()=>{class t{getMonthLabel(e){return`${this.getMonthFullName(e.month,e.year)} ${this.getYearNumerals(e.year)}`}getDayNumerals(e){return`${e.day}`}getWeekNumerals(e){return`${e}`}getYearNumerals(e){return`${e}`}getWeekLabel(){return""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(e){let i=null;return i=e?new e:function kL(t){return new xL(t)}(l.LFG(l.soG)),i},providedIn:"root"}),t})(),xL=(()=>{class t extends ep{constructor(e){super(),this._locale=e,this._monthsShort=Se(e,_t.Standalone,Ke.Abbreviated),this._monthsFull=Se(e,_t.Standalone,Ke.Wide)}getWeekdayLabel(e,i){const s=Ce(this._locale,_t.Standalone,void 0===i?Ke.Short:i);return s.map((h,m)=>s[(m+1)%7])[e-1]||""}getMonthShortName(e){return this._monthsShort[e-1]||""}getMonthFullName(e){return this._monthsFull[e-1]||""}getDayAriaLabel(e){return mi(new Date(e.year,e.month-1,e.day),"fullDate",this._locale)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.soG))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),HI=(()=>{class t{constructor(e,i){this._calendar=e,this._i18n=i,this._VALIDATORS={dayTemplateData:s=>{if(this._state.dayTemplateData!==s)return{dayTemplateData:s}},displayMonths:s=>{if(Ti(s=Wr(s))&&s>0&&this._state.displayMonths!==s)return{displayMonths:s}},disabled:s=>{if(this._state.disabled!==s)return{disabled:s}},firstDayOfWeek:s=>{if(Ti(s=Wr(s))&&s>=0&&this._state.firstDayOfWeek!==s)return{firstDayOfWeek:s}},focusVisible:s=>{if(this._state.focusVisible!==s&&!this._state.disabled)return{focusVisible:s}},markDisabled:s=>{if(this._state.markDisabled!==s)return{markDisabled:s}},maxDate:s=>{const c=this.toValidDate(s,null);if(Sm(this._state.maxDate,c))return{maxDate:c}},minDate:s=>{const c=this.toValidDate(s,null);if(Sm(this._state.minDate,c))return{minDate:c}},navigation:s=>{if(this._state.navigation!==s)return{navigation:s}},outsideDays:s=>{if(this._state.outsideDays!==s)return{outsideDays:s}},weekdays:s=>{const c=!0===s||!1===s?Ke.Short:s,h=!0!==s&&!1!==s||s;if(this._state.weekdayWidth!==c||this._state.weekdaysVisible!==h)return{weekdayWidth:c,weekdaysVisible:h}}},this._model$=new Un.x,this._dateSelect$=new Un.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Ke.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(ii(e=>e.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(ii(e=>null!==e))}set(e){let i=Object.keys(e).map(s=>this._VALIDATORS[s](e[s])).reduce((s,c)=>({...s,...c}),{});Object.keys(i).length>0&&this._nextState(i)}focus(e){const i=this.toValidDate(e,null);null!=i&&!this._state.disabled&&Sm(this._state.focusDate,i)&&this._nextState({focusDate:e})}focusSelect(){VI(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(e){const i=this.toValidDate(e,this._calendar.getToday());null!=i&&!this._state.disabled&&(!this._state.firstDate||xR(this._state.firstDate,i))&&this._nextState({firstDate:i})}select(e,i={}){const s=this.toValidDate(e,null);null!=s&&!this._state.disabled&&(Sm(this._state.selectedDate,s)&&this._nextState({selectedDate:s}),i.emitEvent&&VI(s,this._state)&&this._dateSelect$.next(s))}toValidDate(e,i){const s=ur.from(e);return void 0===i&&(i=this._calendar.getToday()),this._calendar.isValid(s)?s:i}getMonth(e){for(let i of this._state.months)if(e.month===i.number&&e.year===i.year)return i;throw new Error(`month ${e.month} of year ${e.year} not found`)}_nextState(e){const i=this._updateState(e);this._patchContexts(i),this._state=i,this._model$.next(this._state)}_patchContexts(e){const{months:i,displayMonths:s,selectedDate:c,focusDate:h,focusVisible:m,disabled:b,outsideDays:T}=e;e.months.forEach(R=>{R.weeks.forEach(O=>{O.days.forEach(B=>{h&&(B.context.focused=h.equals(B.date)&&m),B.tabindex=!b&&h&&B.date.equals(h)&&h.month===R.number?0:-1,!0===b&&(B.context.disabled=!0),void 0!==c&&(B.context.selected=null!==c&&c.equals(B.date)),R.number!==B.date.month&&(B.hidden="hidden"===T||"collapsed"===T||s>1&&B.date.after(i[0].firstDate)&&B.date.before(i[s-1].lastDate))})})})}_updateState(e){const i=Object.assign({},this._state,e);let s=i.firstDate;if(("minDate"in e||"maxDate"in e)&&(function CL(t,n){if(n&&t&&n.before(t))throw new Error(`'maxDate' ${n} should be greater than 'minDate' ${t}`)}(i.minDate,i.maxDate),i.focusDate=hD(i.focusDate,i.minDate,i.maxDate),i.firstDate=hD(i.firstDate,i.minDate,i.maxDate),s=i.focusDate),"disabled"in e&&(i.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(s=i.selectedDate),"focusVisible"in e||"focusDate"in e&&(i.focusDate=hD(i.focusDate,i.minDate,i.maxDate),s=i.focusDate,0!==i.months.length&&i.focusDate&&!i.focusDate.before(i.firstDate)&&!i.focusDate.after(i.lastDate)))return i;if("firstDate"in e&&(i.firstDate=hD(i.firstDate,i.minDate,i.maxDate),s=i.firstDate),s){const h=function RL(t,n,e,i,s){const{displayMonths:c,months:h}=e,m=h.splice(0,h.length);return Array.from({length:c},(T,R)=>{const O=Object.assign(t.getNext(n,"m",R),{day:1});if(h[R]=null,!s){const B=m.findIndex(W=>W.firstDate.equals(O));-1!==B&&(h[R]=m.splice(B,1)[0])}return O}).forEach((T,R)=>{null===h[R]&&(h[R]=function NL(t,n,e,i,s={}){const{dayTemplateData:c,minDate:h,maxDate:m,firstDayOfWeek:b,markDisabled:T,outsideDays:R,weekdayWidth:O,weekdaysVisible:B}=e,W=t.getToday();s.firstDate=null,s.lastDate=null,s.number=n.month,s.year=n.year,s.weeks=s.weeks||[],s.weekdays=s.weekdays||[],n=function ML(t,n,e){const i=t.getDaysPerWeek(),s=new ur(n.year,n.month,1),c=t.getWeekday(s)%i;return t.getPrev(s,"d",(i+c-e)%i)}(t,n,b),B||(s.weekdays.length=0);for(let ue=0;ue<t.getWeeksPerMonth();ue++){let Ee=s.weeks[ue];Ee||(Ee=s.weeks[ue]={number:0,days:[],collapsed:!0});const Ae=Ee.days;for(let ct=0;ct<t.getDaysPerWeek();ct++){0===ue&&B&&(s.weekdays[ct]=i.getWeekdayLabel(t.getWeekday(n),O));const tt=new ur(n.year,n.month,n.day),yt=t.getNext(tt),qe=i.getDayAriaLabel(tt);let Dt=!!(h&&tt.before(h)||m&&tt.after(m));!Dt&&T&&(Dt=T(tt,{month:s.number,year:s.year}));let Gt=tt.equals(W),Ln=c?c(tt,{month:s.number,year:s.year}):void 0;null===s.firstDate&&tt.month===s.number&&(s.firstDate=tt),tt.month===s.number&&yt.month!==s.number&&(s.lastDate=tt);let wn=Ae[ct];wn||(wn=Ae[ct]={}),wn.date=tt,wn.context=Object.assign(wn.context||{},{$implicit:tt,date:tt,data:Ln,currentMonth:s.number,currentYear:s.year,disabled:Dt,focused:!1,selected:!1,today:Gt}),wn.tabindex=-1,wn.ariaLabel=qe,wn.hidden=!1,n=yt}Ee.number=t.getWeekNumber(Ae.map(ct=>ct.date),b),Ee.collapsed="collapsed"===R&&Ae[0].date.month!==s.number&&Ae[Ae.length-1].date.month!==s.number}return s}(t,T,e,i,m.shift()||{}))}),h}(this._calendar,s,i,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e||"weekdaysVisible"in e);i.months=h,i.firstDate=h[0].firstDate,i.lastDate=h[h.length-1].lastDate,"selectedDate"in e&&!VI(i.selectedDate,i)&&(i.selectedDate=null),"firstDate"in e&&(!i.focusDate||i.focusDate.before(i.firstDate)||i.focusDate.after(i.lastDate))&&(i.focusDate=s);const m=!this._state.firstDate||this._state.firstDate.year!==i.firstDate.year,b=!this._state.firstDate||this._state.firstDate.month!==i.firstDate.month;"select"===i.navigation?(("minDate"in e||"maxDate"in e||0===i.selectBoxes.years.length||m)&&(i.selectBoxes.years=function IL(t,n,e){if(!t)return[];const i=n?Math.max(n.year,t.year-500):t.year-10,c=(e?Math.min(e.year,t.year+500):t.year+10)-i+1,h=Array(c);for(let m=0;m<c;m++)h[m]=i+m;return h}(i.firstDate,i.minDate,i.maxDate)),("minDate"in e||"maxDate"in e||0===i.selectBoxes.months.length||m)&&(i.selectBoxes.months=function TL(t,n,e,i){if(!n)return[];let s=t.getMonths(n.year);if(e&&n.year===e.year){const c=s.findIndex(h=>h===e.month);s=s.slice(c)}if(i&&n.year===i.year){const c=s.findIndex(h=>h===i.month);s=s.slice(0,c+1)}return s}(this._calendar,i.firstDate,i.minDate,i.maxDate))):i.selectBoxes={years:[],months:[]},("arrows"===i.navigation||"select"===i.navigation)&&(b||m||"minDate"in e||"maxDate"in e||"disabled"in e)&&(i.prevDisabled=i.disabled||function AL(t,n,e){const i=Object.assign(t.getPrev(n,"m"),{day:1});return null!=e&&(i.year===e.year&&i.month<e.month||i.year<e.year&&1===e.month)}(this._calendar,i.firstDate,i.minDate),i.nextDisabled=i.disabled||function SL(t,n,e){const i=Object.assign(t.getNext(n,"m"),{day:1});return null!=e&&i.after(e)}(this._calendar,i.lastDate,i.maxDate))}return i}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(pD),l.LFG(ep))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();var Am=(()=>{return(t=Am||(Am={}))[t.PREV=0]="PREV",t[t.NEXT=1]="NEXT",Am;var t})();let FL=(()=>{class t{constructor(e){this.i18n=e}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(ep))},t.\u0275cmp=l.Xpm({type:t,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(e,i){2&e&&l.ekj("bg-primary",i.selected)("text-white",i.selected)("text-muted",i.isMuted())("outside",i.isMuted())("active",i.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[l.jDz],attrs:Ex,decls:1,vars:1,template:function(e,i){1&e&&l._uU(0),2&e&&l.Oqu(i.i18n.getDayNumerals(i.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),t})(),LL=(()=>{class t{constructor(e,i){this.i18n=e,this._renderer=i,this.select=new l.vpe,this._month=-1,this._year=-1}changeMonth(e){this.select.emit(new ur(this.date.year,Wr(e),1))}changeYear(e){this.select.emit(new ur(Wr(e),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(ep),l.Y36(l.Qsj))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(e,i){if(1&e&&(l.Gf(Cx,7,l.SBq),l.Gf(Tx,7,l.SBq)),2&e){let s;l.iGM(s=l.CRH())&&(i.monthSelect=s.first),l.iGM(s=l.CRH())&&(i.yearSelect=s.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[l.jDz],decls:6,vars:4,consts:function(){let n,e,i,s;return n=$localize`:@@ngb.datepicker.select-month:Select month`,e=$localize`:@@ngb.datepicker.select-month:Select month`,i=$localize`:@@ngb.datepicker.select-year:Select year`,s=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",n,"title",e,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",i,"title",s,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(e,i){1&e&&(l.TgZ(0,"select",0,1),l.NdJ("change",function(c){return i.changeMonth(c.target.value)}),l.YNc(2,Ix,2,3,"option",2),l.qZA(),l.TgZ(3,"select",3,4),l.NdJ("change",function(c){return i.changeYear(c.target.value)}),l.YNc(5,Sx,2,2,"option",2),l.qZA()),2&e&&(l.Q6J("disabled",i.disabled),l.xp6(2),l.Q6J("ngForOf",i.months),l.xp6(1),l.Q6J("disabled",i.disabled),l.xp6(2),l.Q6J("ngForOf",i.years))},dependencies:[Si],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),t})(),BL=(()=>{class t{constructor(e){this.i18n=e,this.navigation=Am,this.months=[],this.navigate=new l.vpe,this.select=new l.vpe}onClickPrev(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(ep))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[l.jDz],decls:8,vars:4,consts:function(){let n,e,i,s;return n=$localize`:@@ngb.datepicker.previous-month:Previous month`,e=$localize`:@@ngb.datepicker.previous-month:Previous month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,s=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",n,"title",e,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",i,"title",s,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(c){return i.onClickPrev(c)}),l._UZ(2,"span",2),l.qZA()(),l.YNc(3,Ax,1,4,"ngb-datepicker-navigation-select",3),l.YNc(4,Ox,1,1,null,4),l.TgZ(5,"div",5)(6,"button",6),l.NdJ("click",function(c){return i.onClickNext(c)}),l._UZ(7,"span",2),l.qZA()()),2&e&&(l.xp6(1),l.Q6J("disabled",i.prevDisabled),l.xp6(2),l.Q6J("ngIf",i.showSelect),l.xp6(1),l.Q6J("ngIf",!i.showSelect),l.xp6(2),l.Q6J("disabled",i.nextDisabled))},dependencies:[Yn,Si,LL],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),t})();var hn=(()=>{return(t=hn||(hn={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",hn;var t})();let UL=(()=>{class t{processKey(e,i){const{state:s,calendar:c}=i;switch(e.which){case hn.PageUp:i.focusDate(c.getPrev(s.focusedDate,e.shiftKey?"y":"m",1));break;case hn.PageDown:i.focusDate(c.getNext(s.focusedDate,e.shiftKey?"y":"m",1));break;case hn.End:i.focusDate(e.shiftKey?s.maxDate:s.lastDate);break;case hn.Home:i.focusDate(e.shiftKey?s.minDate:s.firstDate);break;case hn.ArrowLeft:i.focusDate(c.getPrev(s.focusedDate,"d",1));break;case hn.ArrowUp:i.focusDate(c.getPrev(s.focusedDate,"d",c.getDaysPerWeek()));break;case hn.ArrowRight:i.focusDate(c.getNext(s.focusedDate,"d",1));break;case hn.ArrowDown:i.focusDate(c.getNext(s.focusedDate,"d",c.getDaysPerWeek()));break;case hn.Enter:case hn.Space:i.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),GI=(()=>{class t{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Ke.Short}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),jI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return function VL(){return new HL}()},providedIn:"root"}),t})(),HL=(()=>{class t extends jI{fromModel(e){return e&&Ti(e.year)&&Ti(e.month)&&Ti(e.day)?{year:e.year,month:e.month,day:e.day}:null}toModel(e){return e&&Ti(e.year)&&Ti(e.month)&&Ti(e.day)?{year:e.year,month:e.month,day:e.day}:null}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=l.n5z(t)))(i||t)}}(),t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),LR=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),t})(),$I=(()=>{class t{constructor(e,i,s,c){this.i18n=e,this.datepicker=i,this._keyboardService=s,this._service=c}set month(e){this.viewModel=this._service.getMonth(e)}onKeyDown(e){this._keyboardService.processKey(e,this.datepicker)}doSelect(e){!e.context.disabled&&!e.hidden&&this.datepicker.onDateSelect(e.date)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(ep),l.Y36((0,l.Gpc)(()=>gD)),l.Y36(UL),l.Y36(HI))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(e,i){1&e&&l.NdJ("keydown",function(c){return i.onKeyDown(c)})},inputs:{month:"month"},standalone:!0,features:[l.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(l.YNc(0,xx,3,2,"div",0),l.YNc(1,Hx,1,1,"ng-template",1)),2&e&&(l.Q6J("ngIf",i.viewModel.weekdays.length>0),l.xp6(1),l.Q6J("ngForOf",i.viewModel.weeks))},dependencies:[Yn,Si,En],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),t})(),gD=(()=>{class t{constructor(e,i,s,c,h,m,b,T){this._service=e,this._calendar=i,this._i18n=s,this._elementRef=m,this._ngbDateAdapter=b,this._ngZone=T,this.injector=(0,l.f3M)(l.zs3),this._controlValue=null,this._destroyed$=new Un.x,this._publicState={},this.navigate=new l.vpe,this.dateSelect=new l.vpe,this.onChange=R=>{},this.onTouched=()=>{},["contentTemplate","dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(R=>this[R]=c[R]),e.dateSelect$.pipe(Ri(this._destroyed$)).subscribe(R=>{this.dateSelect.emit(R)}),e.model$.pipe(Ri(this._destroyed$)).subscribe(R=>{const O=R.firstDate,B=this.model?this.model.firstDate:null;this._publicState={maxDate:R.maxDate,minDate:R.minDate,firstDate:R.firstDate,lastDate:R.lastDate,focusedDate:R.focusDate,months:R.months.map(ct=>ct.firstDate)};let W=!1;if(!O.equals(B)&&(this.navigate.emit({current:B?{year:B.year,month:B.month}:null,next:{year:O.year,month:O.month},preventDefault:()=>W=!0}),W&&null!==B))return void this._service.open(B);const ue=R.selectedDate,Ee=R.focusDate,Ae=this.model?this.model.focusDate:null;this.model=R,Sm(ue,this._controlValue)&&(this._controlValue=ue,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(ue))),Sm(Ee,Ae)&&Ae&&R.focusVisible&&this.focus(),h.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}get i18n(){return this._i18n}focusDate(e){this._service.focus(ur.from(e))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(Ci(1)).subscribe(()=>{const e=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()})}navigateTo(e){this._service.open(ur.from(e?e.day?e:{...e,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=jr(this._contentEl.nativeElement,"focusin"),i=jr(this._contentEl.nativeElement,"focusout"),{nativeElement:s}=this._elementRef;(0,La.T)(e,i).pipe(ii(({target:c,relatedTarget:h})=>!(bR(c,"ngb-dp-day")&&bR(h,"ngb-dp-day")&&s.contains(c)&&s.contains(h))),Ri(this._destroyed$)).subscribe(({type:c})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===c})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(i=>e[i]=this[i]),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(e){const i={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(s=>s in e).forEach(s=>i[s]=this[s]),this._service.set(i),"startDate"in e){const{currentValue:s,previousValue:c}=e.startDate;xR(c,s)&&this.navigateTo(this.startDate)}}onDateSelect(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}onNavigateDateSelect(e){this._service.open(e)}onNavigateEvent(e){switch(e){case Am.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Am.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._service.set({disabled:e})}writeValue(e){this._controlValue=ur.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(HI),l.Y36(pD),l.Y36(ep),l.Y36(GI),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(jI),l.Y36(l.R0b))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-datepicker"]],contentQueries:function(e,i,s){if(1&e&&l.Suo(s,LR,7),2&e){let c;l.iGM(c=l.CRH())&&(i.contentTemplateFromContent=c.first)}},viewQuery:function(e,i){if(1&e&&(l.Gf(Gx,7),l.Gf(jx,7)),2&e){let s;l.iGM(s=l.CRH())&&(i._defaultDayTemplate=s.first),l.iGM(s=l.CRH())&&(i._contentEl=s.first)}},hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("disabled",i.model.disabled)},inputs:{contentTemplate:"contentTemplate",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[l._Bn([{provide:Yo,useExisting:(0,l.Gpc)(()=>t),multi:!0},HI]),l.TTD,l.jDz],decls:10,vars:9,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(e,i){if(1&e&&(l.YNc(0,$x,1,5,"ng-template",null,0,l.W1O),l.YNc(2,Yx,1,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2),l.YNc(5,Zx,1,7,"ngb-datepicker-navigation",3),l.qZA(),l.TgZ(6,"div",4,5),l.YNc(8,qx,0,0,"ng-template",6),l.qZA(),l.YNc(9,Kx,0,0,"ng-template",7)),2&e){const s=l.MAs(3);l.xp6(5),l.Q6J("ngIf","none"!==i.navigation),l.xp6(1),l.ekj("ngb-dp-months",!i.contentTemplate),l.xp6(2),l.Q6J("ngTemplateOutlet",i.contentTemplate||(null==i.contentTemplateFromContent?null:i.contentTemplateFromContent.templateRef)||s)("ngTemplateOutletContext",l.VKq(7,_R,i))("ngTemplateOutletInjector",i.injector),l.xp6(1),l.Q6J("ngTemplateOutlet",i.footerTemplate)}},dependencies:[Yn,Si,En,FL,$I,BL],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),t})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const VR=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function HR(t){const n=Array.from(t.querySelectorAll(VR)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let eN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[gD,$I]}),t})(),iN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();class ip{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}let h2=(()=>{class t{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Ci(1)).subscribe(()=>{cr(this._zone,this._el.nativeElement,(e,i)=>{i&&Im(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return cr(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.SBq),l.Y36(l.R0b))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(l.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),l.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(e,i){},encapsulation:2}),t})();class rN{update(n){}close(n){}dismiss(n){}}const f2=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],p2=["animation","backdropClass"];class g2{constructor(n,e,i,s){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=s,this._closed=new Un.x,this._dismissed=new Un.x,this._hidden=new Un.x,n.instance.dismissEvent.subscribe(c=>{this.dismiss(c)}),this.result=new Promise((c,h)=>{this._resolve=c,this._reject=h}),this.result.then(null,()=>{})}_applyWindowOptions(n,e){f2.forEach(i=>{Kf(e[i])&&(n[i]=e[i])})}_applyBackdropOptions(n,e){p2.forEach(i=>{Kf(e[i])&&(n[i]=e[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ri(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ri(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function yR(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():dt(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),qw(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var _y=(()=>{return(t=_y||(_y={}))[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",_y;var t})();let m2=(()=>{class t{constructor(e,i,s){this._document=e,this._elRef=i,this._zone=s,this._closed$=new Un.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Un.x,this.hidden=new Un.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Cm(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ci(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},h=qw(cr(this._zone,e,()=>e.classList.remove("show"),i),cr(this._zone,this._dialogEl.nativeElement,()=>{},i));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const e={animation:this.animation,runningTransition:"continue"};qw(cr(this._zone,this._elRef.nativeElement,(c,h)=>{h&&Im(c),c.classList.add("show")},e),cr(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{jr(e,"keydown").pipe(Ri(this._closed$),ii(s=>s.which===hn.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(_y.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;jr(this._dialogEl.nativeElement,"mousedown").pipe(Ri(this._closed$),(0,lr.b)(()=>i=!1),bn(()=>jr(e,"mouseup").pipe(Ri(this._closed$),Ci(1))),ii(({target:s})=>e===s)).subscribe(()=>{i=!0}),jr(e,"click").pipe(Ri(this._closed$)).subscribe(({target:s})=>{e===s&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(_y.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),s=HR(e)[0];(i||s||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let s;s=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&cr(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(oe),l.Y36(l.SBq),l.Y36(l.R0b))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&l.Gf(Jx,7),2&e){let s;l.iGM(s=l.CRH())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(l.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),l.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),l.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:cD,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&e&&l.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),t})(),_2=(()=>{class t{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,s=i.style,{overflow:c,paddingRight:h}=s;if(e>0){const m=parseFloat(window.getComputedStyle(i).paddingRight);s.paddingRight=`${m+e}px`}return s.overflow="hidden",()=>{e>0&&(s.paddingRight=h),s.overflow=c}}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(oe))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),v2=(()=>{class t{constructor(e,i,s,c,h,m,b){this._applicationRef=e,this._injector=i,this._environmentInjector=s,this._document=c,this._scrollBar=h,this._rendererFactory=m,this._ngZone=b,this._activeWindowCmptHasChanged=new Un.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const T=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,i=!1)=>{t.runOutsideAngular(()=>{const s=jr(n,"focusin").pipe(Ri(e),(0,vt.U)(c=>c.target));jr(n,"keydown").pipe(Ri(e),ii(c=>c.which===hn.Tab),Qr(s)).subscribe(([c,h])=>{const[m,b]=HR(n);(h===m||h===n)&&c.shiftKey&&(b.focus(),c.preventDefault()),h===b&&!c.shiftKey&&(m.focus(),c.preventDefault())}),i&&jr(n,"click").pipe(Ri(e),Qr(s),(0,vt.U)(c=>c[1])).subscribe(c=>c.focus())})})(this._ngZone,T.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(T.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,s){const c=s.container instanceof HTMLElement?s.container:Kf(s.container)?this._document.querySelector(s.container):this._document.body,h=this._rendererFactory.createRenderer(null,null);if(!c)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const m=new rN,b=(e=s.injector||e).get(l.lqb,null)||this._environmentInjector,T=this._getContentRef(e,b,i,m,s);let R=!1!==s.backdrop?this._attachBackdrop(c):void 0,O=this._attachWindowComponent(c,T.nodes),B=new g2(O,T,R,s.beforeDismiss);return this._registerModalRef(B),this._registerWindowCmpt(O),B.hidden.pipe(Ci(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(h.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),m.close=W=>{B.close(W)},m.dismiss=W=>{B.dismiss(W)},m.update=W=>{B.update(W)},B.update(s),1===this._modalRefs.length&&h.addClass(this._document.body,"modal-open"),R&&R.instance&&R.changeDetectorRef.detectChanges(),O.changeDetectorRef.detectChanges(),B}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,l.LMc)(h2,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let s=(0,l.LMc)(m2,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(s.hostView),e.appendChild(s.location.nativeElement),s}_getContentRef(e,i,s,c,h){return s?s instanceof l.Rgc?this._createFromTemplateRef(s,c):Cm(s)?this._createFromString(s):this._createFromComponent(e,i,s,c,h):new ip([])}_createFromTemplateRef(e,i){const c=e.createEmbeddedView({$implicit:i,close(h){i.close(h)},dismiss(h){i.dismiss(h)}});return this._applicationRef.attachView(c),new ip([c.rootNodes],c)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new ip([[i]])}_createFromComponent(e,i,s,c,h){const m=l.zs3.create({providers:[{provide:rN,useValue:c}],parent:e}),b=(0,l.LMc)(s,{environmentInjector:i,elementInjector:m}),T=b.location.nativeElement;return h.scrollable&&T.classList.add("component-host-scrollable"),this._applicationRef.attachView(b.hostView),new ip([[T]],b.hostView,b)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(s=>{s!==e&&"SCRIPT"!==s.nodeName&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const s=this._modalRefs.indexOf(e);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(oe),l.LFG(_2),l.LFG(l.FYo),l.LFG(l.R0b))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),y2=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Jf))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),oN=(()=>{class t{constructor(e,i,s){this._injector=e,this._modalStack=i,this._config=s}open(e,i={}){const s={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.zs3),l.LFG(v2),l.LFG(y2))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),sN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[oN]}),t})();const T2=({classList:t})=>(t.remove("show"),()=>t.remove("active")),I2=(t,n)=>{n&&Im(t),t.classList.add("show")};let ZI=(()=>{class t{constructor(e){this.elRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.SBq))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(e,i){2&e&&(l.Ikx("id",i.item.panelDomId),l.uIk("role",i.role?i.role:i.nav.roles?"tabpanel":void 0)("aria-labelledby",i.item.domId),l.ekj("fade",i.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),t})(),cN=(()=>{class t{constructor(e,i){this._cd=e,this._ngZone=i,this._activePane=null}isPanelTransitioning(e){return this._activePane?.item===e}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(Ri(this.nav.destroy$),rm(this._activePane?.item||null),Ys(),function iP(t){return ii((n,e)=>t<=e)}(1)).subscribe(e=>{const i={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?cr(this._ngZone,this._activePane.elRef.nativeElement,T2,i).subscribe(()=>{const s=this._activePane?.item;this._activePane=this._getPaneForItem(e),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),cr(this._ngZone,this._activePane.elRef.nativeElement,I2,i).subscribe(()=>{e&&(e.shown.emit(),this.nav.shown.emit(e.id))})),s&&(s.hidden.emit(),this.nav.hidden.emit(s.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(e){return this._panes&&this._panes.find(i=>i.item===e)||null}_getActivePane(){return this._panes&&this._panes.find(e=>e.item.active)||null}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.sBO),l.Y36(l.R0b))},t.\u0275cmp=l.Xpm({type:t,selectors:[["","ngbNavOutlet",""]],viewQuery:function(e,i){if(1&e&&l.Gf(ZI,5),2&e){let s;l.iGM(s=l.CRH())&&(i._panes=s)}},hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[l.jDz],attrs:Qx,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&l.YNc(0,tF,1,1,"ng-template",0),2&e&&l.Q6J("ngForOf",i.nav.items)},dependencies:[ZI,Si,Yn,En],encapsulation:2,changeDetection:0}),t})(),uN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[cN]}),t})(),S2=(()=>{class t{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),dN=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),t})(),hN=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),t})(),fN=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),t})(),pN=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),t})(),gN=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),t})(),mN=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),t})(),_N=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),t})(),vN=(()=>{class t{constructor(e){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new l.vpe(!0),this.disabled=e.disabled,this.boundaryLinks=e.boundaryLinks,this.directionLinks=e.directionLinks,this.ellipses=e.ellipses,this.maxSize=e.maxSize,this.pageSize=e.pageSize,this.rotate=e.rotate,this.size=e.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(e){this._updatePages(e)}ngOnChanges(e){this._updatePages(this.page)}isEllipsis(e){return-1===e}_applyEllipses(e,i){this.ellipses&&(e>0&&(e>2?this.pages.unshift(-1):2===e&&this.pages.unshift(2),this.pages.unshift(1)),i<this.pageCount&&(i<this.pageCount-2?this.pages.push(-1):i===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let e=0,i=this.pageCount,s=Math.floor(this.maxSize/2);return this.page<=s?i=this.maxSize:this.pageCount-this.page<s?e=this.pageCount-this.maxSize:(e=this.page-s-1,i=this.page+(this.maxSize%2==0?s-1:s)),[e,i]}_applyPagination(){let i=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[i,i+this.maxSize]}_setPageInRange(e){const i=this.page;this.page=uD(e,this.pageCount,1),this.page!==i&&Ni(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(e){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Ni(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let i=1;i<=this.pageCount;i++)this.pages.push(i);if(this._setPageInRange(e),this.maxSize>0&&this.pageCount>this.maxSize){let i=0,s=this.pageCount;[i,s]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(i,s),this._applyEllipses(i,s)}}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(S2))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-pagination"]],contentQueries:function(e,i,s){if(1&e&&(l.Suo(s,dN,5),l.Suo(s,hN,5),l.Suo(s,fN,5),l.Suo(s,pN,5),l.Suo(s,gN,5),l.Suo(s,mN,5),l.Suo(s,_N,5)),2&e){let c;l.iGM(c=l.CRH())&&(i.tplEllipsis=c.first),l.iGM(c=l.CRH())&&(i.tplFirst=c.first),l.iGM(c=l.CRH())&&(i.tplLast=c.first),l.iGM(c=l.CRH())&&(i.tplNext=c.first),l.iGM(c=l.CRH())&&(i.tplNumber=c.first),l.iGM(c=l.CRH())&&(i.tplPrevious=c.first),l.iGM(c=l.CRH())&&(i.tplPages=c.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[l.TTD,l.jDz],decls:20,vars:12,consts:function(){let n,e,i,s,c,h,m,b;return n=$localize`:@@ngb.pagination.first:««`,e=$localize`:@@ngb.pagination.previous:«`,i=$localize`:@@ngb.pagination.next:»`,s=$localize`:@@ngb.pagination.last:»»`,c=$localize`:@@ngb.pagination.first-aria:First`,h=$localize`:@@ngb.pagination.previous-aria:Previous`,m=$localize`:@@ngb.pagination.next-aria:Next`,b=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],n,e,i,s,["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"],["aria-label",h,"href","",1,"page-link",3,"click"],["aria-label",m,"href","",1,"page-link",3,"click"],["aria-label",b,"href","",1,"page-link",3,"click"]]},template:function(e,i){if(1&e&&(l.YNc(0,nF,2,0,"ng-template",null,0,l.W1O),l.YNc(2,iF,2,0,"ng-template",null,1,l.W1O),l.YNc(4,rF,2,0,"ng-template",null,2,l.W1O),l.YNc(6,oF,2,0,"ng-template",null,3,l.W1O),l.YNc(8,sF,1,0,"ng-template",null,4,l.W1O),l.YNc(10,aF,1,1,"ng-template",null,5,l.W1O),l.YNc(12,gF,1,1,"ng-template",null,6,l.W1O),l.TgZ(14,"ul"),l.YNc(15,_F,3,9,"li",7),l.YNc(16,bF,3,8,"li",7),l.YNc(17,wF,0,0,"ng-template",8),l.YNc(18,EF,3,9,"li",7),l.YNc(19,TF,3,9,"li",7),l.qZA()),2&e){const s=l.MAs(13);l.xp6(14),l.Tol("pagination"+(i.size?" pagination-"+i.size:"")),l.xp6(1),l.Q6J("ngIf",i.boundaryLinks),l.xp6(1),l.Q6J("ngIf",i.directionLinks),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==i.tplPages?null:i.tplPages.templateRef)||s)("ngTemplateOutletContext",l.kEZ(8,IF,i.page,i.pages,i.disabled)),l.xp6(1),l.Q6J("ngIf",i.directionLinks),l.xp6(1),l.Q6J("ngIf",i.boundaryLinks)}},dependencies:[Yn,Si,En],encapsulation:2,changeDetection:0}),t})(),yN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[vN]}),t})(),wN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})(),P2=(()=>{class t{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),k2=(()=>{class t{constructor(e){this.value=0,this.max=e.max,this.animated=e.animated,this.ariaLabel=e.ariaLabel,this.striped=e.striped,this.textType=e.textType,this.type=e.type,this.showValue=e.showValue,this.height=e.height}set max(e){this._max=!Ni(e)||e<=0?100:e}get max(){return this._max}getValue(){return uD(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(P2))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(e,i){2&e&&(l.uIk("aria-valuenow",i.getValue())("aria-valuemax",i.max)("aria-label",i.ariaLabel),l.Udp("height",i.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[l.jDz],ngContentSelectors:cD,decls:3,vars:11,consts:function(){let n;return n=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],n]},template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"div"),l.YNc(1,RF,3,3,"span",0),l.Hsn(2),l.qZA()),2&e&&(l.MT6("progress-bar",i.type?i.textType?" bg-"+i.type:" text-bg-"+i.type:"","",i.textType?" text-"+i.textType:"",""),l.Udp("width",i.getPercentValue(),"%"),l.ekj("progress-bar-animated",i.animated)("progress-bar-striped",i.striped),l.xp6(1),l.Q6J("ngIf",i.showValue))},dependencies:[Yn,Uc],encapsulation:2,changeDetection:0}),t})(),DN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[k2]}),t})(),x2=(()=>{class t{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),F2=(()=>{class t{constructor(e,i){this._changeDetectorRef=i,this.contexts=[],this.disabled=!1,this.hover=new l.vpe,this.leave=new l.vpe,this.rateChange=new l.vpe(!0),this.onChange=s=>{},this.onTouched=()=>{},this.max=e.max,this.readonly=e.readonly,this.tabindex=e.tabindex}ariaValueText(e,i){return`${e} out of ${i}`}isInteractive(){return!this.readonly&&!this.disabled}enter(e){this.isInteractive()&&this._updateState(e),this.hover.emit(e)}handleBlur(){this.onTouched()}handleClick(e){this.isInteractive()&&this.update(this.resettable&&this.rate===e?0:e)}handleKeyDown(e){switch(e.which){case hn.ArrowDown:case hn.ArrowLeft:this.update(this.rate-1);break;case hn.ArrowUp:case hn.ArrowRight:this.update(this.rate+1);break;case hn.Home:this.update(0);break;case hn.End:this.update(this.max);break;default:return}e.preventDefault()}ngOnChanges(e){e.rate&&this.update(this.rate),e.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(e){this.disabled=e}update(e,i=!0){const s=uD(e,this.max,0);this.isInteractive()&&this.rate!==s&&(this.rate=s,this.rateChange.emit(this.rate)),i&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(e){this.update(e,!1),this._changeDetectorRef.markForCheck()}_updateState(e){this.nextRate=e,this.contexts.forEach((i,s)=>i.fill=Math.round(100*uD(e-s,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(e,i)=>({fill:0,index:i}))}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(x2),l.Y36(l.sBO))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-rating"]],contentQueries:function(e,i,s){if(1&e&&l.Suo(s,l.Rgc,5),2&e){let c;l.iGM(c=l.CRH())&&(i.starTemplateFromContent=c.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(e,i){1&e&&l.NdJ("blur",function(){return i.handleBlur()})("keydown",function(c){return i.handleKeyDown(c)})("mouseleave",function(){return i.reset()}),2&e&&(l.Ikx("tabindex",i.disabled?-1:i.tabindex),l.uIk("aria-valuemax",i.max)("aria-valuenow",i.nextRate)("aria-valuetext",i.ariaValueText(i.nextRate,i.max))("aria-disabled",!!i.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex",ariaValueText:"ariaValueText"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[l._Bn([{provide:Yo,useExisting:(0,l.Gpc)(()=>t),multi:!0}]),l.TTD,l.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(l.YNc(0,NF,1,1,"ng-template",null,0,l.W1O),l.YNc(2,OF,4,5,"ng-template",1)),2&e&&(l.xp6(2),l.Q6J("ngForOf",i.contexts))},dependencies:[Si,En],encapsulation:2,changeDetection:0}),t})(),EN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[F2]}),t})();class CN{constructor(n,e,i){this.hour=Wr(n),this.minute=Wr(e),this.second=Wr(i)}changeHour(n=1){this.updateHour((isNaN(this.hour)?0:this.hour)+n)}updateHour(n){this.hour=Ni(n)?(n<0?24+n:n)%24:NaN}changeMinute(n=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+n)}updateMinute(n){Ni(n)?(this.minute=n%60<0?60+n%60:n%60,this.changeHour(Math.floor(n/60))):this.minute=NaN}changeSecond(n=1){this.updateSecond((isNaN(this.second)?0:this.second)+n)}updateSecond(n){Ni(n)?(this.second=n<0?60+n%60:n%60,this.changeMinute(Math.floor(n/60))):this.second=NaN}isValid(n=!0){return Ni(this.hour)&&Ni(this.minute)&&(!n||Ni(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let L2=(()=>{class t{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),TN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(){return function B2(){return new U2}()},providedIn:"root"}),t})(),U2=(()=>{class t extends TN{fromModel(e){return e&&Ti(e.hour)&&Ti(e.minute)?{hour:e.hour,minute:e.minute,second:Ti(e.second)?e.second:null}:null}toModel(e){return e&&Ti(e.hour)&&Ti(e.minute)?{hour:e.hour,minute:e.minute,second:Ti(e.second)?e.second:null}:null}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=l.n5z(t)))(i||t)}}(),t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),IN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(e){let i=null;return i=e?new e:function V2(t){return new H2(t)}(l.LFG(l.soG)),i},providedIn:"root"}),t})(),H2=(()=>{class t extends IN{constructor(e){super(),this._periods=_e(e,_t.Standalone,Ke.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.soG))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const G2=/[^0-9]/g;let j2=(()=>{class t{constructor(e,i,s,c){this._config=e,this._ngbTimeAdapter=i,this._cd=s,this.i18n=c,this.onChange=h=>{},this.onTouched=()=>{},this.meridian=e.meridian,this.spinners=e.spinners,this.seconds=e.seconds,this.hourStep=e.hourStep,this.minuteStep=e.minuteStep,this.secondStep=e.secondStep,this.disabled=e.disabled,this.readonlyInputs=e.readonlyInputs,this.size=e.size}set hourStep(e){this._hourStep=Ti(e)?e:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(e){this._minuteStep=Ti(e)?e:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(e){this._secondStep=Ti(e)?e:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(e){const i=this._ngbTimeAdapter.fromModel(e);this.model=i?new CN(i.hour,i.minute,i.second):new CN,!this.seconds&&(!i||!Ni(i.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}changeHour(e){this.model?.changeHour(e),this.propagateModelChange()}changeMinute(e){this.model?.changeMinute(e),this.propagateModelChange()}changeSecond(e){this.model?.changeSecond(e),this.propagateModelChange()}updateHour(e){const i=!!this.model&&this.model.hour>=12,s=Wr(e);this.model?.updateHour(this.meridian&&(i&&s<12||!i&&12===s)?s+12:s),this.propagateModelChange()}updateMinute(e){this.model?.updateMinute(Wr(e)),this.propagateModelChange()}updateSecond(e){this.model?.updateSecond(Wr(e)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(e){e.value=e.value.replace(G2,"")}formatHour(e){return Ni(e)?Tm(this.meridian?e%12==0?12:e%12:e%24):Tm(NaN)}formatMinSec(e){return Tm(Ni(e)?e:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(e){e.seconds&&!this.seconds&&this.model&&!Ni(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(e=!0){e&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(L2),l.Y36(TN),l.Y36(l.sBO),l.Y36(IN))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[l._Bn([{provide:Yo,useExisting:(0,l.Gpc)(()=>t),multi:!0}]),l.TTD,l.jDz],decls:16,vars:25,consts:function(){let n,e,i,s,c,h,m,b,T,R,O,B,W,ue;return n=$localize`:@@ngb.timepicker.HH:HH`,e=$localize`:@@ngb.timepicker.hours:Hours`,i=$localize`:@@ngb.timepicker.MM:MM`,s=$localize`:@@ngb.timepicker.minutes:Minutes`,c=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,h=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,m=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,b=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,T=$localize`:@@ngb.timepicker.SS:SS`,R=$localize`:@@ngb.timepicker.seconds:Seconds`,O=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,B=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,W=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,ue=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",n,"aria-label",e,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",i,"aria-label",s,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],c,[1,"chevron","ngb-tp-chevron","bottom"],h,m,b,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",T,"aria-label",R,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],O,B,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],W,ue]},template:function(e,i){1&e&&(l.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),l.YNc(3,PF,4,7,"button",3),l.TgZ(4,"input",4),l.NdJ("change",function(c){return i.updateHour(c.target.value)})("blur",function(){return i.handleBlur()})("input",function(c){return i.formatInput(c.target)})("keydown.ArrowUp",function(c){return i.changeHour(i.hourStep),c.preventDefault()})("keydown.ArrowDown",function(c){return i.changeHour(-i.hourStep),c.preventDefault()}),l.qZA(),l.YNc(5,kF,4,7,"button",3),l.qZA(),l.TgZ(6,"div",5),l._uU(7,":"),l.qZA(),l.TgZ(8,"div",6),l.YNc(9,xF,4,7,"button",3),l.TgZ(10,"input",7),l.NdJ("change",function(c){return i.updateMinute(c.target.value)})("blur",function(){return i.handleBlur()})("input",function(c){return i.formatInput(c.target)})("keydown.ArrowUp",function(c){return i.changeMinute(i.minuteStep),c.preventDefault()})("keydown.ArrowDown",function(c){return i.changeMinute(-i.minuteStep),c.preventDefault()}),l.qZA(),l.YNc(11,FF,4,7,"button",3),l.qZA(),l.YNc(12,LF,2,0,"div",8),l.YNc(13,VF,4,9,"div",9),l.YNc(14,HF,1,0,"div",8),l.YNc(15,$F,5,9,"div",10),l.qZA()()),2&e&&(l.ekj("disabled",i.disabled),l.Q6J("disabled",i.disabled),l.xp6(3),l.Q6J("ngIf",i.spinners),l.xp6(1),l.ekj("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),l.Q6J("value",i.formatHour(null==i.model?null:i.model.hour))("readOnly",i.readonlyInputs)("disabled",i.disabled),l.xp6(1),l.Q6J("ngIf",i.spinners),l.xp6(4),l.Q6J("ngIf",i.spinners),l.xp6(1),l.ekj("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),l.Q6J("value",i.formatMinSec(null==i.model?null:i.model.minute))("readOnly",i.readonlyInputs)("disabled",i.disabled),l.xp6(1),l.Q6J("ngIf",i.spinners),l.xp6(1),l.Q6J("ngIf",i.seconds),l.xp6(1),l.Q6J("ngIf",i.seconds),l.xp6(1),l.Q6J("ngIf",i.meridian),l.xp6(1),l.Q6J("ngIf",i.meridian))},dependencies:[Yn],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),t})(),SN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[j2]}),t})();const $2=(t,n)=>{const{classList:e}=t;if(n)return e.add("fade"),Im(t),e.add("show","showing"),()=>{e.remove("showing")};e.add("show")},W2=({classList:t})=>(t.add("showing"),()=>{t.remove("show","showing")});let z2=(()=>{class t{constructor(e){this._ngbConfig=e,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Jf))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Y2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=l.lG2({type:t,selectors:[["","ngbToastHeader",""]],standalone:!0}),t})(),Z2=(()=>{class t{constructor(e,i,s,c){this.ariaLive=e,this._zone=s,this._element=c,this.contentHeaderTpl=null,this.shown=new l.vpe,this.hidden=new l.vpe,null==this.ariaLive&&(this.ariaLive=i.ariaLive),this.delay=i.delay,this.autohide=i.autohide,this.animation=i.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(Ci(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(e){"autohide"in e&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const e=cr(this._zone,this._element.nativeElement,W2,{animation:this.animation,runningTransition:"stop"});return e.subscribe(()=>{this.hidden.emit()}),e}show(){const e=cr(this._zone,this._element.nativeElement,$2,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>{this.shown.emit()}),e}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return t.\u0275fac=function(e){return new(e||t)(l.$8M("aria-live"),l.Y36(z2),l.Y36(l.R0b),l.Y36(l.SBq))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-toast"]],contentQueries:function(e,i,s){if(1&e&&l.Suo(s,Y2,7,l.Rgc),2&e){let c;l.iGM(c=l.CRH())&&(i.contentHeaderTpl=c.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(e,i){2&e&&(l.uIk("aria-live",i.ariaLive),l.ekj("fade",i.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:cD,decls:5,vars:1,consts:function(){let n;return n=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",n,1,"btn-close",3,"click"]]},template:function(e,i){1&e&&(l.F$t(),l.YNc(0,WF,2,1,"ng-template",null,0,l.W1O),l.YNc(2,YF,3,1,"ng-template",1),l.TgZ(3,"div",2),l.Hsn(4),l.qZA()),2&e&&(l.xp6(2),l.Q6J("ngIf",i.contentHeaderTpl||i.header))},dependencies:[Yn,En],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),t})(),AN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[Z2]}),t})(),RN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})(),q2=(()=>{class t{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(e){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const i=vR(this.result),s=Array.isArray(this.term)?this.term:[this.term],c=T=>this.accentSensitive?T:wR(T),h=s.map(T=>function XF(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(c(vR(T)))).filter(T=>T),m=this.accentSensitive?i:wR(i),b=h.length?m.split(new RegExp(`(${h.join("|")})`,"gmi")):[i];if(this.accentSensitive)this.parts=b;else{let T=0;this.parts=b.map(R=>i.substring(T,T+=R.length))}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[l.TTD,l.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(e,i){1&e&&l.YNc(0,KF,3,2,"ng-template",0),2&e&&l.Q6J("ngForOf",i.parts)},dependencies:[Yn,Si],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),t})();new l.OlP("live announcer delay",{providedIn:"root",factory:function K2(){return 100}});let NN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[q2]}),t})(),MN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();const J2=[NR,MR,PR,kR,eN,iN,sN,uN,MN,yN,wN,DN,EN,SN,AN,RN,NN];let Q2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[J2,NR,MR,PR,kR,eN,iN,sN,uN,MN,yN,wN,DN,EN,SN,AN,RN,NN]}),t})();class X2{constructor(n){this.file=n}}let ON=(()=>{class t{constructor(e,i){this.db=e,this.storage=i,this.path="/upload"}pushFileToStorage(e){const i=`${Date.now()}${e.file.name}`,s=this.storage.ref(i),c=this.storage.upload(i,e.file);return c.snapshotChanges().pipe(Bv(()=>{s.getDownloadURL().subscribe(h=>{e.url=h,e.name=i,this.db.list(this.path).push(e)})})).subscribe(),c.percentageChanges()}getAllFiles(){return this.db.list(this.path)}getFiles(e){return this.db.list(this.path,i=>i.limitToLast(e))}deleteDatabase(e){return this.db.list(this.path).remove(e)}deleteStorage(e){return this.storage.ref(e).delete()}deleteFile(e){this.deleteDatabase(e.key).then(()=>{console.log("T\xf6rl\xe9s bel\xfcl"),this.deleteStorage(e.name).subscribe({next:()=>console.log("Sikeres Storage t\xf6rl\xe9s"),error:i=>console.log("Storage hiba:",i)})}).catch(i=>console.log(i))}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(uv),l.LFG(bw))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const eB=function(t){return{width:t}};let tB=(()=>{class t{constructor(e){this.base=e}selectFile(e){this.selectedFiles=e.target.files,console.log(this.selectedFiles)}upload(){const e=this.selectedFiles?.item(0);this.selectedFiles=void 0,e&&(this.currentFile=new X2(e),this.base.pushFileToStorage(this.currentFile).subscribe({next:i=>{console.log(i),this.percentage=i},error:i=>console.log(i)}))}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(ON))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-upload-form"]],decls:7,vars:4,consts:[[1,"my-3"],["type","file","id","formFile",1,"form-control",3,"change"],[1,"mb-3"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"progress","mb-3"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info",3,"ngStyle"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"input",1),l.NdJ("change",function(c){return i.selectFile(c)}),l.qZA()(),l.TgZ(2,"div",2)(3,"button",3),l.NdJ("click",function(){return i.upload()}),l._uU(4,"Upload"),l.qZA()(),l.TgZ(5,"div",4),l._UZ(6,"div",5),l.qZA()),2&e&&(l.xp6(3),l.Q6J("disabled",!i.selectedFiles),l.xp6(3),l.Q6J("ngStyle",l.VKq(2,eB,i.percentage+"%")))},dependencies:[Po]}),t})();function nB(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"div")(1,"a",1),l._uU(2),l.qZA(),l.TgZ(3,"button",2),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.deleteFile(s.file))}),l._uU(4,"Delete"),l.qZA()()}if(2&t){const e=l.oxw();l.xp6(1),l.s9C("href",e.file.url,l.LSH),l.xp6(1),l.Oqu(e.file.name.substring(13))}}let iB=(()=>{class t{constructor(){this.fileDelete=new l.vpe}deleteFile(e){this.fileDelete.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-upload-details"]],inputs:{file:"file"},outputs:{fileDelete:"fileDelete"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"href"],["type","button",1,"btn","btn-primary",2,"float","right",3,"click"]],template:function(e,i){1&e&&l.YNc(0,nB,5,2,"div",0),2&e&&l.Q6J("ngIf",i.file&&i.file.name)},dependencies:[Yn]}),t})();function rB(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"li",5)(1,"app-upload-details",6),l.NdJ("fileDelete",function(s){l.CHM(e);const c=l.oxw();return l.KtG(c.deleteFile(s))}),l.qZA()()}if(2&t){const e=n.$implicit;l.xp6(1),l.Q6J("file",e)}}let oB=(()=>{class t{constructor(e){this.base=e,this.base.getFiles(3).snapshotChanges().pipe((0,vt.U)(i=>i.map(s=>({key:s.payload.key,...s.payload.val()})))).subscribe(i=>{this.files=i,console.log(this.files)})}deleteFile(e){this.base.deleteFile(e)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(ON))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-upload-list"]],decls:6,vars:1,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[3,"file","fileDelete"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),l._uU(3,"List of Files"),l.qZA(),l.TgZ(4,"ul",3),l.YNc(5,rB,2,1,"li",4),l.qZA()()()),2&e&&(l.xp6(5),l.Q6J("ngForOf",i.files))},dependencies:[Si,iB]}),t})(),sB=(()=>{class t{constructor(e){this.ms=e,this.title="FirebaseStorage"}open(e){this.ms.open(e)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(oN))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"app-upload-form")(2,"app-upload-list"),l.qZA())},dependencies:[tB,oB]}),t})();const aB_firebaseConfig={apiKey:"AIzaSyCBn8RsKpVMyhTk8A2f_qG6ukHB10oZ-oM",authDomain:"fileupload-f76c7.firebaseapp.com",databaseURL:"https://fileupload-f76c7-default-rtdb.firebaseio.com",projectId:"fileupload-f76c7",storageBucket:"fileupload-f76c7.appspot.com",messagingSenderId:"958422581141",appId:"1:958422581141:web:b625a0d36ef265d5b9809c",measurementId:"G-ZYBDWHYZ16"};let lB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t,bootstrap:[sB]}),t.\u0275inj=l.cJS({imports:[zs,GO,Q2,ni.hO.initializeApp(aB_firebaseConfig),kb,Rc]}),t})();Qc().bootstrapModule(lB).catch(t=>console.error(t))},9751:(ht,Te,k)=>{k.d(Te,{y:()=>we});var l=k(930),J=k(727),P=k(8822),le=k(9635),re=k(2416),oe=k(576),ve=k(2806);let we=(()=>{class Z{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const Ye=new Z;return Ye.source=this,Ye.operator=Ie,Ye}subscribe(Ie,Ye,at){const fe=function G(Z){return Z&&Z instanceof l.Lv||function $(Z){return Z&&(0,oe.m)(Z.next)&&(0,oe.m)(Z.error)&&(0,oe.m)(Z.complete)}(Z)&&(0,J.Nn)(Z)}(Ie)?Ie:new l.Hp(Ie,Ye,at);return(0,ve.x)(()=>{const{operator:Ne,source:Me}=this;fe.add(Ne?Ne.call(fe,Me):Me?this._subscribe(fe):this._trySubscribe(fe))}),fe}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(Ye){Ie.error(Ye)}}forEach(Ie,Ye){return new(Ye=ge(Ye))((at,fe)=>{const Ne=new l.Hp({next:Me=>{try{Ie(Me)}catch(Ue){fe(Ue),Ne.unsubscribe()}},error:fe,complete:at});this.subscribe(Ne)})}_subscribe(Ie){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(Ie)}[P.L](){return this}pipe(...Ie){return(0,le.U)(Ie)(this)}toPromise(Ie){return new(Ie=ge(Ie))((Ye,at)=>{let fe;this.subscribe(Ne=>fe=Ne,Ne=>at(Ne),()=>Ye(fe))})}}return Z.create=Ge=>new Z(Ge),Z})();function ge(Z){var Ge;return null!==(Ge=Z??re.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(ht,Te,k)=>{k.d(Te,{x:()=>ve});var l=k(9751),J=k(727);const le=(0,k(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=k(8737),oe=k(2806);let ve=(()=>{class ge extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Z=new we(this,this);return Z.operator=G,Z}_throwIfClosed(){if(this.closed)throw new le}next(G){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(G)}})}error(G){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Z}=this;for(;Z.length;)Z.shift().error(G)}})}complete(){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Z,isStopped:Ge,observers:Ie}=this;return Z||Ge?J.Lc:(this.currentObservers=null,Ie.push(G),new J.w0(()=>{this.currentObservers=null,(0,re.P)(Ie,G)}))}_checkFinalizedStatuses(G){const{hasError:Z,thrownError:Ge,isStopped:Ie}=this;Z?G.error(Ge):Ie&&G.complete()}asObservable(){const G=new l.y;return G.source=this,G}}return ge.create=($,G)=>new we($,G),ge})();class we extends ve{constructor($,G){super(),this.destination=$,this.source=G}next($){var G,Z;null===(Z=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Z||Z.call(G,$)}error($){var G,Z;null===(Z=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Z||Z.call(G,$)}complete(){var $,G;null===(G=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===G||G.call($)}_subscribe($){var G,Z;return null!==(Z=null===(G=this.source)||void 0===G?void 0:G.subscribe($))&&void 0!==Z?Z:J.Lc}}},930:(ht,Te,k)=>{k.d(Te,{Hp:()=>at,Lv:()=>Z});var l=k(576),J=k(727),P=k(2416),le=k(7849),re=k(5032);const oe=ge("C",void 0,void 0);function ge(Oe,me,De){return{kind:Oe,value:me,error:De}}var $=k(3410),G=k(2806);class Z extends J.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,J.Nn)(me)&&me.add(this)):this.destination=Ue}static create(me,De,We){return new at(me,De,We)}next(me){this.isStopped?Me(function we(Oe){return ge("N",Oe,void 0)}(me),this):this._next(me)}error(me){this.isStopped?Me(function ve(Oe){return ge("E",void 0,Oe)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?Me(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Ie(Oe,me){return Ge.call(Oe,me)}class Ye{constructor(me){this.partialObserver=me}next(me){const{partialObserver:De}=this;if(De.next)try{De.next(me)}catch(We){fe(We)}}error(me){const{partialObserver:De}=this;if(De.error)try{De.error(me)}catch(We){fe(We)}else fe(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(De){fe(De)}}}class at extends Z{constructor(me,De,We){let Pe;if(super(),(0,l.m)(me)||!me)Pe={next:me??void 0,error:De??void 0,complete:We??void 0};else{let nt;this&&P.v.useDeprecatedNextContext?(nt=Object.create(me),nt.unsubscribe=()=>this.unsubscribe(),Pe={next:me.next&&Ie(me.next,nt),error:me.error&&Ie(me.error,nt),complete:me.complete&&Ie(me.complete,nt)}):Pe=me}this.destination=new Ye(Pe)}}function fe(Oe){P.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Oe):(0,le.h)(Oe)}function Me(Oe,me){const{onStoppedNotification:De}=P.v;De&&$.z.setTimeout(()=>De(Oe,me))}const Ue={closed:!0,next:re.Z,error:function Ne(Oe){throw Oe},complete:re.Z}},727:(ht,Te,k)=>{k.d(Te,{Lc:()=>oe,w0:()=>re,Nn:()=>ve});var l=k(576);const P=(0,k(3888).d)(ge=>function(G){ge(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Z,Ge)=>`${Ge+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var le=k(8737);class re{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Ie of G)Ie.remove(this);else G.remove(this);const{initialTeardown:Z}=this;if((0,l.m)(Z))try{Z()}catch(Ie){$=Ie instanceof P?Ie.errors:[Ie]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Ie of Ge)try{we(Ie)}catch(Ye){$=$??[],Ye instanceof P?$=[...$,...Ye.errors]:$.push(Ye)}}if($)throw new P($)}}add($){var G;if($&&$!==this)if(this.closed)we($);else{if($ instanceof re){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push($)}}_hasParent($){const{_parentage:G}=this;return G===$||Array.isArray(G)&&G.includes($)}_addParent($){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push($),G):G?[G,$]:$}_removeParent($){const{_parentage:G}=this;G===$?this._parentage=null:Array.isArray(G)&&(0,le.P)(G,$)}remove($){const{_finalizers:G}=this;G&&(0,le.P)(G,$),$ instanceof re&&$._removeParent(this)}}re.EMPTY=(()=>{const ge=new re;return ge.closed=!0,ge})();const oe=re.EMPTY;function ve(ge){return ge instanceof re||ge&&"closed"in ge&&(0,l.m)(ge.remove)&&(0,l.m)(ge.add)&&(0,l.m)(ge.unsubscribe)}function we(ge){(0,l.m)(ge)?ge():ge.unsubscribe()}},2416:(ht,Te,k)=>{k.d(Te,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,Te,k)=>{k.d(Te,{E:()=>J});const J=new(k(9751).y)(re=>re.complete())},8996:(ht,Te,k)=>{k.d(Te,{D:()=>me});var l=k(8421),J=k(5363),P=k(9468),oe=k(9751),we=k(2202),ge=k(576),$=k(9672);function Z(De,We){if(!De)throw new Error("Iterable cannot be null");return new oe.y(Pe=>{(0,$.f)(Pe,We,()=>{const nt=De[Symbol.asyncIterator]();(0,$.f)(Pe,We,()=>{nt.next().then(se=>{se.done?Pe.complete():Pe.next(se.value)})},0,!0)})})}var Ge=k(3670),Ie=k(8239),Ye=k(1144),at=k(6495),fe=k(2206),Ne=k(4532),Me=k(3260);function me(De,We){return We?function Oe(De,We){if(null!=De){if((0,Ge.c)(De))return function le(De,We){return(0,l.Xf)(De).pipe((0,P.R)(We),(0,J.Q)(We))}(De,We);if((0,Ye.z)(De))return function ve(De,We){return new oe.y(Pe=>{let nt=0;return We.schedule(function(){nt===De.length?Pe.complete():(Pe.next(De[nt++]),Pe.closed||this.schedule())})})}(De,We);if((0,Ie.t)(De))return function re(De,We){return(0,l.Xf)(De).pipe((0,P.R)(We),(0,J.Q)(We))}(De,We);if((0,fe.D)(De))return Z(De,We);if((0,at.T)(De))return function G(De,We){return new oe.y(Pe=>{let nt;return(0,$.f)(Pe,We,()=>{nt=De[we.h](),(0,$.f)(Pe,We,()=>{let se,_t;try{({value:se,done:_t}=nt.next())}catch(Ke){return void Pe.error(Ke)}_t?Pe.complete():Pe.next(se)},0,!0)}),()=>(0,ge.m)(nt?.return)&&nt.return()})}(De,We);if((0,Me.L)(De))return function Ue(De,We){return Z((0,Me.Q)(De),We)}(De,We)}throw(0,Ne.z)(De)}(De,We):(0,l.Xf)(De)}},8421:(ht,Te,k)=>{k.d(Te,{Xf:()=>Ge});var l=k(7582),J=k(1144),P=k(8239),le=k(9751),re=k(3670),oe=k(2206),ve=k(4532),we=k(6495),ge=k(3260),$=k(576),G=k(7849),Z=k(8822);function Ge(Oe){if(Oe instanceof le.y)return Oe;if(null!=Oe){if((0,re.c)(Oe))return function Ie(Oe){return new le.y(me=>{const De=Oe[Z.L]();if((0,$.m)(De.subscribe))return De.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,J.z)(Oe))return function Ye(Oe){return new le.y(me=>{for(let De=0;De<Oe.length&&!me.closed;De++)me.next(Oe[De]);me.complete()})}(Oe);if((0,P.t)(Oe))return function at(Oe){return new le.y(me=>{Oe.then(De=>{me.closed||(me.next(De),me.complete())},De=>me.error(De)).then(null,G.h)})}(Oe);if((0,oe.D)(Oe))return Ne(Oe);if((0,we.T)(Oe))return function fe(Oe){return new le.y(me=>{for(const De of Oe)if(me.next(De),me.closed)return;me.complete()})}(Oe);if((0,ge.L)(Oe))return function Me(Oe){return Ne((0,ge.Q)(Oe))}(Oe)}throw(0,ve.z)(Oe)}function Ne(Oe){return new le.y(me=>{(function Ue(Oe,me){var De,We,Pe,nt;return(0,l.mG)(this,void 0,void 0,function*(){try{for(De=(0,l.KL)(Oe);!(We=yield De.next()).done;)if(me.next(We.value),me.closed)return}catch(se){Pe={error:se}}finally{try{We&&!We.done&&(nt=De.return)&&(yield nt.call(De))}finally{if(Pe)throw Pe.error}}me.complete()})})(Oe,me).catch(De=>me.error(De))})}},6451:(ht,Te,k)=>{k.d(Te,{T:()=>oe});var l=k(8189),J=k(8421),P=k(515),le=k(3269),re=k(8996);function oe(...ve){const we=(0,le.yG)(ve),ge=(0,le._6)(ve,1/0),$=ve;return $.length?1===$.length?(0,J.Xf)($[0]):(0,l.J)(ge)((0,re.D)($,we)):P.E}},5403:(ht,Te,k)=>{k.d(Te,{x:()=>J});var l=k(930);function J(le,re,oe,ve,we){return new P(le,re,oe,ve,we)}class P extends l.Lv{constructor(re,oe,ve,we,ge,$){super(re),this.onFinalize=ge,this.shouldUnsubscribe=$,this._next=oe?function(G){try{oe(G)}catch(Z){re.error(Z)}}:super._next,this._error=we?function(G){try{we(G)}catch(Z){re.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(G){re.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(ht,Te,k)=>{k.d(Te,{U:()=>P});var l=k(4482),J=k(5403);function P(le,re){return(0,l.e)((oe,ve)=>{let we=0;oe.subscribe((0,J.x)(ve,ge=>{ve.next(le.call(re,ge,we++))}))})}},8189:(ht,Te,k)=>{k.d(Te,{J:()=>P});var l=k(5577),J=k(4671);function P(le=1/0){return(0,l.z)(J.y,le)}},5577:(ht,Te,k)=>{k.d(Te,{z:()=>we});var l=k(4004),J=k(8421),P=k(4482),le=k(9672),re=k(5403),ve=k(576);function we(ge,$,G=1/0){return(0,ve.m)($)?we((Z,Ge)=>(0,l.U)((Ie,Ye)=>$(Z,Ie,Ge,Ye))((0,J.Xf)(ge(Z,Ge))),G):("number"==typeof $&&(G=$),(0,P.e)((Z,Ge)=>function oe(ge,$,G,Z,Ge,Ie,Ye,at){const fe=[];let Ne=0,Me=0,Ue=!1;const Oe=()=>{Ue&&!fe.length&&!Ne&&$.complete()},me=We=>Ne<Z?De(We):fe.push(We),De=We=>{Ie&&$.next(We),Ne++;let Pe=!1;(0,J.Xf)(G(We,Me++)).subscribe((0,re.x)($,nt=>{Ge?.(nt),Ie?me(nt):$.next(nt)},()=>{Pe=!0},void 0,()=>{if(Pe)try{for(Ne--;fe.length&&Ne<Z;){const nt=fe.shift();Ye?(0,le.f)($,Ye,()=>De(nt)):De(nt)}Oe()}catch(nt){$.error(nt)}}))};return ge.subscribe((0,re.x)($,me,()=>{Ue=!0,Oe()})),()=>{at?.()}}(Z,Ge,ge,G)))}},5363:(ht,Te,k)=>{k.d(Te,{Q:()=>le});var l=k(9672),J=k(4482),P=k(5403);function le(re,oe=0){return(0,J.e)((ve,we)=>{ve.subscribe((0,P.x)(we,ge=>(0,l.f)(we,re,()=>we.next(ge),oe),()=>(0,l.f)(we,re,()=>we.complete(),oe),ge=>(0,l.f)(we,re,()=>we.error(ge),oe)))})}},3099:(ht,Te,k)=>{k.d(Te,{B:()=>re});var l=k(8421),J=k(7579),P=k(930),le=k(4482);function re(ve={}){const{connector:we=(()=>new J.x),resetOnError:ge=!0,resetOnComplete:$=!0,resetOnRefCountZero:G=!0}=ve;return Z=>{let Ge,Ie,Ye,at=0,fe=!1,Ne=!1;const Me=()=>{Ie?.unsubscribe(),Ie=void 0},Ue=()=>{Me(),Ge=Ye=void 0,fe=Ne=!1},Oe=()=>{const me=Ge;Ue(),me?.unsubscribe()};return(0,le.e)((me,De)=>{at++,!Ne&&!fe&&Me();const We=Ye=Ye??we();De.add(()=>{at--,0===at&&!Ne&&!fe&&(Ie=oe(Oe,G))}),We.subscribe(De),!Ge&&at>0&&(Ge=new P.Hp({next:Pe=>We.next(Pe),error:Pe=>{Ne=!0,Me(),Ie=oe(Ue,ge,Pe),We.error(Pe)},complete:()=>{fe=!0,Me(),Ie=oe(Ue,$),We.complete()}}),(0,l.Xf)(me).subscribe(Ge))})(Z)}}function oe(ve,we,...ge){if(!0===we)return void ve();if(!1===we)return;const $=new P.Hp({next:()=>{$.unsubscribe(),ve()}});return(0,l.Xf)(we(...ge)).subscribe($)}},9468:(ht,Te,k)=>{k.d(Te,{R:()=>J});var l=k(4482);function J(P,le=0){return(0,l.e)((re,oe)=>{oe.add(P.schedule(()=>re.subscribe(oe),le))})}},8505:(ht,Te,k)=>{k.d(Te,{b:()=>re});var l=k(576),J=k(4482),P=k(5403),le=k(4671);function re(oe,ve,we){const ge=(0,l.m)(oe)||ve||we?{next:oe,error:ve,complete:we}:oe;return ge?(0,J.e)(($,G)=>{var Z;null===(Z=ge.subscribe)||void 0===Z||Z.call(ge);let Ge=!0;$.subscribe((0,P.x)(G,Ie=>{var Ye;null===(Ye=ge.next)||void 0===Ye||Ye.call(ge,Ie),G.next(Ie)},()=>{var Ie;Ge=!1,null===(Ie=ge.complete)||void 0===Ie||Ie.call(ge),G.complete()},Ie=>{var Ye;Ge=!1,null===(Ye=ge.error)||void 0===Ye||Ye.call(ge,Ie),G.error(Ie)},()=>{var Ie,Ye;Ge&&(null===(Ie=ge.unsubscribe)||void 0===Ie||Ie.call(ge)),null===(Ye=ge.finalize)||void 0===Ye||Ye.call(ge)}))}):le.y}},4408:(ht,Te,k)=>{k.d(Te,{o:()=>re});var l=k(727);class J extends l.w0{constructor(ve,we){super()}schedule(ve,we=0){return this}}const P={setInterval(oe,ve,...we){const{delegate:ge}=P;return ge?.setInterval?ge.setInterval(oe,ve,...we):setInterval(oe,ve,...we)},clearInterval(oe){const{delegate:ve}=P;return(ve?.clearInterval||clearInterval)(oe)},delegate:void 0};var le=k(8737);class re extends J{constructor(ve,we){super(ve,we),this.scheduler=ve,this.work=we,this.pending=!1}schedule(ve,we=0){var ge;if(this.closed)return this;this.state=ve;const $=this.id,G=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(G,$,we)),this.pending=!0,this.delay=we,this.id=null!==(ge=this.id)&&void 0!==ge?ge:this.requestAsyncId(G,this.id,we),this}requestAsyncId(ve,we,ge=0){return P.setInterval(ve.flush.bind(ve,this),ge)}recycleAsyncId(ve,we,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return we;null!=we&&P.clearInterval(we)}execute(ve,we){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ve,we);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,we){let $,ge=!1;try{this.work(ve)}catch(G){ge=!0,$=G||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ve,scheduler:we}=this,{actions:ge}=we;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ge,this),null!=ve&&(this.id=this.recycleAsyncId(we,ve,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,Te,k)=>{k.d(Te,{v:()=>P});var l=k(6063);class J{constructor(re,oe=J.now){this.schedulerActionCtor=re,this.now=oe}schedule(re,oe=0,ve){return new this.schedulerActionCtor(this,re).schedule(ve,oe)}}J.now=l.l.now;class P extends J{constructor(re,oe=J.now){super(re,oe),this.actions=[],this._active=!1}flush(re){const{actions:oe}=this;if(this._active)return void oe.push(re);let ve;this._active=!0;do{if(ve=re.execute(re.state,re.delay))break}while(re=oe.shift());if(this._active=!1,ve){for(;re=oe.shift();)re.unsubscribe();throw ve}}}},4986:(ht,Te,k)=>{k.d(Te,{P:()=>le,z:()=>P});var l=k(4408);const P=new(k(7565).v)(l.o),le=P},6063:(ht,Te,k)=>{k.d(Te,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(ht,Te,k)=>{k.d(Te,{z:()=>l});const l={setTimeout(J,P,...le){const{delegate:re}=l;return re?.setTimeout?re.setTimeout(J,P,...le):setTimeout(J,P,...le)},clearTimeout(J){const{delegate:P}=l;return(P?.clearTimeout||clearTimeout)(J)},delegate:void 0}},2202:(ht,Te,k)=>{k.d(Te,{h:()=>J});const J=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,Te,k)=>{k.d(Te,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ht,Te,k)=>{k.d(Te,{_6:()=>oe,jO:()=>le,yG:()=>re});var l=k(576),J=k(3532);function P(ve){return ve[ve.length-1]}function le(ve){return(0,l.m)(P(ve))?ve.pop():void 0}function re(ve){return(0,J.K)(P(ve))?ve.pop():void 0}function oe(ve,we){return"number"==typeof P(ve)?ve.pop():we}},8737:(ht,Te,k)=>{function l(J,P){if(J){const le=J.indexOf(P);0<=le&&J.splice(le,1)}}k.d(Te,{P:()=>l})},3888:(ht,Te,k)=>{function l(J){const le=J(re=>{Error.call(re),re.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}k.d(Te,{d:()=>l})},2806:(ht,Te,k)=>{k.d(Te,{O:()=>le,x:()=>P});var l=k(2416);let J=null;function P(re){if(l.v.useDeprecatedSynchronousErrorHandling){const oe=!J;if(oe&&(J={errorThrown:!1,error:null}),re(),oe){const{errorThrown:ve,error:we}=J;if(J=null,ve)throw we}}else re()}function le(re){l.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=re)}},9672:(ht,Te,k)=>{function l(J,P,le,re=0,oe=!1){const ve=P.schedule(function(){le(),oe?J.add(this.schedule(null,re)):this.unsubscribe()},re);if(J.add(ve),!oe)return ve}k.d(Te,{f:()=>l})},4671:(ht,Te,k)=>{function l(J){return J}k.d(Te,{y:()=>l})},1144:(ht,Te,k)=>{k.d(Te,{z:()=>l});const l=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(ht,Te,k)=>{k.d(Te,{D:()=>J});var l=k(576);function J(P){return Symbol.asyncIterator&&(0,l.m)(P?.[Symbol.asyncIterator])}},576:(ht,Te,k)=>{function l(J){return"function"==typeof J}k.d(Te,{m:()=>l})},3670:(ht,Te,k)=>{k.d(Te,{c:()=>P});var l=k(8822),J=k(576);function P(le){return(0,J.m)(le[l.L])}},6495:(ht,Te,k)=>{k.d(Te,{T:()=>P});var l=k(2202),J=k(576);function P(le){return(0,J.m)(le?.[l.h])}},8239:(ht,Te,k)=>{k.d(Te,{t:()=>J});var l=k(576);function J(P){return(0,l.m)(P?.then)}},3260:(ht,Te,k)=>{k.d(Te,{L:()=>le,Q:()=>P});var l=k(7582),J=k(576);function P(re){return(0,l.FC)(this,arguments,function*(){const ve=re.getReader();try{for(;;){const{value:we,done:ge}=yield(0,l.qq)(ve.read());if(ge)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(we)}}finally{ve.releaseLock()}})}function le(re){return(0,J.m)(re?.getReader)}},3532:(ht,Te,k)=>{k.d(Te,{K:()=>J});var l=k(576);function J(P){return P&&(0,l.m)(P.schedule)}},4482:(ht,Te,k)=>{k.d(Te,{A:()=>J,e:()=>P});var l=k(576);function J(le){return(0,l.m)(le?.lift)}function P(le){return re=>{if(J(re))return re.lift(function(oe){try{return le(oe,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ht,Te,k)=>{function l(){}k.d(Te,{Z:()=>l})},9635:(ht,Te,k)=>{k.d(Te,{U:()=>P,z:()=>J});var l=k(4671);function J(...le){return P(le)}function P(le){return 0===le.length?l.y:1===le.length?le[0]:function(oe){return le.reduce((ve,we)=>we(ve),oe)}}},7849:(ht,Te,k)=>{k.d(Te,{h:()=>P});var l=k(2416),J=k(3410);function P(le){J.z.setTimeout(()=>{const{onUnhandledError:re}=l.v;if(!re)throw le;re(le)})}},4532:(ht,Te,k)=>{function l(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Te,{z:()=>l})},4650:(ht,Te,k)=>{k.d(Te,{$8M:()=>Ws,$WT:()=>_i,$Z:()=>Ky,AFp:()=>hw,ALo:()=>sr,AaK:()=>we,BQk:()=>Tf,CHM:()=>Ea,CRH:()=>bv,CZH:()=>Uf,CqO:()=>D0,D6c:()=>MT,EJc:()=>lT,EpF:()=>w0,F$t:()=>A0,F4k:()=>L_,FYo:()=>t_,FiY:()=>Ua,Gf:()=>qb,GfV:()=>My,Gpc:()=>G,Hsn:()=>R0,Ikx:()=>Yd,JOm:()=>Bi,KtG:()=>Ca,LFG:()=>ln,LMc:()=>PT,LSH:()=>fu,Lbi:()=>$S,Lck:()=>bC,MAs:()=>wf,MGl:()=>mg,MMx:()=>lv,MT6:()=>jE,NdJ:()=>B_,OlP:()=>Jt,Oqu:()=>zd,P3R:()=>hc,PXZ:()=>vT,Q6J:()=>Ru,QGY:()=>F_,Qsj:()=>Bp,QtT:()=>Sb,R0b:()=>No,RDi:()=>ef,Rgc:()=>ih,SBq:()=>gc,SDv:()=>iv,Sil:()=>cT,Suo:()=>Kb,TTD:()=>Vc,TgZ:()=>Ef,Tol:()=>G0,Udp:()=>ia,VKq:()=>Ub,W1O:()=>Jb,WLB:()=>fv,X6Q:()=>ar,XFs:()=>X,Xpm:()=>Pr,Xts:()=>pu,Y36:()=>vc,YKP:()=>av,YNc:()=>_0,Yjl:()=>Ht,Yz7:()=>gt,Z0I:()=>fi,ZZ4:()=>hh,_Bn:()=>sv,_UZ:()=>gg,_Vd:()=>nl,_c5:()=>kw,_uU:()=>j_,aQg:()=>fh,c2e:()=>sT,cJS:()=>Yt,cg1:()=>Ou,dDg:()=>mT,dqk:()=>Et,eFA:()=>Cw,eJc:()=>Dv,ekj:()=>Gi,eoX:()=>yw,f3M:()=>Hn,g9A:()=>Mv,h0i:()=>ku,hGG:()=>NT,hij:()=>Dg,iGM:()=>Yg,ifc:()=>ye,ip1:()=>dw,jDz:()=>Ob,kEZ:()=>pv,kL8:()=>Nf,lG2:()=>wt,lcZ:()=>Hb,lqb:()=>mu,lri:()=>_w,n5z:()=>Zl,oAB:()=>ie,oxw:()=>S0,pQV:()=>Ib,q4F:()=>xn,qLn:()=>yu,qOj:()=>R_,qZA:()=>Cf,rWj:()=>vw,s9C:()=>U_,sBO:()=>Aw,s_b:()=>$g,soG:()=>Xg,tb:()=>Dw,tp0:()=>vo,uIk:()=>P_,vHH:()=>fe,vpe:()=>Ji,wAp:()=>Tt,xp6:()=>$p,ynx:()=>to,z2F:()=>Vf,zSh:()=>Jm,zW0:()=>ll,zs3:()=>wu});var l=k(7579),J=k(727),P=k(9751),le=k(6451),re=k(3099);function oe(r){for(let o in r)if(r[o]===oe)return o;throw Error("Could not find renamed property on target object.")}function ve(r,o){for(const a in o)o.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=o[a])}function we(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(we).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const o=r.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ge(r,o){return null==r||""===r?null===o?"":o:null==o||""===o?r:r+" "+o}const $=oe({__forward_ref__:oe});function G(r){return r.__forward_ref__=G,r.toString=function(){return we(this())},r}function Z(r){return Ge(r)?r():r}function Ge(r){return"function"==typeof r&&r.hasOwnProperty($)&&r.__forward_ref__===G}function Ie(r){return r&&!!r.\u0275providers}const at="https://g.co/ng/security#xss";class fe extends Error{constructor(o,a){super(Ne(o,a)),this.code=o}}function Ne(r,o){return`NG0${Math.abs(r)}${o?": "+o.trim():""}`}function Me(r){return"string"==typeof r?r:null==r?"":String(r)}function We(r,o){throw new fe(-201,!1)}function Je(r,o,a,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}function gt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Yt(r){return{providers:r.providers||[],imports:r.imports||[]}}function vn(r){return pi(r,Oi)||pi(r,K)}function fi(r){return null!==vn(r)}function pi(r,o){return r.hasOwnProperty(o)?r[o]:null}function gi(r){return r&&(r.hasOwnProperty(ne)||r.hasOwnProperty(ce))?r[ne]:null}const Oi=oe({\u0275prov:oe}),ne=oe({\u0275inj:oe}),K=oe({ngInjectableDef:oe}),ce=oe({ngInjectorDef:oe});var X=(()=>((X=X||{})[X.Default=0]="Default",X[X.Host=1]="Host",X[X.Self=2]="Self",X[X.SkipSelf=4]="SkipSelf",X[X.Optional=8]="Optional",X))();let Ve;function Xt(r){const o=Ve;return Ve=r,o}function Lt(r,o,a){const u=vn(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&X.Optional?null:void 0!==o?o:void We(we(r))}const Et=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),mi={},Dn="__NG_DI_FLAG__",Rn="ngTempTokenPath",en="ngTokenPath",fn=/\n/gm,Ii="\u0275",cn="__source";let Nr;function qt(r){const o=Nr;return Nr=r,o}function zr(r,o=X.Default){if(void 0===Nr)throw new fe(-203,!1);return null===Nr?Lt(r,void 0,o):Nr.get(r,o&X.Optional?null:void 0,o)}function ln(r,o=X.Default){return(function it(){return Ve}()||zr)(Z(r),o)}function Hn(r,o=X.Default){return ln(r,Jn(o))}function Jn(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Mr(r){const o=[];for(let a=0;a<r.length;a++){const u=Z(r[a]);if(Array.isArray(u)){if(0===u.length)throw new fe(900,!1);let d,g=X.Default;for(let v=0;v<u.length;v++){const D=u[v],C=Or(D);"number"==typeof C?-1===C?d=D.token:g|=C:d=D}o.push(ln(d,g))}else o.push(ln(u))}return o}function Tn(r,o){return r[Dn]=o,r.prototype[Dn]=o,r}function Or(r){return r[Dn]}function U(r){return{toString:r}.toString()}var Y=(()=>((Y=Y||{})[Y.OnPush=0]="OnPush",Y[Y.Default=1]="Default",Y))(),ye=(()=>{return(r=ye||(ye={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",ye;var r})();const ee={},Le=[],Ct=oe({\u0275cmp:oe}),tn=oe({\u0275dir:oe}),zn=oe({\u0275pipe:oe}),Nn=oe({\u0275mod:oe}),dn=oe({\u0275fac:oe}),Zt=oe({__NG_ELEMENT_ID__:oe});let Pi=0;function Pr(r){return U(()=>{const o=bl(r),a={...o,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Y.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&r.dependencies||null,getStandaloneInjector:null,data:r.data||{},encapsulation:r.encapsulation||ye.Emulated,id:"c"+Pi++,styles:r.styles||Le,_:null,schemas:r.schemas||null,tView:null};Dh(a);const u=r.dependencies;return a.directiveDefs=Os(u,!1),a.pipeDefs=Os(u,!0),a})}function pa(r){return mt(r)||on(r)}function he(r){return null!==r}function ie(r){return U(()=>({type:r.type,bootstrap:r.bootstrap||Le,declarations:r.declarations||Le,imports:r.imports||Le,exports:r.exports||Le,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function pt(r,o){if(null==r)return ee;const a={};for(const u in r)if(r.hasOwnProperty(u)){let d=r[u],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=u,o&&(o[d]=g)}return a}function wt(r){return U(()=>{const o=bl(r);return Dh(o),o})}function Ht(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function mt(r){return r[Ct]||null}function on(r){return r[tn]||null}function nn(r){return r[zn]||null}function _i(r){const o=mt(r)||on(r)||nn(r);return null!==o&&o.standalone}function Qn(r,o){const a=r[Nn]||null;if(!a&&!0===o)throw new Error(`Type ${we(r)} does not have '\u0275mod' property.`);return a}function bl(r){const o={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,exportAs:r.exportAs||null,standalone:!0===r.standalone,selectors:r.selectors||Le,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pt(r.inputs,o),outputs:pt(r.outputs)}}function Dh(r){r.features?.forEach(o=>o(r))}function Os(r,o){if(!r)return null;const a=o?nn:pa;return()=>("function"==typeof r?r():r).map(u=>a(u)).filter(he)}const fr=0,Qe=1,Mt=2,In=3,pr=4,pn=5,Xn=6,Si=7,Gn=8,ga=9,Yn=10,Bt=11,ma=12,Zo=13,ao=14,qo=15,Zn=16,Ps=17,lo=18,kr=19,Po=20,En=21,yn=22,_a=1,Fc=2,ks=7,ko=8,Ko=9,vi=10;function Xi(r){return Array.isArray(r)&&"object"==typeof r[_a]}function er(r){return Array.isArray(r)&&!0===r[_a]}function va(r){return 0!=(4&r.flags)}function xs(r){return r.componentOffset>-1}function Lc(r){return 1==(1&r.flags)}function gr(r){return!!r.template}function Dl(r){return 0!=(256&r[Mt])}function Zr(r,o){return r.hasOwnProperty(dn)?r[dn]:null}class Jo{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function Vc(){return ya}function ya(r){return r.type.prototype.ngOnChanges&&(r.setInput=Hc),Wu}function Wu(){const r=Th(this),o=r?.current;if(o){const a=r.previous;if(a===ee)r.previous=o;else for(let u in o)a[u]=o[u];r.current=null,this.ngOnChanges(o)}}function Hc(r,o,a,u){const d=this.declaredInputs[a],g=Th(r)||function Tl(r,o){return r[Fo]=o}(r,{previous:ee,current:null}),v=g.current||(g.current={}),D=g.previous,C=D[d];v[d]=new Jo(C&&C.currentValue,o,D===ee),r[u]=o}Vc.ngInherit=!0;const Fo="__ngSimpleChanges__";function Th(r){return r[Fo]||null}const zi=function(r,o,a){};function yi(r){for(;Array.isArray(r);)r=r[fr];return r}function uo(r,o){return yi(o[r])}function bi(r,o){return yi(o[r.index])}function Yu(r,o){return r.data[o]}function xi(r,o){return r[o]}function ri(r,o){const a=o[r];return Xi(a)?a:a[fr]}function ho(r){return 64==(64&r[Mt])}function Bo(r,o){return null==o?null:r[o]}function Bs(r){r[lo]=0}function wa(r,o){r[pn]+=o;let a=r,u=r[In];for(;null!==u&&(1===o&&1===a[pn]||-1===o&&0===a[pn]);)u[pn]+=o,a=u,u=u[In]}const Rt={lFrame:$c(null),bindingsEnabled:!0};function Rl(){return Rt.bindingsEnabled}function pe(){return Rt.lFrame.lView}function Ot(){return Rt.lFrame.tView}function Ea(r){return Rt.lFrame.contextLView=r,r[Gn]}function Ca(r){return Rt.lFrame.contextLView=null,r}function oi(){let r=Qo();for(;null!==r&&64===r.type;)r=r.parent;return r}function Qo(){return Rt.lFrame.currentTNode}function Nl(){const r=Rt.lFrame,o=r.currentTNode;return r.isParent?o:o.parent}function Yi(r,o){const a=Rt.lFrame;a.currentTNode=r,a.isParent=o}function Qu(){return Rt.lFrame.isParent}function Ml(){Rt.lFrame.isParent=!1}function ei(){const r=Rt.lFrame;let o=r.bindingRootIndex;return-1===o&&(o=r.bindingRootIndex=r.tView.bindingStartIndex),o}function _r(){return Rt.lFrame.bindingIndex}function Xo(){return Rt.lFrame.bindingIndex++}function vr(r){const o=Rt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+r,a}function Ia(r){Rt.lFrame.inI18n=r}function Ol(r,o){const a=Rt.lFrame;a.bindingIndex=a.bindingRootIndex=r,ti(o)}function ti(r){Rt.lFrame.currentDirectiveIndex=r}function jc(){return Rt.lFrame.currentQueryIndex}function Pl(r){Rt.lFrame.currentQueryIndex=r}function ed(r){const o=r[Qe];return 2===o.type?o.declTNode:1===o.type?r[Xn]:null}function kl(r,o,a){if(a&X.SkipSelf){let d=o,g=r;for(;!(d=d.parent,null!==d||a&X.Host||(d=ed(g),null===d||(g=g[qo],10&d.type))););if(null===d)return!1;o=d,r=g}const u=Rt.lFrame=Sa();return u.currentTNode=o,u.lView=r,!0}function xl(r){const o=Sa(),a=r[Qe];Rt.lFrame=o,o.currentTNode=a.firstChild,o.lView=r,o.tView=a,o.contextLView=r,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Sa(){const r=Rt.lFrame,o=null===r?null:r.child;return null===o?$c(r):o}function $c(r){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=o),o}function Aa(){const r=Rt.lFrame;return Rt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const td=Aa;function Fl(){const r=Aa();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Ai(){return Rt.lFrame.selectedIndex}function po(r){Rt.lFrame.selectedIndex=r}function Mn(){const r=Rt.lFrame;return Yu(r.tView,r.selectedIndex)}function Ul(r,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const g=r.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:C,ngAfterViewChecked:A,ngOnDestroy:M}=g;v&&(r.contentHooks??(r.contentHooks=[])).push(-a,v),D&&((r.contentHooks??(r.contentHooks=[])).push(a,D),(r.contentCheckHooks??(r.contentCheckHooks=[])).push(a,D)),C&&(r.viewHooks??(r.viewHooks=[])).push(-a,C),A&&((r.viewHooks??(r.viewHooks=[])).push(a,A),(r.viewCheckHooks??(r.viewCheckHooks=[])).push(a,A)),null!=M&&(r.destroyHooks??(r.destroyHooks=[])).push(a,M)}}function Wc(r,o,a){Yc(r,o,3,a)}function zc(r,o,a,u){(3&r[Mt])===a&&Yc(r,o,a,u)}function id(r,o){let a=r[Mt];(3&a)===o&&(a&=2047,a+=1,r[Mt]=a)}function Yc(r,o,a,u){const g=u??-1,v=o.length-1;let D=0;for(let C=void 0!==u?65535&r[lo]:0;C<v;C++)if("number"==typeof o[C+1]){if(D=o[C],null!=u&&D>=u)break}else o[C]<0&&(r[lo]+=65536),(D<g||-1==g)&&(Vs(r,a,o,C),r[lo]=(4294901760&r[lo])+C+2),C++}function Vs(r,o,a,u){const d=a[u]<0,g=a[u+1],D=r[d?-a[u]:a[u]];if(d){if(r[Mt]>>11<r[lo]>>16&&(3&r[Mt])===o){r[Mt]+=2048,zi(4,D,g);try{g.call(D)}finally{zi(5,D,g)}}}else{zi(4,D,g);try{g.call(D)}finally{zi(5,D,g)}}}const Hs=-1;class go{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Gs(r,o,a){let u=0;for(;u<a.length;){const d=a[u];if("number"==typeof d){if(0!==d)break;u++;const g=a[u++],v=a[u++],D=a[u++];r.setAttribute(o,v,D,g)}else{const g=d,v=a[++u];is(g)?r.setProperty(o,g,v):r.setAttribute(o,g,v),u++}}return u}function Zc(r){return 3===r||4===r||6===r}function is(r){return 64===r.charCodeAt(0)}function rs(r,o){if(null!==o&&0!==o.length)if(null===r||0===r.length)r=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const d=o[u];"number"==typeof d?a=d:0===a||Gl(r,a,d,null,-1===a||2===a?o[++u]:null)}}return r}function Gl(r,o,a,u,d){let g=0,v=r.length;if(-1===o)v=-1;else for(;g<r.length;){const D=r[g++];if("number"==typeof D){if(D===o){v=-1;break}if(D>o){v=g-1;break}}}for(;g<r.length;){const D=r[g];if("number"==typeof D)break;if(D===a){if(null===u)return void(null!==d&&(r[g+1]=d));if(u===r[g+1])return void(r[g+2]=d)}g++,null!==u&&g++,null!==d&&g++}-1!==v&&(r.splice(v,0,o),g=v+1),r.splice(g++,0,a),null!==u&&r.splice(g++,0,u),null!==d&&r.splice(g++,0,d)}function os(r){return r!==Hs}function Uo(r){return 32767&r}function ss(r,o){let a=function rd(r){return r>>16}(r),u=o;for(;a>0;)u=u[qo],a--;return u}let jl=!0;function Na(r){const o=jl;return jl=r,o}const $l=255,od=5;let as=0;const Fr={};function qc(r,o){const a=$s(r,o);if(-1!==a)return a;const u=o[Qe];u.firstCreatePass&&(r.injectorIndex=o.length,js(u.data,r),js(o,null),js(u.blueprint,null));const d=sd(r,o),g=r.injectorIndex;if(os(d)){const v=Uo(d),D=ss(d,o),C=D[Qe].data;for(let A=0;A<8;A++)o[g+A]=D[v+A]|C[v+A]}return o[g+8]=d,g}function js(r,o){r.push(0,0,0,0,0,0,0,0,o)}function $s(r,o){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===o[r.injectorIndex+8]?-1:r.injectorIndex}function sd(r,o){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,u=null,d=o;for(;null!==d;){if(u=Pa(d),null===u)return Hs;if(a++,d=d[qo],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return Hs}function _n(r,o,a){!function mo(r,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(Zt)&&(u=a[Zt]),null==u&&(u=a[Zt]=as++);const d=u&$l;o.data[r+(d>>od)]|=1<<d}(r,o,a)}function Wl(r,o,a){if(a&X.Optional||void 0!==r)return r;We()}function Kc(r,o,a,u){if(a&X.Optional&&void 0===u&&(u=null),!(a&(X.Self|X.Host))){const d=r[ga],g=Xt(void 0);try{return d?d.get(o,u,a&X.Optional):Lt(o,u,a&X.Optional)}finally{Xt(g)}}return Wl(u,0,a)}function zl(r,o,a,u=X.Default,d){if(null!==r){if(1024&o[Mt]){const v=function Qc(r,o,a,u,d){let g=r,v=o;for(;null!==g&&null!==v&&1024&v[Mt]&&!(256&v[Mt]);){const D=Yl(g,v,a,u|X.Self,Fr);if(D!==Fr)return D;let C=g.parent;if(!C){const A=v[En];if(A){const M=A.get(a,Fr,u);if(M!==Fr)return M}C=Pa(v),v=v[qo]}g=C}return d}(r,o,a,u,Fr);if(v!==Fr)return v}const g=Yl(r,o,a,u,Fr);if(g!==Fr)return g}return Kc(o,a,u,d)}function Yl(r,o,a,u,d){const g=function Jc(r){if("string"==typeof r)return r.charCodeAt(0)||0;const o=r.hasOwnProperty(Zt)?r[Zt]:void 0;return"number"==typeof o?o>=0?o&$l:Mh:o}(a);if("function"==typeof g){if(!kl(o,r,u))return u&X.Host?Wl(d,0,u):Kc(o,a,u,d);try{const v=g(u);if(null!=v||u&X.Optional)return v;We()}finally{td()}}else if("number"==typeof g){let v=null,D=$s(r,o),C=Hs,A=u&X.Host?o[Zn][Xn]:null;for((-1===D||u&X.SkipSelf)&&(C=-1===D?sd(r,o):o[D+8],C!==Hs&&Oa(u,!1)?(v=o[Qe],D=Uo(C),o=ss(C,o)):D=-1);-1!==D;){const M=o[Qe];if(Ma(g,D,M.data)){const L=si(D,o,a,v,u,A);if(L!==Fr)return L}C=o[D+8],C!==Hs&&Oa(u,o[Qe].data[D+8]===A)&&Ma(g,D,o)?(v=M,D=Uo(C),o=ss(C,o)):D=-1}}return d}function si(r,o,a,u,d,g){const v=o[Qe],D=v.data[r+8],M=ls(D,v,a,null==u?xs(D)&&jl:u!=v&&0!=(3&D.type),d&X.Host&&g===D);return null!==M?qn(o,v,M,D):Fr}function ls(r,o,a,u,d){const g=r.providerIndexes,v=o.data,D=1048575&g,C=r.directiveStart,M=g>>20,z=d?D+M:r.directiveEnd;for(let te=u?D:D+M;te<z;te++){const be=v[te];if(te<C&&a===be||te>=C&&be.type===a)return te}if(d){const te=v[C];if(te&&gr(te)&&te.type===a)return C}return null}function qn(r,o,a,u){let d=r[a];const g=o.data;if(function mp(r){return r instanceof go}(d)){const v=d;v.resolving&&function Oe(r,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${r}`:"";throw new fe(-200,`Circular dependency in DI detected for ${r}${a}`)}(function Ue(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Me(r)}(g[a]));const D=Na(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?Xt(v.injectImpl):null;kl(r,u,X.Default);try{d=r[a]=v.factory(void 0,g,r,u),o.firstCreatePass&&a>=u.directiveStart&&function gp(r,o,a){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(u){const v=ya(o);(a.preOrderHooks??(a.preOrderHooks=[])).push(r,v),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(r,v)}d&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-r,d),g&&((a.preOrderHooks??(a.preOrderHooks=[])).push(r,g),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(r,g))}(a,g[a],o)}finally{null!==C&&Xt(C),Na(D),v.resolving=!1,td()}}return d}function Ma(r,o,a){return!!(a[o+(r>>od)]&1<<r)}function Oa(r,o){return!(r&X.Self||r&X.Host&&o)}class _o{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return zl(this._tNode,this._lView,o,Jn(u),a)}}function Mh(){return new _o(oi(),pe())}function Zl(r){return U(()=>{const o=r.prototype.constructor,a=o[dn]||cs(o),u=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==u;){const g=d[dn]||cs(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function cs(r){return Ge(r)?()=>{const o=cs(Z(r));return o&&o()}:Zr(r)}function Pa(r){const o=r[Qe],a=o.type;return 2===a?o.declTNode:1===a?r[Xn]:null}function Ws(r){return function ad(r,o){if("class"===o)return r.classes;if("style"===o)return r.styles;const a=r.attrs;if(a){const u=a.length;let d=0;for(;d<u;){const g=a[d];if(Zc(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<u&&"string"==typeof a[d];)d++;else{if(g===o)return a[d+1];d+=2}}}return null}(oi(),r)}const zs="__parameters__";function ds(r,o,a){return U(()=>{const u=function us(r){return function(...a){if(r){const u=r(...a);for(const d in u)this[d]=u[d]}}}(o);function d(...g){if(this instanceof d)return u.apply(this,g),this;const v=new d(...g);return D.annotation=v,D;function D(C,A,M){const L=C.hasOwnProperty(zs)?C[zs]:Object.defineProperty(C,zs,{value:[]})[zs];for(;L.length<=M;)L.push(null);return(L[M]=L[M]||[]).push(v),C}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}class Jt{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=gt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Kr(r,o){r.forEach(a=>Array.isArray(a)?Kr(a,o):o(a))}function Fh(r,o,a){o>=r.length?r.push(a):r.splice(o,0,a)}function fs(r,o){return o>=r.length-1?r.pop():r.splice(o,1)[0]}function Kl(r,o){const a=[];for(let u=0;u<r;u++)a.push(o);return a}function Zi(r,o,a){let u=Br(r,o);return u>=0?r[1|u]=a:(u=~u,function nu(r,o,a,u){let d=r.length;if(d==o)r.push(a,u);else if(1===d)r.push(u,r[0]),r[0]=a;else{for(d--,r.push(r[d-1],r[d]);d>o;)r[d]=r[d-2],d--;r[o]=a,r[o+1]=u}}(r,u,o,a)),u}function ni(r,o){const a=Br(r,o);if(a>=0)return r[1|a]}function Br(r,o){return function Fi(r,o,a){let u=0,d=r.length>>a;for(;d!==u;){const g=u+(d-u>>1),v=r[g<<a];if(o===v)return g<<a;v>o?d=g:u=g+1}return~(d<<a)}(r,o,1)}const Ua=Tn(ds("Optional"),8),vo=Tn(ds("SkipSelf"),4);var Bi=(()=>((Bi=Bi||{})[Bi.Important=1]="Important",Bi[Bi.DashCase=2]="DashCase",Bi))();const bo=/^>|^->|<!--|-->|--!>|<!-$/g,$a=/(<|>)/,Sn="\u200b$1\u200b";const gd=new Map;let md=0;const q="__ngContext__";function ae(r,o){Xi(o)?(r[q]=o[Po],function Gh(r){gd.set(r[Po],r)}(o)):r[q]=o}let Dr;function qs(r,o){return Dr(r,o)}function rc(r){const o=r[In];return er(o)?o[In]:o}function oc(r){return Wh(r[Zo])}function Ks(r){return Wh(r[pr])}function Wh(r){for(;null!==r&&!er(r);)r=r[pr];return r}function za(r,o,a,u,d){if(null!=u){let g,v=!1;er(u)?g=u:Xi(u)&&(v=!0,u=u[fr]);const D=yi(u);0===r&&null!==a?null==d?yd(o,a,D):ws(o,a,D,d||null,!0):1===r&&null!==a?ws(o,a,D,d||null,!0):2===r?Dd(o,D,v):3===r&&o.destroyNode(D),null!=g&&function Ip(r,o,a,u,d){const g=a[ks];g!==yi(a)&&za(o,r,u,g,d);for(let D=vi;D<a.length;D++){const C=a[D];lc(C[Qe],C,r,o,u,g)}}(o,r,g,a,d)}}function _d(r,o){return r.createText(o)}function vp(r,o,a){r.setValue(o,a)}function Bm(r,o){return r.createComment(function ou(r){return r.replace(bo,o=>o.replace($a,Sn))}(o))}function zh(r,o,a){return r.createElement(o,a)}function wp(r,o){const a=r[Ko],u=a.indexOf(o),d=o[In];512&o[Mt]&&(o[Mt]&=-513,wa(d,-1)),a.splice(u,1)}function au(r,o){if(r.length<=vi)return;const a=vi+o,u=r[a];if(u){const d=u[Ps];null!==d&&d!==r&&wp(d,u),o>0&&(r[a-1][pr]=u[pr]);const g=fs(r,vi+o);!function yp(r,o){lc(r,o,o[Bt],2,null,null),o[fr]=null,o[Xn]=null}(u[Qe],u);const v=g[kr];null!==v&&v.detachView(g[Qe]),u[In]=null,u[pr]=null,u[Mt]&=-65}return u}function Zh(r,o){if(!(128&o[Mt])){const a=o[Bt];a.destroyNode&&lc(r,o,a,3,null,null),function Dy(r){let o=r[Zo];if(!o)return sc(r[Qe],r);for(;o;){let a=null;if(Xi(o))a=o[Zo];else{const u=o[vi];u&&(a=u)}if(!a){for(;o&&!o[pr]&&o!==r;)Xi(o)&&sc(o[Qe],o),o=o[In];null===o&&(o=r),Xi(o)&&sc(o[Qe],o),a=o&&o[pr]}o=a}}(o)}}function sc(r,o){if(!(128&o[Mt])){o[Mt]&=-65,o[Mt]|=128,function Hm(r,o){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let u=0;u<a.length;u+=2){const d=o[a[u]];if(!(d instanceof go)){const g=a[u+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const D=d[g[v]],C=g[v+1];zi(4,D,C);try{C.call(D)}finally{zi(5,D,C)}}else{zi(4,d,g);try{g.call(d)}finally{zi(5,d,g)}}}}}(r,o),function Vm(r,o){const a=r.cleanup,u=o[Si];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+3];v>=0?u[d=v]():u[d=-v].unsubscribe(),g+=2}else{const v=u[d=a[g+1]];a[g].call(v)}if(null!==u){for(let g=d+1;g<u.length;g++)(0,u[g])();o[Si]=null}}(r,o),1===o[Qe].type&&o[Bt].destroy();const a=o[Ps];if(null!==a&&er(o[In])){a!==o[In]&&wp(a,o);const u=o[kr];null!==u&&u.detachView(r)}!function w(r){gd.delete(r[Po])}(o)}}function vd(r,o,a){return bs(r,o.parent,a)}function bs(r,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[fr];{const{componentOffset:d}=u;if(d>-1){const{encapsulation:g}=r.data[u.directiveStart+d];if(g===ye.None||g===ye.Emulated)return null}return bi(u,a)}}function ws(r,o,a,u,d){r.insertBefore(o,a,u,d)}function yd(r,o,a){r.appendChild(o,a)}function Dp(r,o,a,u,d){null!==u?ws(r,o,a,u,d):yd(r,o,a)}function cu(r,o){return r.parentNode(o)}function qh(r,o,a){return Ep(r,o,a)}function wd(r,o,a){return 40&r.type?bi(r,a):null}let uu,sn,Ds,xt,Ep=wd;function du(r,o){Ep=r,uu=o}function ac(r,o,a,u){const d=vd(r,u,o),g=o[Bt],D=qh(u.parent||o[Xn],u,o);if(null!=d)if(Array.isArray(a))for(let C=0;C<a.length;C++)Dp(g,d,a[C],D,!1);else Dp(g,d,a,D,!1);void 0!==uu&&uu(g,u,o,a,d)}function hu(r,o){if(null!==o){const a=o.type;if(3&a)return bi(o,r);if(4&a)return Za(-1,r[o.index]);if(8&a){const u=o.child;if(null!==u)return hu(r,u);{const d=r[o.index];return er(d)?Za(-1,d):yi(d)}}if(32&a)return qs(o,r)()||yi(r[o.index]);{const u=Cp(r,o);return null!==u?Array.isArray(u)?u[0]:hu(rc(r[Zn]),u):hu(r,o.next)}}return null}function Cp(r,o){return null!==o?r[Zn][Xn].projection[o.projection]:null}function Za(r,o){const a=vi+r+1;if(a<o.length){const u=o[a],d=u[Qe].firstChild;if(null!==d)return hu(u,d)}return o[ks]}function Dd(r,o,a){const u=cu(r,o);u&&function bd(r,o,a,u){r.removeChild(o,a,u)}(r,u,o,a)}function Ed(r,o,a,u,d,g,v){for(;null!=a;){const D=u[a.index],C=a.type;if(v&&0===o&&(D&&ae(yi(D),u),a.flags|=2),32!=(32&a.flags))if(8&C)Ed(r,o,a.child,u,d,g,!1),za(o,r,d,D,g);else if(32&C){const A=qs(a,u);let M;for(;M=A();)za(o,r,d,M,g);za(o,r,d,D,g)}else 16&C?Kh(r,o,u,a,d,g):za(o,r,d,D,g);a=v?a.projectionNext:a.next}}function lc(r,o,a,u,d,g){Ed(a,u,r.firstChild,o,d,g,!1)}function Kh(r,o,a,u,d,g){const v=a[Zn],C=v[Xn].projection[u.projection];if(Array.isArray(C))for(let A=0;A<C.length;A++)za(o,r,d,C[A],g);else Ed(r,o,C,v[In],d,g,!0)}function qa(r,o,a){""===a?r.removeAttribute(o,"class"):r.setAttribute(o,"class",a)}function Jh(r,o,a){const{mergedAttrs:u,classes:d,styles:g}=a;null!==u&&Gs(r,o,u),null!==d&&qa(r,o,d),null!==g&&function Cd(r,o,a){r.setAttribute(o,"style",a)}(r,o,g)}function kt(r){return function an(){if(void 0===sn&&(sn=null,Et.trustedTypes))try{sn=Et.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return sn}()?.createHTML(r)||r}function ef(r){Ds=r}function Cr(r){return function Ui(){if(void 0===xt&&(xt=null,Et.trustedTypes))try{xt=Et.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return xt}()?.createScriptURL(r)||r}class Ap{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${at})`}}function Di(r){return r instanceof Ap?r.changingThisBreaksApplicationSecurity:r}function cc(r,o){const a=function Np(r){return r instanceof Ap&&r.getTypeName()||null}(r);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${at})`)}return a===o}class Td{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(kt(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class eo{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const a=this.inertDocument.createElement("template");return a.innerHTML=kt(o),a}}const Do=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ka(r){return(r=String(r)).match(Do)?r:"unsafe:"+r}function Ei(r){const o={};for(const a of r.split(","))o[a]=!0;return o}function Ja(...r){const o={};for(const a of r)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const ir=Ei("area,br,col,hr,img,wbr"),Mp=Ei("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Id=Ei("rp,rt"),p=Ja(ir,Ja(Mp,Ei("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ja(Id,Ei("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ja(Id,Mp)),y=Ei("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),H=Ja(y,Ei("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ei("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var mn=(()=>((mn=mn||{})[mn.NONE=0]="NONE",mn[mn.HTML=1]="HTML",mn[mn.STYLE=2]="STYLE",mn[mn.SCRIPT=3]="SCRIPT",mn[mn.URL=4]="URL",mn[mn.RESOURCE_URL=5]="RESOURCE_URL",mn))();function fu(r){const o=el();return o?o.sanitize(mn.URL,r)||"":cc(r,"URL")?Di(r):Ka(Me(r))}function Xa(r){const o=el();if(o)return Cr(o.sanitize(mn.RESOURCE_URL,r)||"");if(cc(r,"ResourceURL"))return Cr(Di(r));throw new fe(904,!1)}function hc(r,o,a){return function $m(r,o){return"src"===o&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===o&&("base"===r||"link"===r)?Xa:fu}(o,a)(r)}function el(){const r=pe();return r&&r[ma]}const pu=new Jt("ENVIRONMENT_INITIALIZER"),Ty=new Jt("INJECTOR",-1),kp=new Jt("INJECTOR_DEF_TYPES");class Ad{get(o,a=mi){if(a===mi){const u=new Error(`NullInjectorError: No provider for ${we(o)}!`);throw u.name="NullInjectorError",u}return a}}function xp(...r){return{\u0275providers:Iy(0,r),\u0275fromNgModule:!0}}function Iy(r,...o){const a=[],u=new Set;let d;return Kr(o,g=>{const v=g;zm(v,a,[],u)&&(d||(d=[]),d.push(v))}),void 0!==d&&Sy(d,a),a}function Sy(r,o){for(let a=0;a<r.length;a++){const{providers:d}=r[a];Ym(d,g=>{o.push(g)})}}function zm(r,o,a,u){if(!(r=Z(r)))return!1;let d=null,g=gi(r);const v=!g&&mt(r);if(g||v){if(v&&!v.standalone)return!1;d=r}else{const C=r.ngModule;if(g=gi(C),!g)return!1;d=C}const D=u.has(d);if(v){if(D)return!1;if(u.add(d),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of C)zm(A,o,a,u)}}else{if(!g)return!1;{if(null!=g.imports&&!D){let A;u.add(d);try{Kr(g.imports,M=>{zm(M,o,a,u)&&(A||(A=[]),A.push(M))})}finally{}void 0!==A&&Sy(A,o)}if(!D){const A=Zr(d)||(()=>new d);o.push({provide:d,useFactory:A,deps:Le},{provide:kp,useValue:d,multi:!0},{provide:pu,useValue:()=>ln(d),multi:!0})}const C=g.providers;null==C||D||Ym(C,M=>{o.push(M)})}}return d!==r&&void 0!==r.providers}function Ym(r,o){for(let a of r)Ie(a)&&(a=a.\u0275providers),Array.isArray(a)?Ym(a,o):o(a)}const Zm=oe({provide:String,useValue:oe});function qm(r){return null!==r&&"object"==typeof r&&Zm in r}function fc(r){return"function"==typeof r}const Jm=new Jt("Set Injector scope."),gu={},Rd={};let lf;function Nd(){return void 0===lf&&(lf=new Ad),lf}class mu{}class Ry extends mu{get destroyed(){return this._destroyed}constructor(o,a,u,d){super(),this.parent=a,this.source=u,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Md(o,v=>this.processProvider(v)),this.records.set(Ty,rr(void 0,this)),d.has("environment")&&this.records.set(mu,rr(void 0,this));const g=this.records.get(Jm);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(kp.multi,Le,X.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=qt(this),u=Xt(void 0);try{return o()}finally{qt(a),Xt(u)}}get(o,a=mi,u=X.Default){this.assertNotDestroyed(),u=Jn(u);const d=qt(this),g=Xt(void 0);try{if(!(u&X.SkipSelf)){let D=this.records.get(o);if(void 0===D){const C=function e_(r){return"function"==typeof r||"object"==typeof r&&r instanceof Jt}(o)&&vn(o);D=C&&this.injectableDefInScope(C)?rr(Lp(o),gu):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(u&X.Self?Nd():this.parent).get(o,a=u&X.Optional&&a===mi?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Rn]=v[Rn]||[]).unshift(we(o)),d)throw v;return function Wi(r,o,a,u){const d=r[Rn];throw o[cn]&&d.unshift(o[cn]),r.message=function V(r,o,a,u=null){r=r&&"\n"===r.charAt(0)&&r.charAt(1)==Ii?r.slice(2):r;let d=we(o);if(Array.isArray(o))d=o.map(we).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let D=o[v];g.push(v+":"+("string"==typeof D?JSON.stringify(D):we(D)))}d=`{${g.join(", ")}}`}return`${a}${u?"("+u+")":""}[${d}]: ${r.replace(fn,"\n  ")}`}("\n"+r.message,d,a,u),r[en]=d,r[Rn]=null,r}(v,o,"R3InjectorError",this.source)}throw v}finally{Xt(g),qt(d)}}resolveInjectorInitializers(){const o=qt(this),a=Xt(void 0);try{const u=this.get(pu.multi,Le,X.Self);for(const d of u)d()}finally{qt(o),Xt(a)}}toString(){const o=[],a=this.records;for(const u of a.keys())o.push(we(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(o){let a=fc(o=Z(o))?o:Z(o&&o.provide);const u=function RD(r){return qm(r)?rr(void 0,r.useValue):rr(Ny(r),gu)}(o);if(fc(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=rr(void 0,gu,!0),d.factory=()=>Mr(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,u)}hydrate(o,a){return a.value===gu&&(a.value=Rd,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Xm(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Z(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Lp(r){const o=vn(r),a=null!==o?o.factory:Zr(r);if(null!==a)return a;if(r instanceof Jt)throw new fe(204,!1);if(r instanceof Function)return function AD(r){const o=r.length;if(o>0)throw Kl(o,"?"),new fe(204,!1);const a=function Bn(r){return r&&(r[Oi]||r[K])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new fe(204,!1)}function Ny(r,o,a){let u;if(fc(r)){const d=Z(r);return Zr(d)||Lp(d)}if(qm(r))u=()=>Z(r.useValue);else if(function Km(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...Mr(r.deps||[]));else if(function af(r){return!(!r||!r.useExisting)}(r))u=()=>ln(Z(r.useExisting));else{const d=Z(r&&(r.useClass||r.provide));if(!function Qm(r){return!!r.deps}(r))return Zr(d)||Lp(d);u=()=>new d(...Mr(r.deps))}return u}function rr(r,o,a=!1){return{factory:r,value:o,multi:a?[]:void 0}}function Md(r,o){for(const a of r)Array.isArray(a)?Md(a,o):a&&Ie(a)?Md(a.\u0275providers,o):o(a)}class cf{}class pc{}class ND{resolveComponentFactory(o){throw function Od(r){const o=Error(`No component factory found for ${we(r)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=r,o}(o)}}let nl=(()=>{class r{}return r.NULL=new ND,r})();function MD(){return Pd(oi(),pe())}function Pd(r,o){return new gc(bi(r,o))}let gc=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=MD,r})();function uf(r){return r instanceof gc?r.nativeElement:r}class t_{}let Bp=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function _u(){const r=pe(),a=ri(oi().index,r);return(Xi(a)?a:r)[Bt]}(),r})(),n_=(()=>{class r{}return r.\u0275prov=gt({token:r,providedIn:"root",factory:()=>null}),r})();class My{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const xn=new My("15.2.9"),Eo={},vu="ngOriginalError";function Up(r){return r[vu]}class yu{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Up(o);for(;a&&Up(a);)a=Up(a);return a||null}}function il(r){return r instanceof Function?r():r}function o_(r,o,a){let u=r.length;for(;;){const d=r.indexOf(o,a);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const g=o.length;if(d+g===u||r.charCodeAt(d+g)<=32)return d}a=d+1}}const xy="ng-template";function xD(r,o,a){let u=0,d=!0;for(;u<r.length;){let g=r[u++];if("string"==typeof g&&d){const v=r[u++];if(a&&"class"===g&&-1!==o_(v.toLowerCase(),o,0))return!0}else{if(1===g){for(;u<r.length&&"string"==typeof(g=r[u++]);)if(g.toLowerCase()===o)return!0;return!1}"number"==typeof g&&(d=!1)}}return!1}function Fy(r){return 4===r.type&&r.value!==xy}function FD(r,o,a){return o===(4!==r.type||a?r.value:xy)}function LD(r,o,a){let u=4;const d=r.attrs||[],g=function jp(r){for(let o=0;o<r.length;o++)if(Zc(r[o]))return o;return r.length}(d);let v=!1;for(let D=0;D<o.length;D++){const C=o[D];if("number"!=typeof C){if(!v)if(4&u){if(u=2|1&u,""!==C&&!FD(r,C,a)||""===C&&1===o.length){if(Es(u))return!1;v=!0}}else{const A=8&u?C:o[++D];if(8&u&&null!==r.attrs){if(!xD(r.attrs,A,a)){if(Es(u))return!1;v=!0}continue}const L=Hp(8&u?"class":C,d,Fy(r),a);if(-1===L){if(Es(u))return!1;v=!0;continue}if(""!==A){let z;z=L>g?"":d[L+1].toLowerCase();const te=8&u?z:null;if(te&&-1!==o_(te,A,0)||2&u&&A!==z){if(Es(u))return!1;v=!0}}}}else{if(!v&&!Es(u)&&!Es(C))return!1;if(v&&Es(C))continue;v=!1,u=C|1&u}}return Es(u)||v}function Es(r){return 0==(1&r)}function Hp(r,o,a,u){if(null===o)return-1;let d=0;if(u||!a){let g=!1;for(;d<o.length;){const v=o[d];if(v===r)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let D=o[++d];for(;"string"==typeof D;)D=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function BD(r,o){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const u=r[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,r)}function Gp(r,o,a=!1){for(let u=0;u<o.length;u++)if(LD(r,o[u],a))return!0;return!1}function s_(r,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(r.length===u.length){for(let d=0;d<r.length;d++)if(r[d]!==u[d])continue e;return!0}}return!1}function a_(r,o){return r?":not("+o.trim()+")":o}function By(r){let o=r[0],a=1,u=2,d="",g=!1;for(;a<r.length;){let v=r[a];if("string"==typeof v)if(2&u){const D=r[++a];d+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&u?d+="."+v:4&u&&(d+=" "+v);else""!==d&&!Es(v)&&(o+=a_(g,d),d=""),u=v,g=g||!Es(u);a++}return""!==d&&(o+=a_(g,d)),o}const Ut={};function $p(r){Uy(Ot(),pe(),Ai()+r,!1)}function Uy(r,o,a,u){if(!u)if(3==(3&o[Mt])){const g=r.preOrderCheckHooks;null!==g&&Wc(o,g,a)}else{const g=r.preOrderHooks;null!==g&&zc(o,g,0,a)}po(a)}function Yp(r,o=null,a=null,u){const d=Gy(r,o,a,u);return d.resolveInjectorInitializers(),d}function Gy(r,o=null,a=null,u,d=new Set){const g=[a||Le,xp(r)];return u=u||("object"==typeof r?void 0:we(r)),new Ry(g,o||Nd(),u||null,d)}let wu=(()=>{class r{static create(a,u){if(Array.isArray(a))return Yp({name:""},u,a,"");{const d=a.name??"";return Yp({name:d},a.parent,a.providers,d)}}}return r.THROW_IF_NOT_FOUND=mi,r.NULL=new Ad,r.\u0275prov=gt({token:r,providedIn:"any",factory:()=>ln(Ty)}),r.__NG_ELEMENT_ID__=-1,r})();function vc(r,o=X.Default){const a=pe();return null===a?ln(r,o):zl(oi(),a,Z(r),o)}function Ky(){throw new Error("invalid")}function Ld(r,o){const a=r.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const g=a[u+1];if(-1!==g){const v=r.data[g];Pl(a[u]),v.contentQueries(2,o[g],g)}}}function Kp(r,o,a,u,d,g,v,D,C,A,M){const L=o.blueprint.slice();return L[fr]=d,L[Mt]=76|u,(null!==M||r&&1024&r[Mt])&&(L[Mt]|=1024),Bs(L),L[In]=L[qo]=r,L[Gn]=a,L[Yn]=v||r&&r[Yn],L[Bt]=D||r&&r[Bt],L[ma]=C||r&&r[ma]||null,L[ga]=A||r&&r[ga]||null,L[Xn]=g,L[Po]=function Hh(){return md++}(),L[En]=M,L[Zn]=2==o.type?r[Zn]:L,L}function sl(r,o,a,u,d){let g=r.data[o];if(null===g)g=Jp(r,o,a,u,d),function Xu(){return Rt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=a,g.value=u,g.attrs=d;const v=Nl();g.injectorIndex=null===v?-1:v.injectorIndex}return Yi(g,!0),g}function Jp(r,o,a,u,d){const g=Qo(),v=Qu(),C=r.data[o]=function m_(r,o,a,u,d,g){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,o,u,d);return null===r.firstChild&&(r.firstChild=C),null!==g&&(v?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C,C.prev=g)),C}function hf(r,o,a,u){if(0===a)return-1;const d=o.length;for(let g=0;g<a;g++)o.push(u),r.blueprint.push(u),r.data.push(null);return d}function ff(r,o,a){xl(o);try{const u=r.viewQuery;null!==u&&gf(1,u,a);const d=r.template;null!==d&&Jy(r,o,d,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Ld(r,o),r.staticViewQueries&&gf(2,r.viewQuery,a);const g=r.components;null!==g&&function eE(r,o){for(let a=0;a<o.length;a++)aE(r,o[a])}(o,g)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{o[Mt]&=-5,Fl()}}function Du(r,o,a,u){const d=o[Mt];if(128!=(128&d)){xl(o);try{Bs(o),function qr(r){return Rt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&Jy(r,o,a,2,u);const v=3==(3&d);if(v){const A=r.preOrderCheckHooks;null!==A&&Wc(o,A,null)}else{const A=r.preOrderHooks;null!==A&&zc(o,A,0,null),id(o,0)}if(function E_(r){for(let o=oc(r);null!==o;o=Ks(o)){if(!o[Fc])continue;const a=o[Ko];for(let u=0;u<a.length;u++){const d=a[u];512&d[Mt]||wa(d[In],1),d[Mt]|=512}}}(o),function sE(r){for(let o=oc(r);null!==o;o=Ks(o))for(let a=vi;a<o.length;a++){const u=o[a],d=u[Qe];ho(u)&&Du(d,u,d.template,u[Gn])}}(o),null!==r.contentQueries&&Ld(r,o),v){const A=r.contentCheckHooks;null!==A&&Wc(o,A)}else{const A=r.contentHooks;null!==A&&zc(o,A,1),id(o,1)}!function yc(r,o){const a=r.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const d=a[u];if(d<0)po(~d);else{const g=d,v=a[++u],D=a[++u];Ol(v,g),D(2,o[g])}}}finally{po(-1)}}(r,o);const D=r.components;null!==D&&function XD(r,o){for(let a=0;a<o.length;a++)sg(r,o[a])}(o,D);const C=r.viewQuery;if(null!==C&&gf(2,C,u),v){const A=r.viewCheckHooks;null!==A&&Wc(o,A)}else{const A=r.viewHooks;null!==A&&zc(o,A,2),id(o,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),o[Mt]&=-41,512&o[Mt]&&(o[Mt]&=-513,wa(o[In],-1))}finally{Fl()}}}function Jy(r,o,a,u,d){const g=Ai(),v=2&u;try{po(-1),v&&o.length>yn&&Uy(r,o,yn,!1),zi(v?2:0,d),a(u,d)}finally{po(g),zi(v?3:1,d)}}function bc(r,o,a){if(va(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const v=r.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}function Qp(r,o,a){Rl()&&(function y_(r,o,a,u){const d=a.directiveStart,g=a.directiveEnd;xs(a)&&function n0(r,o,a){const u=bi(o,r),d=p_(a),g=r[Yn],v=To(r,Kp(r,d,null,a.onPush?32:16,u,o,g,g.createRenderer(u,a),null,null,null));r[o.index]=v}(o,a,r.data[d+a.componentOffset]),r.firstCreatePass||qc(a,o),ae(u,o);const v=a.initialInputs;for(let D=d;D<g;D++){const C=r.data[D],A=qn(o,r,D,a);ae(A,o),null!==v&&D_(0,D-d,A,C,0,v),gr(C)&&(ri(a.index,o)[Gn]=qn(o,r,D,a))}}(r,o,a,bi(a,o)),64==(64&a.flags)&&ig(r,o,a))}function Xp(r,o,a=bi){const u=o.localNames;if(null!==u){let d=o.index+1;for(let g=0;g<u.length;g+=2){const v=u[g+1],D=-1===v?a(o,r):r[v];r[d++]=D}}}function p_(r){const o=r.tView;return null===o||o.incompleteFirstPass?r.tView=Eu(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):o}function Eu(r,o,a,u,d,g,v,D,C,A){const M=yn+u,L=M+d,z=function eg(r,o){const a=[];for(let u=0;u<o;u++)a.push(u<r?null:Ut);return a}(M,L),te="function"==typeof A?A():A;return z[Qe]={type:r,blueprint:z,template:a,queries:null,viewQuery:D,declTNode:o,data:z.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:te,incompleteFirstPass:!1}}function tg(r,o,a,u){const d=Ud(o);null===a?d.push(u):(d.push(a),r.firstCreatePass&&o0(r).push(u,d.length-1))}function Qy(r,o,a,u){for(let d in r)if(r.hasOwnProperty(d)){a=null===a?{}:a;const g=r[d];null===u?Bd(a,o,d,g):u.hasOwnProperty(d)&&Bd(a,o,u[d],g)}return a}function Bd(r,o,a,u){r.hasOwnProperty(a)?r[a].push(o,u):r[a]=[o,u]}function Co(r,o,a,u,d,g,v,D){const C=bi(o,a);let M,A=o.inputs;!D&&null!=A&&(M=A[u])?(T_(r,a,M,u,d),xs(o)&&function __(r,o){const a=ri(o,r);16&a[Mt]||(a[Mt]|=32)}(a,o.index)):3&o.type&&(u=function nE(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),d=null!=v?v(d,o.value||"",u):d,g.setProperty(C,u,d))}function ng(r,o,a,u){if(Rl()){const d=null===u?null:{"":-1},g=function rg(r,o){const a=r.directiveRegistry;let u=null,d=null;if(a)for(let g=0;g<a.length;g++){const v=a[g];if(Gp(o,v.selectors,!1))if(u||(u=[]),gr(v))if(null!==v.findHostDirectiveDefs){const D=[];d=d||new Map,v.findHostDirectiveDefs(v,D,d),u.unshift(...D,v),al(r,o,D.length)}else u.unshift(v),al(r,o,0);else d=d||new Map,v.findHostDirectiveDefs?.(v,u,d),u.push(v)}return null===u?null:[u,d]}(r,a);let v,D;null===g?v=D=null:[v,D]=g,null!==v&&Xy(r,o,a,v,d,D),d&&function w_(r,o,a){if(o){const u=r.localNames=[];for(let d=0;d<o.length;d+=2){const g=a[o[d+1]];if(null==g)throw new fe(-301,!1);u.push(o[d],g)}}}(a,u,d)}a.mergedAttrs=rs(a.mergedAttrs,a.attrs)}function Xy(r,o,a,u,d,g){for(let A=0;A<u.length;A++)_n(qc(a,o),r,u[A].type);!function rE(r,o,a){r.flags|=1,r.directiveStart=o,r.directiveEnd=o+a,r.providerIndexes=o}(a,r.data.length,u.length);for(let A=0;A<u.length;A++){const M=u[A];M.providersResolver&&M.providersResolver(M)}let v=!1,D=!1,C=hf(r,o,u.length,null);for(let A=0;A<u.length;A++){const M=u[A];a.mergedAttrs=rs(a.mergedAttrs,M.hostAttrs),og(r,a,o,C,M),t0(C,M,d),null!==M.contentQueries&&(a.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(a.flags|=64);const L=M.type.prototype;!v&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((r.preOrderHooks??(r.preOrderHooks=[])).push(a.index),v=!0),!D&&(L.ngOnChanges||L.ngDoCheck)&&((r.preOrderCheckHooks??(r.preOrderCheckHooks=[])).push(a.index),D=!0),C++}!function tE(r,o,a){const d=o.directiveEnd,g=r.data,v=o.attrs,D=[];let C=null,A=null;for(let M=o.directiveStart;M<d;M++){const L=g[M],z=a?a.get(L):null,be=z?z.outputs:null;C=Qy(L.inputs,M,C,z?z.inputs:null),A=Qy(L.outputs,M,A,be);const He=null===C||null===v||Fy(o)?null:oE(C,M,v);D.push(He)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=8),C.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=D,o.inputs=C,o.outputs=A}(r,a,g)}function ig(r,o,a){const u=a.directiveStart,d=a.directiveEnd,g=a.index,v=function pp(){return Rt.lFrame.currentDirectiveIndex}();try{po(g);for(let D=u;D<d;D++){const C=r.data[D],A=o[D];ti(D),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&b_(C,A)}}finally{po(-1),ti(v)}}function b_(r,o){null!==r.hostBindings&&r.hostBindings(1,o)}function al(r,o,a){o.componentOffset=a,(r.components??(r.components=[])).push(o.index)}function t0(r,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=r;gr(o)&&(a[""]=r)}}function og(r,o,a,u,d){r.data[u]=d;const g=d.factory||(d.factory=Zr(d.type)),v=new go(g,gr(d),vc);r.blueprint[u]=v,a[u]=v,function iE(r,o,a,u,d){const g=d.hostBindings;if(g){let v=r.hostBindingOpCodes;null===v&&(v=r.hostBindingOpCodes=[]);const D=~o.index;(function e0(r){let o=r.length;for(;o>0;){const a=r[--o];if("number"==typeof a&&a<0)return a}return 0})(v)!=D&&v.push(D),v.push(a,u,g)}}(r,o,u,hf(r,a,d.hostVars,Ut),d)}function Cu(r,o,a,u,d,g,v){if(null==g)r.removeAttribute(o,d,a);else{const D=null==v?Me(g):v(g,u||"",d);r.setAttribute(o,d,D,a)}}function D_(r,o,a,u,d,g){const v=g[o];if(null!==v){const D=u.setInput;for(let C=0;C<v.length;){const A=v[C++],M=v[C++],L=v[C++];null!==D?u.setInput(a,L,A,M):a[M]=L}}}function oE(r,o,a){let u=null,d=0;for(;d<a.length;){const g=a[d];if(0!==g)if(5!==g){if("number"==typeof g)break;if(r.hasOwnProperty(g)){null===u&&(u=[]);const v=r[g];for(let D=0;D<v.length;D+=2)if(v[D]===o){u.push(g,v[D+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return u}function r0(r,o,a,u){return[r,!0,!1,o,null,0,u,a,null,null]}function sg(r,o){const a=ri(o,r);if(ho(a)){const u=a[Qe];48&a[Mt]?Du(u,a,u.template,a[Gn]):a[pn]>0&&ag(a)}}function ag(r){for(let u=oc(r);null!==u;u=Ks(u))for(let d=vi;d<u.length;d++){const g=u[d];if(ho(g))if(512&g[Mt]){const v=g[Qe];Du(v,g,v.template,g[Gn])}else g[pn]>0&&ag(g)}const a=r[Qe].components;if(null!==a)for(let u=0;u<a.length;u++){const d=ri(a[u],r);ho(d)&&d[pn]>0&&ag(d)}}function aE(r,o){const a=ri(o,r),u=a[Qe];(function pf(r,o){for(let a=o.length;a<r.blueprint.length;a++)o.push(r.blueprint[a])})(u,a),ff(u,a,a[Gn])}function To(r,o){return r[Zo]?r[ao][pr]=o:r[Zo]=o,r[ao]=o,o}function wc(r){for(;r;){r[Mt]|=32;const o=rc(r);if(Dl(r)&&!o)return r;r=o}return null}function lg(r,o,a,u=!0){const d=o[Yn];d.begin&&d.begin();try{Du(r,o,r.template,a)}catch(v){throw u&&C_(o,v),v}finally{d.end&&d.end()}}function gf(r,o,a){Pl(0),o(r,a)}function Ud(r){return r[Si]||(r[Si]=[])}function o0(r){return r.cleanup||(r.cleanup=[])}function C_(r,o){const a=r[ga],u=a?a.get(yu,null):null;u&&u.handleError(o)}function T_(r,o,a,u,d){for(let g=0;g<a.length;){const v=a[g++],D=a[g++],C=o[v],A=r.data[v];null!==A.setInput?A.setInput(C,d,u,D):C[D]=d}}function mf(r,o,a){let u=a?r.styles:null,d=a?r.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const D=o[v];"number"==typeof D?g=D:1==g?d=ge(d,D):2==g&&(u=ge(u,D+": "+o[++v]+";"))}a?r.styles=u:r.stylesWithoutHost=u,a?r.classes=d:r.classesWithoutHost=d}function Sr(r,o,a,u,d=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&u.push(yi(g)),er(g))for(let D=vi;D<g.length;D++){const C=g[D],A=C[Qe].firstChild;null!==A&&Sr(C[Qe],C,A,u)}const v=a.type;if(8&v)Sr(r,o,a.child,u);else if(32&v){const D=qs(a,o);let C;for(;C=D();)u.push(C)}else if(16&v){const D=Cp(o,a);if(Array.isArray(D))u.push(...D);else{const C=rc(o[Zn]);Sr(C[Qe],C,D,u,!0)}}a=d?a.projectionNext:a.next}return u}class Vd{get rootNodes(){const o=this._lView,a=o[Qe];return Sr(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gn]}set context(o){this._lView[Gn]=o}get destroyed(){return 128==(128&this._lView[Mt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[In];if(er(o)){const a=o[ko],u=a?a.indexOf(this):-1;u>-1&&(au(o,u),fs(a,u))}this._attachedToViewContainer=!1}Zh(this._lView[Qe],this._lView)}onDestroy(o){tg(this._lView[Qe],this._lView,null,o)}markForCheck(){wc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Mt]&=-65}reattach(){this._lView[Mt]|=64}detectChanges(){lg(this._lView[Qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bp(r,o){lc(r,o,o[Bt],2,null,null)}(this._lView[Qe],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=o}}class cE extends Vd{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;lg(o[Qe],o,o[Gn],!1)}checkNoChanges(){}get context(){return null}}class I_ extends nl{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=mt(o);return new Hd(a,this.ngModule)}}function s0(r){const o=[];for(let a in r)r.hasOwnProperty(a)&&o.push({propName:r[a],templateName:a});return o}class dE{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,u){u=Jn(u);const d=this.injector.get(o,Eo,u);return d!==Eo||a===Eo?d:this.parentInjector.get(o,a,u)}}class Hd extends pc{get inputs(){return s0(this.componentDef.inputs)}get outputs(){return s0(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function UD(r){return r.map(By).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,u,d){let g=(d=d||this.ngModule)instanceof mu?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new dE(o,g):o,D=v.get(t_,null);if(null===D)throw new fe(407,!1);const C=v.get(n_,null),A=D.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",L=u?function g_(r,o,a){return r.selectRootElement(o,a===ye.ShadowDom)}(A,u,this.componentDef.encapsulation):zh(A,M,function uE(r){const o=r.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),z=this.componentDef.onPush?288:272,te=Eu(0,null,null,1,0,null,null,null,null,null),be=Kp(null,te,null,z,null,null,D,A,C,v,null);let He,Xe;xl(be);try{const ot=this.componentDef;let At,ke=null;ot.findHostDirectiveDefs?(At=[],ke=new Map,ot.findHostDirectiveDefs(ot,At,ke),At.push(ot)):At=[ot];const Vt=function a0(r,o){const a=r[Qe],u=yn;return r[u]=o,sl(a,u,2,"#host",null)}(be,L),Wn=function fE(r,o,a,u,d,g,v,D){const C=d[Qe];!function S_(r,o,a,u){for(const d of r)o.mergedAttrs=rs(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(mf(o,o.mergedAttrs,!0),null!==a&&Jh(u,a,o))}(u,r,o,v);const A=g.createRenderer(o,a),M=Kp(d,p_(a),null,a.onPush?32:16,d[r.index],r,g,A,D||null,null,null);return C.firstCreatePass&&al(C,r,u.length-1),To(d,M),d[r.index]=M}(Vt,L,ot,At,be,D,A);Xe=Yu(te,yn),L&&function pE(r,o,a,u){if(u)Gs(r,a,["ng-version",xn.full]);else{const{attrs:d,classes:g}=function VD(r){const o=[],a=[];let u=1,d=2;for(;u<r.length;){let g=r[u];if("string"==typeof g)2===d?""!==g&&o.push(g,r[++u]):8===d&&a.push(g);else{if(!Es(d))break;d=g}u++}return{attrs:o,classes:a}}(o.selectors[0]);d&&Gs(r,a,d),g&&g.length>0&&qa(r,a,g.join(" "))}}(A,ot,L,u),void 0!==a&&function A_(r,o,a){const u=r.projection=[];for(let d=0;d<o.length;d++){const g=a[d];u.push(null!=g?Array.from(g):null)}}(Xe,this.ngContentSelectors,a),He=function ug(r,o,a,u,d,g){const v=oi(),D=d[Qe],C=bi(v,d);Xy(D,d,v,a,null,u);for(let M=0;M<a.length;M++)ae(qn(d,D,v.directiveStart+M,v),d);ig(D,d,v),C&&ae(C,d);const A=qn(d,D,v.directiveStart+v.componentOffset,v);if(r[Gn]=d[Gn]=A,null!==g)for(const M of g)M(A,o);return bc(D,v,r),A}(Wn,ot,At,ke,be,[gE]),ff(te,be,null)}finally{Fl()}return new _f(this.componentType,He,Pd(Xe,be),be,Xe)}}class _f extends cf{constructor(o,a,u,d,g){super(),this.location=u,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new cE(d),this.componentType=o}setInput(o,a){const u=this._tNode.inputs;let d;if(null!==u&&(d=u[o])){const g=this._rootLView;T_(g[Qe],g,d,o,a),wc(ri(this._tNode.index,g))}}get injector(){return new _o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function gE(){const r=oi();Ul(pe()[Qe],r)}function R_(r){let o=function l0(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const u=[r];for(;o;){let d;if(gr(r))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new fe(903,!1);d=o.\u0275dir}if(d){if(a){u.push(d);const v=r;v.inputs=N_(r.inputs),v.declaredInputs=N_(r.declaredInputs),v.outputs=N_(r.outputs);const D=d.hostBindings;D&&M_(r,D);const C=d.viewQuery,A=d.contentQueries;if(C&&mE(r,C),A&&_E(r,A),ve(r.inputs,d.inputs),ve(r.declaredInputs,d.declaredInputs),ve(r.outputs,d.outputs),gr(d)&&d.data.animation){const M=r.data;M.animation=(M.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const D=g[v];D&&D.ngInherit&&D(r),D===R_&&(a=!1)}}o=Object.getPrototypeOf(o)}!function c0(r){let o=0,a=null;for(let u=r.length-1;u>=0;u--){const d=r[u];d.hostVars=o+=d.hostVars,d.hostAttrs=rs(d.hostAttrs,a=rs(a,d.hostAttrs))}}(u)}function N_(r){return r===ee?{}:r===Le?[]:r}function mE(r,o){const a=r.viewQuery;r.viewQuery=a?(u,d)=>{o(u,d),a(u,d)}:o}function _E(r,o){const a=r.contentQueries;r.contentQueries=a?(u,d,g)=>{o(u,d,g),a(u,d,g)}:o}function M_(r,o){const a=r.hostBindings;r.hostBindings=a?(u,d)=>{o(u,d),a(u,d)}:o}function ll(r){return o=>{o.findHostDirectiveDefs=d0,o.hostDirectives=(Array.isArray(r)?r:r()).map(a=>"function"==typeof a?{directive:Z(a),inputs:ee,outputs:ee}:{directive:Z(a.directive),inputs:dg(a.inputs),outputs:dg(a.outputs)})}}function d0(r,o,a){if(null!==r.hostDirectives)for(const u of r.hostDirectives){const d=on(u.directive);hg(d.declaredInputs,u.inputs),d0(d,o,a),a.set(d,u),o.push(d)}}function dg(r){if(void 0===r||0===r.length)return ee;const o={};for(let a=0;a<r.length;a+=2)o[r[a]]=r[a+1];return o}function hg(r,o){for(const a in o)o.hasOwnProperty(a)&&(r[o[a]]=r[a])}function vf(r){return!!jd(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function jd(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function jo(r,o,a){return r[o]=a}function Ar(r,o,a){return!Object.is(r[o],a)&&(r[o]=a,!0)}function cl(r,o,a,u){const d=Ar(r,o,a);return Ar(r,o+1,u)||d}function P_(r,o,a,u){const d=pe();return Ar(d,Xo(),o)&&(Ot(),function na(r,o,a,u,d,g){const v=bi(r,o);Cu(o[Bt],v,g,r.value,a,u,d)}(Mn(),d,r,o,a,u)),P_}function Su(r,o,a,u){return Ar(r,Xo(),a)?o+Me(a)+u:Ut}function _0(r,o,a,u,d,g,v,D){const C=pe(),A=Ot(),M=r+yn,L=A.firstCreatePass?function wE(r,o,a,u,d,g,v,D,C){const A=o.consts,M=sl(o,r,4,v||null,Bo(A,D));ng(o,a,M,Bo(A,C)),Ul(o,M);const L=M.tView=Eu(2,M,u,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,M),L.queries=o.queries.embeddedTView(M)),M}(M,A,C,o,a,u,d,g,v):A.data[M];Yi(L,!1);const z=C[Bt].createComment("");ac(A,C,z,L),ae(z,C),To(C,C[M]=r0(z,C,z,L)),Lc(L)&&Qp(A,C,L),null!=v&&Xp(C,L,D)}function wf(r){return xi(function fp(){return Rt.lFrame.contextLView}(),yn+r)}function Ru(r,o,a){const u=pe();return Ar(u,Xo(),o)&&Co(Ot(),Mn(),u,r,o,u[Bt],a,!1),Ru}function Df(r,o,a,u,d){const v=d?"class":"style";T_(r,a,o.inputs[v],v,u)}function Ef(r,o,a,u){const d=pe(),g=Ot(),v=yn+r,D=d[Bt],C=g.firstCreatePass?function v0(r,o,a,u,d,g){const v=o.consts,C=sl(o,r,2,u,Bo(v,d));return ng(o,a,C,Bo(v,g)),null!==C.attrs&&mf(C,C.attrs,!1),null!==C.mergedAttrs&&mf(C,C.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,C),C}(v,g,d,o,a,u):g.data[v],A=d[v]=zh(D,o,function nd(){return Rt.lFrame.currentNamespace}()),M=Lc(C);return Yi(C,!0),Jh(D,A,C),32!=(32&C.flags)&&ac(g,d,A,C),0===function qu(){return Rt.lFrame.elementDepthCount}()&&ae(A,d),function Al(){Rt.lFrame.elementDepthCount++}(),M&&(Qp(g,d,C),bc(g,C,d)),null!==u&&Xp(d,C),Ef}function Cf(){let r=oi();Qu()?Ml():(r=r.parent,Yi(r,!1));const o=r;!function Ku(){Rt.lFrame.elementDepthCount--}();const a=Ot();return a.firstCreatePass&&(Ul(a,r),va(r)&&a.queries.elementEnd(r)),null!=o.classesWithoutHost&&function Ra(r){return 0!=(8&r.flags)}(o)&&Df(a,o,pe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ts(r){return 0!=(16&r.flags)}(o)&&Df(a,o,pe(),o.stylesWithoutHost,!1),Cf}function gg(r,o,a,u){return Ef(r,o,a,u),Cf(),gg}function to(r,o,a){const u=pe(),d=Ot(),g=r+yn,v=d.firstCreatePass?function y0(r,o,a,u,d){const g=o.consts,v=Bo(g,u),D=sl(o,r,8,"ng-container",v);return null!==v&&mf(D,v,!0),ng(o,a,D,Bo(g,d)),null!==o.queries&&o.queries.elementStart(o,D),D}(g,d,u,o,a):d.data[g];Yi(v,!0);const D=u[g]=u[Bt].createComment("");return ac(d,u,D,v),ae(D,u),Lc(v)&&(Qp(d,u,v),bc(d,v,u)),null!=a&&Xp(u,v),to}function Tf(){let r=oi();const o=Ot();return Qu()?Ml():(r=r.parent,Yi(r,!1)),o.firstCreatePass&&(Ul(o,r),va(r)&&o.queries.elementEnd(r)),Tf}function w0(){return pe()}function F_(r){return!!r&&"function"==typeof r.then}function L_(r){return!!r&&"function"==typeof r.subscribe}const D0=L_;function B_(r,o,a,u){const d=pe(),g=Ot(),v=oi();return function C0(r,o,a,u,d,g,v){const D=Lc(u),A=r.firstCreatePass&&o0(r),M=o[Gn],L=Ud(o);let z=!0;if(3&u.type||v){const He=bi(u,o),Xe=v?v(He):He,ot=L.length,At=v?Vt=>v(yi(Vt[u.index])):u.index;let ke=null;if(!v&&D&&(ke=function DE(r,o,a,u){const d=r.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===a&&d[g+1]===u){const D=o[Si],C=d[g+2];return D.length>C?D[C]:null}"string"==typeof v&&(g+=2)}return null}(r,o,d,u.index)),null!==ke)(ke.__ngLastListenerFn__||ke).__ngNextListenerFn__=g,ke.__ngLastListenerFn__=g,z=!1;else{g=I0(u,o,M,g,!1);const Vt=a.listen(Xe,d,g);L.push(g,Vt),A&&A.push(d,At,ot,ot+1)}}else g=I0(u,o,M,g,!1);const te=u.outputs;let be;if(z&&null!==te&&(be=te[d])){const He=be.length;if(He)for(let Xe=0;Xe<He;Xe+=2){const Wn=o[be[Xe]][be[Xe+1]].subscribe(g),di=L.length;L.push(g,Wn),A&&A.push(d,u.index,di,-(di+1))}}}(g,d,d[Bt],v,r,o,u),B_}function T0(r,o,a,u){try{return zi(6,o,a),!1!==a(u)}catch(d){return C_(r,d),!1}finally{zi(7,o,a)}}function I0(r,o,a,u,d){return function g(v){if(v===Function)return u;wc(r.componentOffset>-1?ri(r.index,o):o);let C=T0(o,a,u,v),A=g.__ngNextListenerFn__;for(;A;)C=T0(o,a,A,v)&&C,A=A.__ngNextListenerFn__;return d&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function S0(r=1){return function Ih(r){return(Rt.lFrame.contextLView=function Ll(r,o){for(;r>0;)o=o[qo],r--;return o}(r,Rt.lFrame.contextLView))[Gn]}(r)}function EE(r,o){let a=null;const u=function Ly(r){const o=r.attrs;if(null!=o){const a=o.indexOf(5);if(!(1&a))return o[a+1]}return null}(r);for(let d=0;d<o.length;d++){const g=o[d];if("*"!==g){if(null===u?Gp(r,g,!0):s_(u,g))return d}else a=d}return a}function A0(r){const o=pe()[Zn][Xn];if(!o.projection){const u=o.projection=Kl(r?r.length:1,null),d=u.slice();let g=o.child;for(;null!==g;){const v=r?EE(g,r):0;null!==v&&(d[v]?d[v].projectionNext=g:u[v]=g,d[v]=g),g=g.next}}}function R0(r,o=0,a){const u=pe(),d=Ot(),g=sl(d,yn+r,16,null,a||null);null===g.projection&&(g.projection=o),Ml(),32!=(32&g.flags)&&function Tp(r,o,a){Kh(o[Bt],0,o,a,vd(r,a,o),qh(a.parent||o[Xn],a,o))}(d,u,g)}function U_(r,o,a){return mg(r,"",o,"",a),U_}function mg(r,o,a,u,d){const g=pe(),v=Su(g,o,a,u);return v!==Ut&&Co(Ot(),Mn(),g,r,v,g[Bt],d,!1),mg}function vg(r,o){return r<<17|o<<2}function hl(r){return r>>17&32767}function H_(r){return 2|r}function Nu(r){return(131068&r)>>2}function yg(r,o){return-131069&r|o<<2}function G_(r){return 1|r}function x0(r,o,a,u,d){const g=r[a+1],v=null===o;let D=u?hl(g):Nu(g),C=!1;for(;0!==D&&(!1===C||v);){const M=r[D+1];NE(r[D],o)&&(C=!0,r[D+1]=u?G_(M):H_(M)),D=u?hl(M):Nu(M)}C&&(r[a+1]=u?H_(g):G_(g))}function NE(r,o){return null===r||null==o||(Array.isArray(r)?r[1]:r)===o||!(!Array.isArray(r)||"string"!=typeof o)&&Br(r,o)>=0}const Hi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function F0(r){return r.substring(Hi.key,Hi.keyEnd)}function L0(r,o){const a=Hi.textEnd;return a===o?-1:(o=Hi.keyEnd=function kE(r,o,a){for(;o<a&&r.charCodeAt(o)>32;)o++;return o}(r,Hi.key=o,a),$d(r,o,a))}function $d(r,o,a){for(;o<a&&r.charCodeAt(o)<=32;)o++;return o}function ia(r,o,a){return Cs(r,o,a,!1),ia}function Gi(r,o){return Cs(r,o,null,!0),Gi}function G0(r){Ts(bg,ra,r,!0)}function ra(r,o){for(let a=function OE(r){return function B0(r){Hi.key=0,Hi.keyEnd=0,Hi.value=0,Hi.valueEnd=0,Hi.textEnd=r.length}(r),L0(r,$d(r,0,Hi.textEnd))}(o);a>=0;a=L0(o,a))Zi(r,F0(o),!0)}function Cs(r,o,a,u){const d=pe(),g=Ot(),v=vr(2);g.firstUpdatePass&&Sf(g,r,v,u),o!==Ut&&Ar(d,v,o)&&W0(g,g.data[Ai()],d,d[Bt],r,d[v+1]=function z0(r,o){return null==r||""===r||("string"==typeof o?r+=o:"object"==typeof r&&(r=we(Di(r)))),r}(o,a),u,v)}function Ts(r,o,a,u){const d=Ot(),g=vr(2);d.firstUpdatePass&&Sf(d,null,g,u);const v=pe();if(a!==Ut&&Ar(v,g,a)){const D=d.data[Ai()];if(wg(D,u)&&!Un(d,g)){let C=u?D.classesWithoutHost:D.stylesWithoutHost;null!==C&&(a=ge(C,a||"")),Df(d,D,v,a,u)}else!function $0(r,o,a,u,d,g,v,D){d===Ut&&(d=Le);let C=0,A=0,M=0<d.length?d[0]:null,L=0<g.length?g[0]:null;for(;null!==M||null!==L;){const z=C<d.length?d[C+1]:void 0,te=A<g.length?g[A+1]:void 0;let He,be=null;M===L?(C+=2,A+=2,z!==te&&(be=L,He=te)):null===L||null!==M&&M<L?(C+=2,be=M):(A+=2,be=L,He=te),null!==be&&W0(r,o,a,u,be,He,v,D),M=C<d.length?d[C]:null,L=A<g.length?g[A]:null}}(d,D,v,v[Bt],v[g+1],v[g+1]=function oa(r,o,a){if(null==a||""===a)return Le;const u=[],d=Di(a);if(Array.isArray(d))for(let g=0;g<d.length;g++)r(u,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&r(u,g,d[g]);else"string"==typeof d&&o(u,d);return u}(r,o,a),u,g)}}function Un(r,o){return o>=r.expandoStartIndex}function Sf(r,o,a,u){const d=r.data;if(null===d[a+1]){const g=d[Ai()],v=Un(r,a);wg(g,u)&&null===o&&!v&&(o=!1),o=function FE(r,o,a,u){const d=function Us(r){const o=Rt.lFrame.currentDirectiveIndex;return-1===o?null:r[o]}(r);let g=u?o.residualClasses:o.residualStyles;if(null===d)0===(u?o.classBindings:o.styleBindings)&&(a=ii(a=Wd(null,r,o,a,u),o.attrs,u),g=null);else{const v=o.directiveStylingLast;if(-1===v||r[v]!==d)if(a=Wd(d,r,o,a,u),null===g){let C=function LE(r,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==Nu(u))return r[hl(u)]}(r,o,u);void 0!==C&&Array.isArray(C)&&(C=Wd(null,r,o,C[1],u),C=ii(C,o.attrs,u),function j0(r,o,a,u){r[hl(a?o.classBindings:o.styleBindings)]=u}(r,o,u,C))}else g=function BE(r,o,a){let u;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)u=ii(u,r[g].hostAttrs,a);return ii(u,o.attrs,a)}(r,o,u)}return void 0!==g&&(u?o.residualClasses=g:o.residualStyles=g),a}(d,g,o,u),function AE(r,o,a,u,d,g){let v=g?o.classBindings:o.styleBindings,D=hl(v),C=Nu(v);r[u]=a;let M,A=!1;if(Array.isArray(a)?(M=a[1],(null===M||Br(a,M)>0)&&(A=!0)):M=a,d)if(0!==C){const z=hl(r[D+1]);r[u+1]=vg(z,D),0!==z&&(r[z+1]=yg(r[z+1],u)),r[D+1]=function TE(r,o){return 131071&r|o<<17}(r[D+1],u)}else r[u+1]=vg(D,0),0!==D&&(r[D+1]=yg(r[D+1],u)),D=u;else r[u+1]=vg(C,0),0===D?D=u:r[C+1]=yg(r[C+1],u),C=u;A&&(r[u+1]=H_(r[u+1])),x0(r,M,u,!0),x0(r,M,u,!1),function RE(r,o,a,u,d){const g=d?r.residualClasses:r.residualStyles;null!=g&&"string"==typeof o&&Br(g,o)>=0&&(a[u+1]=G_(a[u+1]))}(o,M,r,u,g),v=vg(D,C),g?o.classBindings=v:o.styleBindings=v}(d,g,o,a,v,u)}}function Wd(r,o,a,u,d){let g=null;const v=a.directiveEnd;let D=a.directiveStylingLast;for(-1===D?D=a.directiveStart:D++;D<v&&(g=o[D],u=ii(u,g.hostAttrs,d),g!==r);)D++;return null!==r&&(a.directiveStylingLast=D),u}function ii(r,o,a){const u=a?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?d=v:d===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Zi(r,v,!!a||o[++g]))}return void 0===r?null:r}function bg(r,o,a){const u=String(o);""!==u&&!u.includes(" ")&&Zi(r,u,a)}function W0(r,o,a,u,d,g,v,D){if(!(3&o.type))return;const C=r.data,A=C[D+1],M=function IE(r){return 1==(1&r)}(A)?sa(C,o,a,d,Nu(A),v):void 0;Ro(M)||(Ro(g)||function CE(r){return 2==(2&r)}(A)&&(g=sa(C,null,a,d,D,v)),function Sp(r,o,a,u,d){if(o)d?r.addClass(a,u):r.removeClass(a,u);else{let g=-1===u.indexOf("-")?void 0:Bi.DashCase;null==d?r.removeStyle(a,u,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=Bi.Important),r.setStyle(a,u,d,g))}}(u,v,uo(Ai(),a),d,g))}function sa(r,o,a,u,d,g){const v=null===o;let D;for(;d>0;){const C=r[d],A=Array.isArray(C),M=A?C[1]:C,L=null===M;let z=a[d+1];z===Ut&&(z=L?Le:void 0);let te=L?ni(z,u):M===u?z:void 0;if(A&&!Ro(te)&&(te=ni(C,u)),Ro(te)&&(D=te,v))return D;const be=r[d+1];d=v?hl(be):Nu(be)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(D=ni(C,u))}return D}function Ro(r){return void 0!==r}function wg(r,o){return 0!=(r.flags&(o?8:16))}function j_(r,o=""){const a=pe(),u=Ot(),d=r+yn,g=u.firstCreatePass?sl(u,d,1,o,null):u.data[d],v=a[d]=_d(a[Bt],o);ac(u,a,v,g),Yi(g,!1)}function zd(r){return Dg("",r,""),zd}function Dg(r,o,a){const u=pe(),d=Su(u,r,o,a);return d!==Ut&&function Go(r,o,a){const u=uo(o,r);vp(r[Bt],u,a)}(u,Ai(),d),Dg}function jE(r,o,a,u,d){Ts(Zi,ra,function Dc(r,o,a,u,d,g){const D=cl(r,_r(),a,d);return vr(2),D?o+Me(a)+u+Me(d)+g:Ut}(pe(),r,o,a,u,d),!0)}function Yd(r,o,a){const u=pe();return Ar(u,Xo(),o)&&Co(Ot(),Mn(),u,r,o,u[Bt],a,!0),Yd}const Mu=void 0;var nb=["en",[["a","p"],["AM","PM"],Mu],[["AM","PM"],Mu,Mu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mu,"{1} 'at' {0}",Mu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qE(r){const a=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Zd={};function Ou(r){const o=function JE(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=z_(o);if(a)return a;const u=o.split("-")[0];if(a=z_(u),a)return a;if("en"===u)return nb;throw new fe(701,!1)}function Nf(r){return Ou(r)[Tt.PluralCase]}function z_(r){return r in Zd||(Zd[r]=Et.ng&&Et.ng.common&&Et.ng.common.locales&&Et.ng.common.locales[r]),Zd[r]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const QE=["zero","one","two","few","many"],Tc="en-US",qd={marker:"element"},Mf={marker:"ICU"};var Vn=(()=>((Vn=Vn||{})[Vn.SHIFT=2]="SHIFT",Vn[Vn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Vn[Vn.COMMENT=2]="COMMENT",Vn))();let Ag=Tc;function Rg(r){(function Fe(r,o){null==r&&Je(o,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(Ag=r.toLowerCase().replace(/_/g,"-"))}function Ng(r,o,a){const u=o.insertBeforeIndex,d=Array.isArray(u)?u[0]:u;return null===d?wd(r,0,a):yi(a[d])}function Mg(r,o,a,u,d){const g=o.insertBeforeIndex;if(Array.isArray(g)){let v=u,D=null;if(3&o.type||(D=v,v=d),null!==v&&-1===o.componentOffset)for(let C=1;C<g.length;C++)ws(r,v,a[g[C]],D,!1)}}function Og(r,o){if(r.push(o),r.length>1)for(let a=r.length-2;a>=0;a--){const u=r[a];Pg(u)||eC(u,o)&&null===tC(u)&&nC(u,o.index)}}function Pg(r){return!(64&r.type)}function eC(r,o){return Pg(o)||r.index>o.index}function tC(r){const o=r.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function nC(r,o){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=o:(du(Ng,Mg),r.insertBeforeIndex=o)}function Ic(r,o){const a=r.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function Z_(r,o,a){const u=Jp(r,a,64,null,null);return Og(o,u),u}function Kd(r,o){const a=o[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function kg(r){return r>>>17}function q_(r){return(131070&r)>>>1}let aa=0,Jd=0;function lb(r,o,a,u){const d=a[Bt];let v,g=null;for(let D=0;D<o.length;D++){const C=o[D];if("string"==typeof C){const A=o[++D];null===a[A]&&(a[A]=_d(d,C))}else if("number"==typeof C)switch(1&C){case 0:const A=kg(C);let M,L;if(null===g&&(g=A,v=cu(d,u)),A===g?(M=u,L=v):(M=null,L=yi(a[A])),null!==L){const He=q_(C);ws(d,L,a[He],M,!1);const ot=Ic(r,He);if(null!==ot&&"object"==typeof ot){const At=Kd(ot,a);null!==At&&lb(r,ot.create[At],a,a[ot.anchorIdx])}}break;case 1:const te=o[++D],be=o[++D];Cu(d,uo(C>>>1,a),null,null,te,be,null)}else switch(C){case Mf:const A=o[++D],M=o[++D];null===a[M]&&ae(a[M]=Bm(d,A),a);break;case qd:const L=o[++D],z=o[++D];null===a[z]&&ae(a[z]=zh(d,L,null),a)}}}function cb(r,o,a,u,d){for(let g=0;g<a.length;g++){const v=a[g],D=a[++g];if(v&d){let C="";for(let A=g+1;A<=g+D;A++){const M=a[A];if("string"==typeof M)C+=M;else if("number"==typeof M)if(M<0)C+=Me(o[u-M]);else{const L=M>>>2;switch(3&M){case 1:const z=a[++A],te=a[++A],be=r.data[L];"string"==typeof be?Cu(o[Bt],o[L],null,be,z,C,te):Co(r,be,o,z,C,o[Bt],te,!1);break;case 0:const He=o[L];null!==He&&vp(o[Bt],He,C);break;case 2:sC(r,Ic(r,L),o,C);break;case 3:ub(r,Ic(r,L),u,o)}}}}else{const C=a[g+1];if(C>0&&3==(3&C)){const M=Ic(r,C>>>2);o[M.currentCaseLViewIndex]<0&&ub(r,M,u,o)}}g+=D}}function ub(r,o,a,u){let d=u[o.currentCaseLViewIndex];if(null!==d){let g=aa;d<0&&(d=u[o.currentCaseLViewIndex]=~d,g=-1),cb(r,u,o.update[d],a,g)}}function sC(r,o,a,u){const d=function aC(r,o){let a=r.cases.indexOf(o);if(-1===a)switch(r.type){case 1:{const u=function ib(r,o){const a=Nf(o)(parseInt(r,10)),u=QE[a];return void 0!==u?u:"other"}(o,function XE(){return Ag}());a=r.cases.indexOf(u),-1===a&&"other"!==u&&(a=r.cases.indexOf("other"));break}case 0:a=r.cases.indexOf("other")}return-1===a?null:a}(o,u);if(Kd(o,a)!==d&&(db(r,o,a),a[o.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const v=a[o.anchorIdx];v&&lb(r,o.create[d],a,v)}}function db(r,o,a){let u=Kd(o,a);if(null!==u){const d=o.remove[u];for(let g=0;g<d.length;g++){const v=d[g];if(v>0){const D=uo(v,a);null!==D&&Dd(a[Bt],D)}else db(r,Ic(r,~v),a)}}}function xg(){const r=[];let a,u,o=-1;function g(D,C){o=0;const A=Kd(D,C);u=null!==A?D.remove[A]:Le}function v(){if(o<u.length){const D=u[o++];return D>0?a[D]:(r.push(o,u),g(a[Qe].data[~D],a),v())}return 0===r.length?null:(u=r.pop(),o=r.pop(),v())}return function d(D,C){for(a=C;r.length;)r.pop();return g(D.value,C),v}}const Fg=/\ufffd(\d+):?\d*\ufffd/gi,gb=/\ufffd(\d+)\ufffd/,K_=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Qd="\ufffd",mb=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,DS=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,uC=/\uE500/g;function dC(r,o,a,u,d,g,v){const D=hf(r,u,1,null);let C=D<<Vn.SHIFT,A=Nl();o===A&&(A=null),null===A&&(C|=Vn.APPEND_EAGERLY),v&&(C|=Vn.COMMENT,function $h(r){void 0===Dr&&(Dr=r())}(xg)),d.push(C,null===g?"":g);const M=Jp(r,D,v?32:1,null===g?"":g,null);Og(a,M);const L=M.index;return Yi(M,!1),null!==A&&o!==A&&function ob(r,o){let a=r.insertBeforeIndex;null===a?(du(Ng,Mg),a=r.insertBeforeIndex=[null,o]):(function Ke(r,o,a){r!=o&&Je(a,r,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(A,L),M}function CS(r,o,a,u,d,g,v){const D=v.match(Fg),C=dC(r,o,a,g,u,D?null:v,!1);D&&Xd(d,v,C.index,null,0,null)}function Xd(r,o,a,u,d,g){const v=r.length,D=v+1;r.push(null,null);const C=v+2,A=o.split(Fg);let M=0;for(let L=0;L<A.length;L++){const z=A[L];if(1&L){const te=d+parseInt(z,10);r.push(-1-te),M|=Q_(te)}else""!==z&&r.push(z)}return r.push(a<<2|(u?1:0)),u&&r.push(u,g),r[v]=M,r[D]=r.length-C,M}function Q_(r){return 1<<Math.min(r,31)}function Of(r){let o,g,a="",u=0,d=!1;for(;null!==(o=mb.exec(r));)d?o[0]===`${Qd}/*${g}${Qd}`&&(u=o.index,d=!1):(a+=r.substring(u,o.index+o[0].length),g=o[1],d=!0);return a+=r.slice(u),a}function Lg(r,o,a,u,d,g){let v=0;const D={type:d.type,currentCaseLViewIndex:hf(r,o,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function RS(r,o,a){r.push(Q_(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,d,g),function Y_(r,o,a){const u=r.data[o];null===u?r.data[o]=a:u.value=a}(r,g,D);const C=d.values;for(let A=0;A<C.length;A++){const M=C[A],L=[];for(let z=0;z<M.length;z++){const te=M[z];if("string"!=typeof te){const be=L.push(te)-1;M[z]=`\x3c!--\ufffd${be}\ufffd--\x3e`}}v=SS(r,D,o,a,u,d.cases[A],M.join(""),L)|v}v&&function pC(r,o,a){r.push(o,1,a<<2|3)}(a,v,g)}function IS(r){const o=[],a=[];let u=1,d=0;const g=ev(r=r.replace(K_,function(v,D,C){return u="select"===C?0:1,d=parseInt(D.slice(1),10),""}));for(let v=0;v<g.length;){let D=g[v++].trim();1===u&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&o.push(D);const C=ev(g[v++]);o.length>a.length&&a.push(C)}return{type:u,mainBinding:d,cases:o,values:a}}function ev(r){if(!r)return[];let o=0;const a=[],u=[],d=/[{}]/g;let g;for(d.lastIndex=0;g=d.exec(r);){const D=g.index;if("}"==g[0]){if(a.pop(),0==a.length){const C=r.substring(o,D);K_.test(C)?u.push(IS(C)):u.push(C),o=D+1}}else{if(0==a.length){const C=r.substring(o,D);u.push(C),o=D+1}a.push("{")}}const v=r.substring(o);return u.push(v),u}function SS(r,o,a,u,d,g,v,D){const C=[],A=[],M=[];o.cases.push(g),o.create.push(C),o.remove.push(A),o.update.push(M);const z=function jt(r){const o=new eo(r);return function uc(){try{return!!(new window.DOMParser).parseFromString(kt(""),"text/html")}catch{return!1}}()?new Td(o):o}(function Pn(){return void 0!==Ds?Ds:typeof document<"u"?document:void 0}()).getInertBodyElement(v),te=function ta(r){return"content"in r&&function Qa(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}(z)||z;return te?_b(r,o,a,u,C,A,M,te,d,D,0):0}function _b(r,o,a,u,d,g,v,D,C,A,M){let L=0,z=D.firstChild;for(;z;){const te=hf(r,a,1,null);switch(z.nodeType){case Node.ELEMENT_NODE:const be=z,He=be.tagName.toLowerCase();if(p.hasOwnProperty(He)){yb(d,qd,He,C,te),r.data[te]=He;const ke=be.attributes;for(let Vt=0;Vt<ke.length;Vt++){const Wn=ke.item(Vt),di=Wn.name.toLowerCase();Wn.value.match(Fg)?H.hasOwnProperty(di)&&Xd(v,Wn.value,te,Wn.name,0,y[di]?Ka:null):NS(d,te,Wn)}L=_b(r,o,a,u,d,g,v,z,te,A,M+1)|L,vb(g,te,M)}break;case Node.TEXT_NODE:const Xe=z.textContent||"",ot=Xe.match(Fg);yb(d,null,ot?"":Xe,C,te),vb(g,te,M),ot&&(L=Xd(v,Xe,te,null,0,null)|L);break;case Node.COMMENT_NODE:const At=gb.exec(z.textContent||"");if(At){const Vt=A[parseInt(At[1],10)];yb(d,Mf,"",C,te),Lg(r,a,u,C,Vt,te),AS(g,te,M)}}z=z.nextSibling}return L}function vb(r,o,a){0===a&&r.push(o)}function AS(r,o,a){0===a&&(r.push(~o),r.push(o))}function yb(r,o,a,u,d){null!==o&&r.push(o),r.push(a,d,function ab(r,o,a){return r|o<<17|a<<1}(0,u,d))}function NS(r,o,a){r.push(o<<1|1,a.name,a.value)}function tv(r,o,a=-1){const u=Ot(),d=pe(),g=yn+r,v=Bo(u.consts,o),D=Nl();u.firstCreatePass&&function J_(r,o,a,u,d,g){const v=Nl(),D=[],C=[],A=[[]];d=function TS(r,o){if(function X_(r){return-1===r}(o))return Of(r);{const a=r.indexOf(`:${o}${Qd}`)+2+o.toString().length,u=r.search(new RegExp(`${Qd}\\/\\*\\d+:${o}${Qd}`));return Of(r.substring(a,u))}}(d,g);const M=function ES(r){return r.replace(uC," ")}(d).split(DS);for(let L=0;L<M.length;L++){let z=M[L];if(1&L){const te=47===z.charCodeAt(0),He=(z.charCodeAt(te?1:0),yn+Number.parseInt(z.substring(te?2:1)));if(te)A.shift(),Yi(Nl(),!1);else{const Xe=Z_(r,A[0],He);A.unshift([]),Yi(Xe,!0)}}else{const te=ev(z);for(let be=0;be<te.length;be++){let He=te[be];if(1&be){const Xe=He;if("object"!=typeof Xe)throw new Error(`Unable to parse ICU expression in "${d}" message.`);Lg(r,a,C,o,Xe,dC(r,v,A[0],a,D,"",!0).index)}else""!==He&&CS(r,v,A[0],D,C,a,He)}}}r.data[u]={create:D,update:C}}(u,null===D?0:D.index,d,g,v,a);const C=u.data[g],M=bs(u,D===d[Xn]?null:D,d);(function oC(r,o,a,u){const d=r[Bt];for(let g=0;g<o.length;g++){const v=o[g++],D=o[g],A=(v&Vn.APPEND_EAGERLY)===Vn.APPEND_EAGERLY,M=v>>>Vn.SHIFT;let L=r[M];null===L&&(L=r[M]=(v&Vn.COMMENT)===Vn.COMMENT?d.createComment(D):_d(d,D)),A&&null!==a&&ws(d,a,L,u,!1)}})(d,C.create,M,D&&8&D.type?d[D.index]:null),Ia(!0)}function iv(r,o,a){tv(r,o,a),function nv(){Ia(!1)}()}function Ib(r){return function iC(r){r&&(aa|=1<<Math.min(Jd,31)),Jd++}(Ar(pe(),Xo(),r)),Ib}function Sb(r){!function rC(r,o,a){if(Jd>0){const u=r.data[a];cb(r,o,Array.isArray(u)?u:u.update,_r()-Jd-1,aa)}aa=0,Jd=0}(Ot(),pe(),r+yn)}function Bg(r,o,a,u,d){if(r=Z(r),Array.isArray(r))for(let g=0;g<r.length;g++)Bg(r[g],o,a,u,d);else{const g=Ot(),v=pe();let D=fc(r)?r:Z(r.provide),C=Ny(r);const A=oi(),M=1048575&A.providerIndexes,L=A.directiveStart,z=A.providerIndexes>>20;if(fc(r)||!r.multi){const te=new go(C,d,vc),be=Pu(D,o,d?M:M+z,L);-1===be?(_n(qc(A,v),g,D),Ug(g,r,o.length),o.push(D),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(te),v.push(te)):(a[be]=te,v[be]=te)}else{const te=Pu(D,o,M+z,L),be=Pu(D,o,M,M+z),Xe=be>=0&&a[be];if(d&&!Xe||!d&&!(te>=0&&a[te])){_n(qc(A,v),g,D);const ot=function yC(r,o,a,u,d){const g=new go(r,a,vc);return g.multi=[],g.index=o,g.componentProviders=0,rv(g,d,u&&!a),g}(d?Rb:vC,a.length,d,u,C);!d&&Xe&&(a[be].providerFactory=ot),Ug(g,r,o.length,0),o.push(D),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(ot),v.push(ot)}else Ug(g,r,te>-1?te:be,rv(a[d?be:te],C,!d&&u));!d&&u&&Xe&&a[be].componentProviders++}}}function Ug(r,o,a,u){const d=fc(o),g=function Fp(r){return!!r.useClass}(o);if(d||g){const C=(g?Z(o.useClass):o).prototype.ngOnDestroy;if(C){const A=r.destroyHooks||(r.destroyHooks=[]);if(!d&&o.multi){const M=A.indexOf(a);-1===M?A.push(a,[u,C]):A[M+1].push(u,C)}else A.push(a,C)}}}function rv(r,o,a){return a&&r.componentProviders++,r.multi.push(o)-1}function Pu(r,o,a,u){for(let d=a;d<u;d++)if(o[d]===r)return d;return-1}function vC(r,o,a,u){return ov(this.multi,[])}function Rb(r,o,a,u){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=qn(a,a[Qe],this.providerFactory.index,u);g=D.slice(0,v),ov(d,g);for(let C=v;C<D.length;C++)g.push(D[C])}else g=[],ov(d,g);return g}function ov(r,o){for(let a=0;a<r.length;a++)o.push((0,r[a])());return o}function sv(r,o=[]){return a=>{a.providersResolver=(u,d)=>function Ab(r,o,a){const u=Ot();if(u.firstCreatePass){const d=gr(r);Bg(a,u.data,u.blueprint,d,!0),Bg(o,u.data,u.blueprint,d,!1)}}(u,d?d(r):r,o)}}class ku{}class av{}function bC(r,o){return new Nb(r,o??null)}class Nb extends ku{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new I_(this);const u=Qn(o);this._bootstrapComponents=il(u.bootstrap),this._r3Injector=Gy(o,a,[{provide:ku,useValue:this},{provide:nl,useValue:this.componentFactoryResolver}],we(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Vg extends av{constructor(o){super(),this.moduleType=o}create(o){return new Nb(this.moduleType,o)}}class wC extends ku{constructor(o,a,u){super(),this.componentFactoryResolver=new I_(this),this.instance=null;const d=new Ry([...o,{provide:ku,useValue:this},{provide:nl,useValue:this.componentFactoryResolver}],a||Nd(),u,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function lv(r,o,a=null){return new wC(r,o,a).injector}let Mb=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const u=Iy(0,a.type),d=u.length>0?lv([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=gt({token:r,providedIn:"environment",factory:()=>new r(ln(mu))}),r})();function Ob(r){r.getStandaloneInjector=o=>o.get(Mb).getOrCreateStandaloneInjector(r)}function Ub(r,o,a,u){return xu(pe(),ei(),r,o,a,u)}function fv(r,o,a,u,d){return function gv(r,o,a,u,d,g,v){const D=o+a;return cl(r,D,d,g)?jo(r,D+2,v?u.call(v,d,g):u(d,g)):Pf(r,D+2)}(pe(),ei(),r,o,a,u,d)}function pv(r,o,a,u,d,g){return function mv(r,o,a,u,d,g,v,D){const C=o+a;return function fg(r,o,a,u,d){const g=cl(r,o,a,u);return Ar(r,o+2,d)||g}(r,C,d,g,v)?jo(r,C+3,D?u.call(D,d,g,v):u(d,g,v)):Pf(r,C+3)}(pe(),ei(),r,o,a,u,d,g)}function Pf(r,o){const a=r[o];return a===Ut?void 0:a}function xu(r,o,a,u,d,g){const v=o+a;return Ar(r,v,d)?jo(r,v+1,g?u.call(g,d):u(d)):Pf(r,v+1)}function sr(r,o){const a=Ot();let u;const d=r+yn;a.firstCreatePass?(u=function OC(r,o){if(o)for(let a=o.length-1;a>=0;a--){const u=o[a];if(r===u.name)return u}}(o,a.pipeRegistry),a.data[d]=u,u.onDestroy&&(a.destroyHooks??(a.destroyHooks=[])).push(d,u.onDestroy)):u=a.data[d];const g=u.factory||(u.factory=Zr(u.type)),v=Xt(vc);try{const D=Na(!1),C=g();return Na(D),function bf(r,o,a,u){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),o[a]=u}(a,pe(),d,C),C}finally{Xt(v)}}function Hb(r,o,a){const u=r+yn,d=pe(),g=xi(d,u);return function nh(r,o){return r[Qe].data[o].pure}(d,u)?xu(d,ei(),o,g.transform,a,g):g.transform(a)}function kf(r){return o=>{setTimeout(r,void 0,o)}}const Ji=class _v extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){let d=o,g=a||(()=>null),v=u;if(o&&"object"==typeof o){const C=o;d=C.next?.bind(C),g=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(g=kf(g),d&&(d=kf(d)),v&&(v=kf(v)));const D=super.subscribe({next:d,error:g,complete:v});return o instanceof J.w0&&o.add(D),D}};function Gb(){return this._results[Symbol.iterator]()}class la{get changes(){return this._changes||(this._changes=new Ji)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=la.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Gb)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const d=function Lr(r){return r.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function tu(r,o,a){if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++){let d=r[u],g=o[u];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(u._results,d,a))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ih=(()=>{class r{}return r.__NG_ELEMENT_ID__=LC,r})();const FC=ih,Gg=class extends FC{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o,a){const u=this._declarationTContainer.tView,d=Kp(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null,a||null);d[Ps]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[kr];return null!==v&&(d[kr]=v.createEmbeddedView(u)),ff(u,d,o),new Vd(d)}};function LC(){return jg(oi(),pe())}function jg(r,o){return 4&r.type?new Gg(o,r,Pd(r,o)):null}let $g=(()=>{class r{}return r.__NG_ELEMENT_ID__=BC,r})();function BC(){return Wb(oi(),pe())}const UC=$g,jb=class extends UC{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return Pd(this._hostTNode,this._hostLView)}get injector(){return new _o(this._hostTNode,this._hostLView)}get parentInjector(){const o=sd(this._hostTNode,this._hostLView);if(os(o)){const a=ss(o,this._hostLView),u=Uo(o);return new _o(a[Qe].data[u+8],a)}return new _o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=$b(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-vi}createEmbeddedView(o,a,u){let d,g;"number"==typeof u?d=u:null!=u&&(d=u.index,g=u.injector);const v=o.createEmbeddedView(a||{},g);return this.insert(v,d),v}createComponent(o,a,u,d,g){const v=o&&!function ql(r){return"function"==typeof r}(o);let D;if(v)D=a;else{const L=a||{};D=L.index,u=L.injector,d=L.projectableNodes,g=L.environmentInjector||L.ngModuleRef}const C=v?o:new Hd(mt(o)),A=u||this.parentInjector;if(!g&&null==C.ngModule){const z=(v?A:this.parentInjector).get(mu,null);z&&(g=z)}const M=C.create(A,d,void 0,g);return this.insert(M.hostView,D),M}insert(o,a){const u=o._lView,d=u[Qe];if(function Gc(r){return er(r[In])}(u)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const L=u[In],z=new jb(L,L[Xn],L[In]);z.detach(z.indexOf(o))}}const g=this._adjustIndex(a),v=this._lContainer;!function Ya(r,o,a,u){const d=vi+u,g=a.length;u>0&&(a[d-1][pr]=o),u<g-vi?(o[pr]=a[d],Fh(a,vi+u,o)):(a.push(o),o[pr]=null),o[In]=a;const v=o[Ps];null!==v&&a!==v&&function Um(r,o){const a=r[Ko];o[Zn]!==o[In][In][Zn]&&(r[Fc]=!0),null===a?r[Ko]=[o]:a.push(o)}(v,o);const D=o[kr];null!==D&&D.insertView(r),o[Mt]|=64}(d,u,v,g);const D=Za(g,v),C=u[Bt],A=cu(C,v[ks]);return null!==A&&function Yh(r,o,a,u,d,g){u[fr]=d,u[Xn]=o,lc(r,u,a,1,d,g)}(d,v[Xn],C,u,A,D),o.attachToViewContainerRef(),Fh(vv(v),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=$b(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=au(this._lContainer,a);u&&(fs(vv(this._lContainer),a),Zh(u[Qe],u))}detach(o){const a=this._adjustIndex(o,-1),u=au(this._lContainer,a);return u&&null!=fs(vv(this._lContainer),a)?new Vd(u):null}_adjustIndex(o,a=0){return o??this.length+a}};function $b(r){return r[ko]}function vv(r){return r[ko]||(r[ko]=[])}function Wb(r,o){let a;const u=o[r.index];if(er(u))a=u;else{let d;if(8&r.type)d=yi(u);else{const g=o[Bt];d=g.createComment("");const v=bi(r,o);ws(g,cu(g,v),d,function Gm(r,o){return r.nextSibling(o)}(g,v),!1)}o[r.index]=a=r0(u,o,d,r),To(o,a)}return new jb(a,r,o)}class Hr{constructor(o){this.queryList=o,this.matches=null}clone(){return new Hr(this.queryList)}setDirty(){this.queryList.setDirty()}}class xf{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let g=0;g<u;g++){const v=a.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new xf(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==rh(o,a).matches&&this.queries[a].setDirty()}}class Wg{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class zg{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const d=null!==a?a.length:0,g=this.getByIndex(u).embeddedTView(o,d);g&&(g.indexInDeclarationView=u,null!==a?a.push(g):a=[g])}return null!==a?new zg(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class yv{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new yv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const g=u[d];this.matchTNodeWithReadOption(o,a,zb(a,g)),this.matchTNodeWithReadOption(o,a,ls(a,o,g,!1,!1))}else u===ih?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,ls(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===gc||d===$g||d===ih&&4&a.type)this.addMatch(a.index,-2);else{const g=ls(a,o,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function zb(r,o){const a=r.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function VC(r,o,a,u){return-1===a?function Yb(r,o){return 11&r.type?Pd(r,o):4&r.type?jg(r,o):null}(o,r):-2===a?function HC(r,o,a){return a===gc?Pd(o,r):a===ih?jg(o,r):a===$g?Wb(o,r):void 0}(r,o,u):qn(r,r[Qe],a,o)}function Zb(r,o,a,u){const d=o[kr].queries[u];if(null===d.matches){const g=r.data,v=a.matches,D=[];for(let C=0;C<v.length;C+=2){const A=v[C];D.push(A<0?null:VC(o,g[A],v[C+1],a.metadata.read))}d.matches=D}return d.matches}function Wo(r,o,a,u){const d=r.queries.getByIndex(a),g=d.matches;if(null!==g){const v=Zb(r,o,d,a);for(let D=0;D<g.length;D+=2){const C=g[D];if(C>0)u.push(v[D/2]);else{const A=g[D+1],M=o[-C];for(let L=vi;L<M.length;L++){const z=M[L];z[Ps]===z[In]&&Wo(z[Qe],z,A,u)}if(null!==M[Ko]){const L=M[Ko];for(let z=0;z<L.length;z++){const te=L[z];Wo(te[Qe],te,A,u)}}}}}return u}function Yg(r){const o=pe(),a=Ot(),u=jc();Pl(u+1);const d=rh(a,u);if(r.dirty&&function Sl(r){return 4==(4&r[Mt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const g=d.crossesNgTemplate?Wo(a,o,u,[]):Zb(a,o,d,u);r.reset(g,uf),r.notifyOnChanges()}return!0}return!1}function qb(r,o,a){const u=Ot();u.firstCreatePass&&(Ff(u,new Wg(r,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),Rr(u,pe(),o)}function Kb(r,o,a,u){const d=Ot();if(d.firstCreatePass){const g=oi();Ff(d,new Wg(o,a,u),g.index),function jC(r,o){const a=r.contentQueries||(r.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,o)}(d,r),2==(2&a)&&(d.staticContentQueries=!0)}Rr(d,pe(),a)}function bv(){return function GC(r,o){return r[kr].queries[o].queryList}(pe(),jc())}function Rr(r,o,a){const u=new la(4==(4&a));tg(r,o,u,u.destroy),null===o[kr]&&(o[kr]=new xf),o[kr].queries.push(new Hr(u))}function Ff(r,o,a){null===r.queries&&(r.queries=new zg),r.queries.track(new yv(o,a))}function rh(r,o){return r.queries.getByIndex(o)}function Jb(r,o){return jg(r,o)}function Dv(r){return!!Qn(r)}function Kg(...r){}const dw=new Jt("Application Initializer");let Uf=(()=>{class r{constructor(a){this.appInits=a,this.resolve=Kg,this.reject=Kg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(F_(g))a.push(g);else if(D0(g)){const v=new Promise((D,C)=>{g.subscribe({complete:D,error:C})});a.push(v)}}Promise.all(a).then(()=>{u()}).catch(d=>{this.reject(d)}),0===a.length&&u(),this.initialized=!0}}return r.\u0275fac=function(a){return new(a||r)(ln(dw,8))},r.\u0275prov=gt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const hw=new Jt("AppId",{providedIn:"root",factory:function Jg(){return`${Qg()}${Qg()}${Qg()}`}});function Qg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Mv=new Jt("Platform Initializer"),$S=new Jt("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let sT=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=gt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Xg=new Jt("LocaleId",{providedIn:"root",factory:()=>Hn(Xg,X.Optional|X.SkipSelf)||function aT(){return typeof $localize<"u"&&$localize.locale||Tc}()}),lT=new Jt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class fw{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let cT=(()=>{class r{compileModuleSync(a){return new Vg(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),g=il(Qn(a).declarations).reduce((v,D)=>{const C=mt(D);return C&&v.push(new Hd(C)),v},[]);return new fw(u,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=gt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const gw=(()=>Promise.resolve(0))();function em(r){typeof Zone>"u"?gw.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class No{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ji(!1),this.onMicrotaskEmpty=new Ji(!1),this.onStable=new Ji(!1),this.onError=new Ji(!1),typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&a,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function fl(){let r=Et.requestAnimationFrame,o=Et.cancelAnimationFrame;if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function gT(r){const o=()=>{!function pT(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Et,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Pv(r),r.isCheckStableRunning=!0,Ov(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Pv(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,d,g,v,D)=>{try{return mw(r),a.invokeTask(d,g,v,D)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||r.shouldCoalesceRunChangeDetection)&&o(),kv(r)}},onInvoke:(a,u,d,g,v,D,C)=>{try{return mw(r),a.invoke(d,g,v,D,C)}finally{r.shouldCoalesceRunChangeDetection&&o(),kv(r)}},onHasTask:(a,u,d,g)=>{a.hasTask(d,g),u===d&&("microTask"==g.change?(r._hasPendingMicrotasks=g.microTask,Pv(r),Ov(r)):"macroTask"==g.change&&(r.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,u,d,g)=>(a.handleError(d,g),r.runOutsideAngular(()=>r.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!No.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(No.isInAngularZone())throw new fe(909,!1)}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,o,fT,Kg,Kg);try{return g.runTask(v,a,u)}finally{g.cancelTask(v)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const fT={};function Ov(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Pv(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function mw(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function kv(r){r._nesting--,Ov(r)}class tm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ji,this.onMicrotaskEmpty=new Ji,this.onStable=new Ji,this.onError=new Ji}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,d){return o.apply(a,u)}}const _w=new Jt(""),vw=new Jt("");let ww,mT=(()=>{class r{constructor(a,u,d){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ww||(function bw(r){ww=r}(d),d.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{No.assertNotInAngularZone(),em(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())em(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,d){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,d){return[]}}return r.\u0275fac=function(a){return new(a||r)(ln(No),ln(yw),ln(vw))},r.\u0275prov=gt({token:r,factory:r.\u0275fac}),r})(),yw=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return ww?.findTestabilityInTree(this,a,u)??null}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=gt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const pl=!1;let Rc=null;const ji=new Jt("AllowMultipleToken"),xv=new Jt("PlatformDestroyListeners"),Dw=new Jt("appBootstrapListener");class vT{constructor(o,a){this.name=o,this.token=a}}function Cw(r,o,a=[]){const u=`Platform: ${o}`,d=new Jt(u);return(g=[])=>{let v=Lu();if(!v||v.injector.get(ji,!1)){const D=[...a,...g,{provide:d,useValue:!0}];r?r(D):function yT(r){if(Rc&&!Rc.get(ji,!1))throw new fe(400,!1);Rc=r;const o=r.get(Iw);(function nm(r){const o=r.get(Mv,null);o&&o.forEach(a=>a())})(r)}(function Tw(r=[],o){return wu.create({name:o,providers:[{provide:Jm,useValue:"platform"},{provide:xv,useValue:new Set([()=>Rc=null])},...r]})}(D,u))}return function im(r){const o=Lu();if(!o)throw new fe(401,!1);return o}()}}function Lu(){return Rc?.get(Iw)??null}let Iw=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const d=function Fv(r,o){let a;return a="noop"===r?new tm:("zone.js"===r?void 0:r)||new No(o),a}(u?.ngZone,function lh(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(u)),g=[{provide:No,useValue:d}];return d.run(()=>{const v=wu.create({providers:g,parent:this.injector,name:a.moduleType.name}),D=a.create(v),C=D.injector.get(yu,null);if(!C)throw new fe(402,!1);return d.runOutsideAngular(()=>{const A=d.onError.subscribe({next:M=>{C.handleError(M)}});D.onDestroy(()=>{uh(this._modules,D),A.unsubscribe()})}),function Sw(r,o,a){try{const u=a();return F_(u)?u.catch(d=>{throw o.runOutsideAngular(()=>r.handleError(d)),d}):u}catch(u){throw o.runOutsideAngular(()=>r.handleError(u)),u}}(C,d,()=>{const A=D.injector.get(Uf);return A.runInitializers(),A.donePromise.then(()=>(Rg(D.injector.get(Xg,Tc)||Tc),this._moduleDoBootstrap(D),D))})})}bootstrapModule(a,u=[]){const d=ch({},u);return function _T(r,o,a){const u=new Vg(a);return Promise.resolve(u)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const u=a.injector.get(Vf);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new fe(-403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(xv,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(a){return new(a||r)(ln(wu))},r.\u0275prov=gt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function ch(r,o){return Array.isArray(o)?o.reduce(ch,r):{...r,...o}}let Vf=(()=>{class r{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,u,d){this._zone=a,this._injector=u,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new P.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),v=new P.y(D=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{No.assertNotInAngularZone(),em(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{No.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{C.unsubscribe(),A.unsubscribe()}});this.isStable=(0,le.T)(g,v.pipe((0,re.B)()))}bootstrap(a,u){const d=a instanceof pc;if(!this._injector.get(Uf).done){!d&&_i(a);throw new fe(405,pl)}let v;v=d?a:this._injector.get(nl).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const D=function Ew(r){return r.isBoundToModule}(v)?void 0:this._injector.get(ku),A=v.create(wu.NULL,[],u||v.selector,D),M=A.location.nativeElement,L=A.injector.get(_w,null);return L?.registerApplication(M),A.onDestroy(()=>{this.detachView(A.hostView),uh(this.components,A),L?.unregisterApplication(M)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new fe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;uh(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(Dw,[]);u.push(...this._bootstrapListeners),u.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>uh(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new fe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(a){return new(a||r)(ln(No),ln(mu),ln(yu))},r.\u0275prov=gt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function uh(r,o){const a=r.indexOf(o);a>-1&&r.splice(a,1)}function ar(){return!1}let Aw=(()=>{class r{}return r.__NG_ELEMENT_ID__=ET,r})();function ET(r){return function Rw(r,o,a){if(xs(r)&&!a){const u=ri(r.index,o);return new Vd(u,u)}return 47&r.type?new Vd(o[Zn],o):null}(oi(),pe(),16==(16&r))}class Hv{constructor(){}supports(o){return vf(o)}create(o){return new Mc(o)}}const um=(r,o)=>o;class Mc{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||um}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,d=0,g=null;for(;a||u;){const v=!u||a&&a.currentIndex<Oc(u,d,g)?a:u,D=Oc(v,d,g),C=v.currentIndex;if(v===u)d--,u=u._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{g||(g=[]);const A=D-d,M=C-d;if(A!=M){for(let z=0;z<A;z++){const te=z<g.length?g[z]:g[z]=0,be=te+z;M<=be&&be<A&&(g[z]=te+1)}g[v.previousIndex]=M-A}}D!==C&&o(v,D,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!vf(o))throw new fe(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,v,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)g=o[D],v=this._trackByFn(D,g),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,g,v,D)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,D),u=!0),a=a._next}else d=0,function f0(r,o){if(Array.isArray(r))for(let a=0;a<r.length;a++)o(r[a]);else{const a=r[Symbol.iterator]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,D=>{v=this._trackByFn(d,D),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,D,v,d)),Object.is(a.item,D)||this._addIdentityChange(a,D)):(a=this._mismatch(a,D,v,d),u=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,d)):o=this._addAfter(new Qt(a,u),g,d),o}_verifyReinsertion(o,a,u,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Mw),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mw),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Qt{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jf{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class Mw{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new jf,this.map.set(a,u)),u.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Oc(r,o,a){const u=r.previousIndex;if(null===u)return u;let d=0;return a&&u<a.length&&(d=a[u]),u+o+d}class Ow{constructor(){}supports(o){return o instanceof Map||jd(o)}create(){return new $f}}class $f{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||jd(o)))throw new fe(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,u);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const u=new Gv(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class Gv{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Pw(){return new hh([new Hv])}let hh=(()=>{class r{constructor(a){this.factories=a}static create(a,u){if(null!=u){const d=u.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:u=>r.create(a,u||Pw()),deps:[[r,new vo,new Ua]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(null!=u)return u;throw new fe(901,!1)}}return r.\u0275prov=gt({token:r,providedIn:"root",factory:Pw}),r})();function jv(){return new fh([new Ow])}let fh=(()=>{class r{constructor(a){this.factories=a}static create(a,u){if(u){const d=u.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:u=>r.create(a,u||jv()),deps:[[r,new vo,new Ua]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(u)return u;throw new fe(901,!1)}}return r.\u0275prov=gt({token:r,providedIn:"root",factory:jv}),r})();const kw=Cw(null,"core",[]);let NT=(()=>{class r{constructor(a){}}return r.\u0275fac=function(a){return new(a||r)(ln(Vf))},r.\u0275mod=ie({type:r}),r.\u0275inj=Yt({}),r})();function MT(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function PT(r,o){const a=mt(r),u=o.elementInjector||Nd();return new Hd(a).create(u,o.projectableNodes,o.hostElement,o.environmentInjector)}},1321:()=>{const ht=":";class Fe extends Error{constructor(K){super(`No translation found for ${rn(K)}.`),this.parsedMessage=K,this.type="MissingTranslationError"}}const Bn=function(ne,...K){if(Bn.translate){const X=Bn.translate(ne,K);ne=X[0],K=X[1]}let ce=Oi(ne[0],ne.raw[0]);for(let X=1;X<ne.length;X++)ce+=K[X-1]+Oi(ne[X],ne.raw[X]);return ce},gi=":";function Oi(ne,K){return K.charAt(0)===gi?ne.substring(function Ze(ne,K){for(let ce=1,X=1;ce<ne.length;ce++,X++)if("\\"===K[X])X++;else if(ne[ce]===ht)return ce;throw new Error(`Unterminated $localize metadata block in "${K}".`)}(ne,K)+1):ne}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=Bn},3942:(ht,Te,k)=>{k.d(Te,{Z:()=>Ye});var l=k(2090),J=k(4859),P=k(6881),le=k(1877);class re{constructor(fe,Ne){this._delegate=fe,this.firebase=Ne,(0,P._addComponent)(fe,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(fe,Ne=P._DEFAULT_ENTRY_NAME){var Me;this._delegate.checkDestroyed();const Ue=this._delegate.container.getProvider(fe);return!Ue.isInitialized()&&"EXPLICIT"===(null===(Me=Ue.getComponent())||void 0===Me?void 0:Me.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:Ne})}_removeServiceInstance(fe,Ne=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(Ne)}_addComponent(fe){(0,P._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,P._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ge(){const at=function we(at){const fe={},Ne={__esModule:!0,initializeApp:function Oe(Pe,nt={}){const se=P.initializeApp(Pe,nt);if((0,l.r3)(fe,se.name))return fe[se.name];const _t=new at(se,Ne);return fe[se.name]=_t,_t},app:Ue,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function De(Pe){const nt=Pe.name,se=nt.replace("-compat","");if(P._registerComponent(Pe)&&"PUBLIC"===Pe.type){const _t=(Ke=Ue())=>{if("function"!=typeof Ke[se])throw ve.create("invalid-app-argument",{appName:nt});return Ke[se]()};void 0!==Pe.serviceProps&&(0,l.ZB)(_t,Pe.serviceProps),Ne[se]=_t,at.prototype[se]=function(...Ke){return this._getService.bind(this,nt).apply(this,Pe.multipleInstances?Ke:[])}}return"PUBLIC"===Pe.type?Ne[se]:null},removeApp:function Me(Pe){delete fe[Pe]},useAsService:function We(Pe,nt){return"serverAuth"===nt?null:nt},modularAPIs:P}};function Ue(Pe){if(!(0,l.r3)(fe,Pe=Pe||P._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:Pe});return fe[Pe]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function me(){return Object.keys(fe).map(Pe=>fe[Pe])}}),Ue.App=at,Ne}(re);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function fe(Ne){(0,l.ZB)(at,Ne)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),at}(),G=new le.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=$;!function Ie(at){(0,P.registerVersion)("@firebase/app-compat","0.2.12",at)}()},6881:(ht,Te,k)=>{k.r(Te),k.d(Te,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Nr,_DEFAULT_ENTRY_NAME:()=>Lt,_addComponent:()=>et,_addOrOverwriteComponent:()=>bt,_apps:()=>Et,_clearComponents:()=>en,_components:()=>Wt,_getProvider:()=>Dn,_registerComponent:()=>mi,_removeServiceInstance:()=>Rn,deleteApp:()=>hr,getApp:()=>zr,getApps:()=>ln,initializeApp:()=>qt,onLog:()=>Mr,registerVersion:()=>Jn,setLogLevel:()=>Tn});var l=k(5861),J=k(4859),P=k(1877),le=k(2090);const re=(he,ie)=>ie.some(xe=>he instanceof xe);let oe,ve;const $=new WeakMap,G=new WeakMap,Z=new WeakMap,Ge=new WeakMap,Ie=new WeakMap;let fe={get(he,ie,xe){if(he instanceof IDBTransaction){if("done"===ie)return G.get(he);if("objectStoreNames"===ie)return he.objectStoreNames||Z.get(he);if("store"===ie)return xe.objectStoreNames[1]?void 0:xe.objectStore(xe.objectStoreNames[0])}return Oe(he[ie])},set:(he,ie,xe)=>(he[ie]=xe,!0),has:(he,ie)=>he instanceof IDBTransaction&&("done"===ie||"store"===ie)||ie in he};function Ue(he){return"function"==typeof he?function Me(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...ie){return he.apply(me(this),ie),Oe($.get(this))}:function(...ie){return Oe(he.apply(me(this),ie))}:function(ie,...xe){const pt=he.call(me(this),ie,...xe);return Z.set(pt,ie.sort?ie.sort():[ie]),Oe(pt)}}(he):(he instanceof IDBTransaction&&function at(he){if(G.has(he))return;const ie=new Promise((xe,pt)=>{const wt=()=>{he.removeEventListener("complete",Ht),he.removeEventListener("error",mt),he.removeEventListener("abort",mt)},Ht=()=>{xe(),wt()},mt=()=>{pt(he.error||new DOMException("AbortError","AbortError")),wt()};he.addEventListener("complete",Ht),he.addEventListener("error",mt),he.addEventListener("abort",mt)});G.set(he,ie)}(he),re(he,function we(){return oe||(oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,fe):he)}function Oe(he){if(he instanceof IDBRequest)return function Ye(he){const ie=new Promise((xe,pt)=>{const wt=()=>{he.removeEventListener("success",Ht),he.removeEventListener("error",mt)},Ht=()=>{xe(Oe(he.result)),wt()},mt=()=>{pt(he.error),wt()};he.addEventListener("success",Ht),he.addEventListener("error",mt)});return ie.then(xe=>{xe instanceof IDBCursor&&$.set(xe,he)}).catch(()=>{}),Ie.set(ie,he),ie}(he);if(Ge.has(he))return Ge.get(he);const ie=Ue(he);return ie!==he&&(Ge.set(he,ie),Ie.set(ie,he)),ie}const me=he=>Ie.get(he),Pe=["get","getKey","getAll","getAllKeys","count"],nt=["put","add","delete","clear"],se=new Map;function _t(he,ie){if(!(he instanceof IDBDatabase)||ie in he||"string"!=typeof ie)return;if(se.get(ie))return se.get(ie);const xe=ie.replace(/FromIndex$/,""),pt=ie!==xe,wt=nt.includes(xe);if(!(xe in(pt?IDBIndex:IDBObjectStore).prototype)||!wt&&!Pe.includes(xe))return;const Ht=function(){var mt=(0,l.Z)(function*(on,...nn){const _i=this.transaction(on,wt?"readwrite":"readonly");let Qn=_i.store;return pt&&(Qn=Qn.index(nn.shift())),(yield Promise.all([Qn[xe](...nn),wt&&_i.done]))[0]});return function(nn){return mt.apply(this,arguments)}}();return se.set(ie,Ht),Ht}!function Ne(he){fe=he(fe)}(he=>({...he,get:(ie,xe,pt)=>_t(ie,xe)||he.get(ie,xe,pt),has:(ie,xe)=>!!_t(ie,xe)||he.has(ie,xe)}));class Ke{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map(xe=>{if(function Pt(he){return"VERSION"===he.getComponent()?.type}(xe)){const pt=xe.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(xe=>xe).join(" ")}}const st="@firebase/app",de=new P.Yd("@firebase/app"),Lt="[DEFAULT]",$t={[st]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,Wt=new Map;function et(he,ie){try{he.container.addComponent(ie)}catch(xe){de.debug(`Component ${ie.name} failed to register with FirebaseApp ${he.name}`,xe)}}function bt(he,ie){he.container.addOrOverwriteComponent(ie)}function mi(he){const ie=he.name;if(Wt.has(ie))return de.debug(`There were multiple attempts to register component ${ie}.`),!1;Wt.set(ie,he);for(const xe of Et.values())et(xe,he);return!0}function Dn(he,ie){const xe=he.container.getProvider("heartbeat").getImmediate({optional:!0});return xe&&xe.triggerHeartbeat(),he.container.getProvider(ie)}function Rn(he,ie,xe=Lt){Dn(he,ie).clearInstance(xe)}function en(){Wt.clear()}const Ii=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cn{constructor(ie,xe,pt){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},xe),this._name=xe.name,this._automaticDataCollectionEnabled=xe.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}const Nr="9.22.2";function qt(he,ie={}){let xe=he;"object"!=typeof ie&&(ie={name:ie});const pt=Object.assign({name:Lt,automaticDataCollectionEnabled:!1},ie),wt=pt.name;if("string"!=typeof wt||!wt)throw Ii.create("bad-app-name",{appName:String(wt)});if(xe||(xe=(0,le.aH)()),!xe)throw Ii.create("no-options");const Ht=Et.get(wt);if(Ht){if((0,le.vZ)(xe,Ht.options)&&(0,le.vZ)(pt,Ht.config))return Ht;throw Ii.create("duplicate-app",{appName:wt})}const mt=new J.H0(wt);for(const nn of Wt.values())mt.addComponent(nn);const on=new cn(xe,pt,mt);return Et.set(wt,on),on}function zr(he=Lt){const ie=Et.get(he);if(!ie&&he===Lt&&(0,le.aH)())return qt();if(!ie)throw Ii.create("no-app",{appName:he});return ie}function ln(){return Array.from(Et.values())}function hr(he){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,l.Z)(function*(he){const ie=he.name;Et.has(ie)&&(Et.delete(ie),yield Promise.all(he.container.getProviders().map(xe=>xe.delete())),he.isDeleted=!0)})).apply(this,arguments)}function Jn(he,ie,xe){var pt;let wt=null!==(pt=$t[he])&&void 0!==pt?pt:he;xe&&(wt+=`-${xe}`);const Ht=wt.match(/\s|\//),mt=ie.match(/\s|\//);if(Ht||mt){const on=[`Unable to register library "${wt}" with version "${ie}":`];return Ht&&on.push(`library name "${wt}" contains illegal characters (whitespace or "/")`),Ht&&mt&&on.push("and"),mt&&on.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void de.warn(on.join(" "))}mi(new J.wA(`${wt}-version`,()=>({library:wt,version:ie}),"VERSION"))}function Mr(he,ie){if(null!==he&&"function"!=typeof he)throw Ii.create("invalid-log-argument");(0,P.Am)(he,ie)}function Tn(he){(0,P.Ub)(he)}const Or="firebase-heartbeat-database",Wi=1,V="firebase-heartbeat-store";let U=null;function Y(){return U||(U=function De(he,ie,{blocked:xe,upgrade:pt,blocking:wt,terminated:Ht}={}){const mt=indexedDB.open(he,ie),on=Oe(mt);return pt&&mt.addEventListener("upgradeneeded",nn=>{pt(Oe(mt.result),nn.oldVersion,nn.newVersion,Oe(mt.transaction),nn)}),xe&&mt.addEventListener("blocked",nn=>xe(nn.oldVersion,nn.newVersion,nn)),on.then(nn=>{Ht&&nn.addEventListener("close",()=>Ht()),wt&&nn.addEventListener("versionchange",_i=>wt(_i.oldVersion,_i.newVersion,_i))}).catch(()=>{}),on}(Or,Wi,{upgrade:(he,ie)=>{0===ie&&he.createObjectStore(V)}}).catch(he=>{throw Ii.create("idb-open",{originalErrorMessage:he.message})})),U}function ee(){return(ee=(0,l.Z)(function*(he){try{return yield(yield Y()).transaction(V).objectStore(V).get(tn(he))}catch(ie){if(ie instanceof le.ZR)de.warn(ie.message);else{const xe=Ii.create("idb-get",{originalErrorMessage:ie?.message});de.warn(xe.message)}}})).apply(this,arguments)}function Le(he,ie){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,l.Z)(function*(he,ie){try{const pt=(yield Y()).transaction(V,"readwrite");yield pt.objectStore(V).put(ie,tn(he)),yield pt.done}catch(xe){if(xe instanceof le.ZR)de.warn(xe.message);else{const pt=Ii.create("idb-set",{originalErrorMessage:xe?.message});de.warn(pt.message)}}})).apply(this,arguments)}function tn(he){return`${he.name}!${he.options.appId}`}class dn{constructor(ie){this.container=ie,this._heartbeatsCache=null;const xe=this.container.getProvider("app").getImmediate();this._storage=new Pr(xe),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var ie=this;return(0,l.Z)(function*(){const pt=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wt=Zt();if(null===ie._heartbeatsCache&&(ie._heartbeatsCache=yield ie._heartbeatsCachePromise),ie._heartbeatsCache.lastSentHeartbeatDate!==wt&&!ie._heartbeatsCache.heartbeats.some(Ht=>Ht.date===wt))return ie._heartbeatsCache.heartbeats.push({date:wt,agent:pt}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(Ht=>{const mt=new Date(Ht.date).valueOf();return Date.now()-mt<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache)})()}getHeartbeatsHeader(){var ie=this;return(0,l.Z)(function*(){if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null===ie._heartbeatsCache||0===ie._heartbeatsCache.heartbeats.length)return"";const xe=Zt(),{heartbeatsToSend:pt,unsentEntries:wt}=function Pi(he,ie=1024){const xe=[];let pt=he.slice();for(const wt of he){const Ht=xe.find(mt=>mt.agent===wt.agent);if(Ht){if(Ht.dates.push(wt.date),Yr(xe)>ie){Ht.dates.pop();break}}else if(xe.push({agent:wt.agent,dates:[wt.date]}),Yr(xe)>ie){xe.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:xe,unsentEntries:pt}}(ie._heartbeatsCache.heartbeats),Ht=(0,le.L)(JSON.stringify({version:2,heartbeats:pt}));return ie._heartbeatsCache.lastSentHeartbeatDate=xe,wt.length>0?(ie._heartbeatsCache.heartbeats=wt,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),Ht})()}}function Zt(){return(new Date).toISOString().substring(0,10)}class Pr{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,l.Z)(function*(){return(yield ie._canUseIndexedDBPromise)&&(yield function ye(he){return ee.apply(this,arguments)}(ie.app))||{heartbeats:[]}})()}overwrite(ie){var xe=this;return(0,l.Z)(function*(){var pt;if(yield xe._canUseIndexedDBPromise){const Ht=yield xe.read();return Le(xe.app,{lastSentHeartbeatDate:null!==(pt=ie.lastSentHeartbeatDate)&&void 0!==pt?pt:Ht.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var xe=this;return(0,l.Z)(function*(){var pt;if(yield xe._canUseIndexedDBPromise){const Ht=yield xe.read();return Le(xe.app,{lastSentHeartbeatDate:null!==(pt=ie.lastSentHeartbeatDate)&&void 0!==pt?pt:Ht.lastSentHeartbeatDate,heartbeats:[...Ht.heartbeats,...ie.heartbeats]})}})()}}function Yr(he){return(0,le.L)(JSON.stringify({version:2,heartbeats:he})).length}!function pa(he){mi(new J.wA("platform-logger",ie=>new Ke(ie),"PRIVATE")),mi(new J.wA("heartbeat",ie=>new dn(ie),"PRIVATE")),Jn(st,"0.9.12",he),Jn(st,"0.9.12","esm2017"),Jn("fire-js","")}("")},4859:(ht,Te,k)=>{k.d(Te,{H0:()=>we,wA:()=>P,zt:()=>re});var l=k(5861),J=k(2090);class P{constructor($,G,Z){this.name=$,this.instanceFactory=G,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const le="[DEFAULT]";class re{constructor($,G){this.name=$,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const G=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(G)){const Z=new J.BH;if(this.instancesDeferred.set(G,Z),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:G});Ge&&Z.resolve(Ge)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate($){var G;const Z=this.normalizeInstanceIdentifier($?.identifier),Ge=null!==(G=$?.optional)&&void 0!==G&&G;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(Ie){if(Ge)return null;throw Ie}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ve(ge){return"EAGER"===ge.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[G,Z]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(G);try{const Ie=this.getOrInitializeService({instanceIdentifier:Ge});Z.resolve(Ie)}catch{}}}}clearInstance($=le){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,l.Z)(function*(){const G=Array.from($.instances.values());yield Promise.all([...G.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...G.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=le){return this.instances.has($)}getOptions($=le){return this.instancesOptions.get($)||{}}initialize($={}){const{options:G={}}=$,Z=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:Z,options:G});for(const[Ie,Ye]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(Ie)&&Ye.resolve(Ge);return Ge}onInit($,G){var Z;const Ge=this.normalizeInstanceIdentifier(G),Ie=null!==(Z=this.onInitCallbacks.get(Ge))&&void 0!==Z?Z:new Set;Ie.add($),this.onInitCallbacks.set(Ge,Ie);const Ye=this.instances.get(Ge);return Ye&&$(Ye,Ge),()=>{Ie.delete($)}}invokeOnInitCallbacks($,G){const Z=this.onInitCallbacks.get(G);if(Z)for(const Ge of Z)try{Ge($,G)}catch{}}getOrInitializeService({instanceIdentifier:$,options:G={}}){let Z=this.instances.get($);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=$,ge===le?void 0:ge),options:G}),this.instances.set($,Z),this.instancesOptions.set($,G),this.invokeOnInitCallbacks(Z,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,Z)}catch{}var ge;return Z||null}normalizeInstanceIdentifier($=le){return this.component?this.component.multipleInstances?$:le:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor($){this.name=$,this.providers=new Map}addComponent($){const G=this.getProvider($.name);if(G.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);G.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const G=new re($,this);return this.providers.set($,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,Te,k)=>{k.d(Te,{Am:()=>ge,Ub:()=>we,Yd:()=>ve,in:()=>J});const l=[];var J=(()=>{return($=J||(J={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",J;var $})();const P={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},le=J.INFO,re={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},oe=($,G,...Z)=>{if(G<$.logLevel)return;const Ge=(new Date).toISOString(),Ie=re[G];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Ie](`[${Ge}]  ${$.name}:`,...Z)};class ve{constructor(G){this.name=G,this._logLevel=le,this._logHandler=oe,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in J))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?P[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...G),this._logHandler(this,J.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...G),this._logHandler(this,J.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,J.INFO,...G),this._logHandler(this,J.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,J.WARN,...G),this._logHandler(this,J.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...G),this._logHandler(this,J.ERROR,...G)}}function we($){l.forEach(G=>{G.setLogLevel($)})}function ge($,G){for(const Z of l){let Ge=null;G&&G.level&&(Ge=P[G.level]),Z.userLogHandler=null===$?null:(Ie,Ye,...at)=>{const fe=at.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");Ye>=(Ge??Ie.logLevel)&&$({level:J[Ye].toLowerCase(),message:fe,args:at,type:Ie.name})}}}},259:(ht,Te,k)=>{k.d(Te,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=k(6881);(0,l.registerVersion)("firebase","9.22.2","app")},9260:(ht,Te,k)=>{k.d(Te,{Z:()=>l.Z});var l=k(3942);l.Z.registerVersion("firebase","9.22.2","app-compat")},2644:(ht,Te,k)=>{k.r(Te);var l=k(5861),J=k(3942),P=k(2090),le=k(6881),re=k(7582),oe=k(1877),ve=k(4859);const ge={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z_EMAIL_SIGNIN="EMAIL_SIGNIN",Z_PASSWORD_RESET="PASSWORD_RESET",Z_RECOVER_EMAIL="RECOVER_EMAIL",Z_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",Z_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",Z_VERIFY_EMAIL="VERIFY_EMAIL";const Ye=function Ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},at=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Me=new oe.Yd("@firebase/auth");function Oe(_,...f){Me.logLevel<=oe.in.ERROR&&Me.error(`Auth (${le.SDK_VERSION}): ${_}`,...f)}function me(_,...f){throw nt(_,...f)}function De(_,...f){return nt(_,...f)}function We(_,f,p){const y=Object.assign(Object.assign({},at()),{[f]:p});return new P.LL("auth","Firebase",y).create(f,{appName:_.name})}function Pe(_,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&me(_,"argument-error"),We(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nt(_,...f){if("string"!=typeof _){const p=f[0],y=[...f.slice(1)];return y[0]&&(y[0].appName=_.name),_._errorFactory.create(p,...y)}return fe.create(_,...f)}function se(_,f,...p){if(!_)throw nt(f,...p)}function _t(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Oe(f),new Error(f)}function Ke(_,f){_||_t(f)}function Pt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function st(){return"http:"===so()||"https:"===so()}function so(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ce{constructor(f,p){this.shortDelay=f,this.longDelay=p,Ke(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function de(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(st()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Se(_,f){Ke(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class Ze{static initialize(f,p,y){this.fetchImpl=f,p&&(this.headersImpl=p),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _t("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _t("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _t("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Je=new Ce(3e4,6e4);function ut(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Nt(_,f,p,y){return ft.apply(this,arguments)}function ft(){return(ft=(0,l.Z)(function*(_,f,p,y,I={}){return gt(_,I,(0,l.Z)(function*(){let N={},H={};y&&("GET"===f?H=y:N={body:JSON.stringify(y)});const Q=(0,P.xO)(Object.assign({key:_.config.apiKey},H)).slice(1),Re=yield _._getAdditionalHeaders();return Re["Content-Type"]="application/json",_.languageCode&&(Re["X-Firebase-Locale"]=_.languageCode),Ze.fetch()(fi(_,_.config.apiHost,p,Q),Object.assign({method:f,headers:Re,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function gt(_,f,p){return rn.apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(_,f,p){_._canInitEmulator=!1;const y=Object.assign(Object.assign({},Fe),f);try{const I=new pi(_),N=yield Promise.race([p(),I.promise]);I.clearNetworkTimeout();const H=yield N.json();if("needConfirmation"in H)throw Bn(_,"account-exists-with-different-credential",H);if(N.ok&&!("errorMessage"in H))return H;{const Q=N.ok?H.errorMessage:H.error.message,[Re,ze]=Q.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw Bn(_,"credential-already-in-use",H);if("EMAIL_EXISTS"===Re)throw Bn(_,"email-already-in-use",H);if("USER_DISABLED"===Re)throw Bn(_,"user-disabled",H);const Be=y[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if(ze)throw We(_,Be,ze);me(_,Be)}}catch(I){if(I instanceof P.ZR)throw I;me(_,"network-request-failed",{message:String(I)})}})).apply(this,arguments)}function Yt(_,f,p,y){return vn.apply(this,arguments)}function vn(){return(vn=(0,l.Z)(function*(_,f,p,y,I={}){const N=yield Nt(_,f,p,y,I);return"mfaPendingCredential"in N&&me(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function fi(_,f,p,y){const I=`${f}${p}?${y}`;return _.config.emulator?Se(_.config,I):`${_.config.apiScheme}://${I}`}class pi{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,y)=>{this.timer=setTimeout(()=>y(De(this.auth,"network-request-failed")),Je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bn(_,f,p){const y={appName:_.name};p.email&&(y.email=p.email),p.phoneNumber&&(y.phoneNumber=p.phoneNumber);const I=De(_,f,y);return I.customData._tokenResponse=p,I}function Oi(){return(Oi=(0,l.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function K(){return(K=(0,l.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function X(){return(X=(0,l.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Ve(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Lt(){return(Lt=(0,l.Z)(function*(_,f=!1){const p=(0,P.m9)(_),y=yield p.getIdToken(f),I=Et(y);se(I&&I.exp&&I.auth_time&&I.iat,p.auth,"internal-error");const N="object"==typeof I.firebase?I.firebase:void 0,H=N?.sign_in_provider;return{claims:I,token:y,authTime:Ve($t(I.auth_time)),issuedAtTime:Ve($t(I.iat)),expirationTime:Ve($t(I.exp)),signInProvider:H||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function $t(_){return 1e3*Number(_)}function Et(_){const[f,p,y]=_.split(".");if(void 0===f||void 0===p||void 0===y)return Oe("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,P.tV)(p);return I?JSON.parse(I):(Oe("Failed to decode base64 JWT payload"),null)}catch(I){return Oe("Caught error parsing JWT payload as JSON",I?.toString()),null}}function et(_,f){return bt.apply(this,arguments)}function bt(){return(bt=(0,l.Z)(function*(_,f,p=!1){if(p)return f;try{return yield f}catch(y){throw y instanceof P.ZR&&function mi({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(y)&&_.auth.currentUser===_&&(yield _.auth.signOut()),y}})).apply(this,arguments)}class Dn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const I=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const y=this.getInterval(f);this.timerId=setTimeout((0,l.Z)(function*(){yield p.iteration()}),y)}iteration(){var f=this;return(0,l.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&f.schedule(!0))}f.schedule()})()}}class Rn{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ve(this.lastLoginAt),this.creationTime=Ve(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function en(_){return fn.apply(this,arguments)}function fn(){return fn=(0,l.Z)(function*(_){var f;const p=_.auth,y=yield _.getIdToken(),I=yield et(_,function ce(_,f){return X.apply(this,arguments)}(p,{idToken:y}));se(I?.users.length,p,"internal-error");const N=I.users[0];_._notifyReloadListener(N);const H=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?function qt(_){return _.map(f=>{var{providerId:p}=f,y=(0,re._T)(f,["providerId"]);return{providerId:p,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}(N.providerUserInfo):[],Q=function Nr(_,f){return[..._.filter(y=>!f.some(I=>I.providerId===y.providerId)),...f]}(_.providerData,H),Be=!!_.isAnonymous&&!(_.email&&N.passwordHash||Q?.length),rt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:Q,metadata:new Rn(N.createdAt,N.lastLoginAt),isAnonymous:Be};Object.assign(_,rt)}),fn.apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(_){const f=(0,P.m9)(_);yield en(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function ln(){return(ln=(0,l.Z)(function*(_,f){const p=yield gt(_,{},(0,l.Z)(function*(){const y=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:I,apiKey:N}=_.config,H=fi(_,I,"/v1/token",`key=${N}`),Q=yield _._getAdditionalHeaders();return Q["Content-Type"]="application/x-www-form-urlencoded",Ze.fetch()(H,{method:"POST",headers:Q,body:y})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class hr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){se(f.idToken,"internal-error"),se(typeof f.idToken<"u","internal-error"),se(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Wt(_){const f=Et(_);return se(f,"internal-error"),se(typeof f.exp<"u","internal-error"),se(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var y=this;return(0,l.Z)(function*(){return se(!y.accessToken||y.refreshToken,f,"user-token-expired"),p||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(f,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var y=this;return(0,l.Z)(function*(){const{accessToken:I,refreshToken:N,expiresIn:H}=yield function zr(_,f){return ln.apply(this,arguments)}(f,p);y.updateTokensAndExpiration(I,N,Number(H))})()}updateTokensAndExpiration(f,p,y){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(f,p){const{refreshToken:y,accessToken:I,expirationTime:N}=p,H=new hr;return y&&(se("string"==typeof y,"internal-error",{appName:f}),H.refreshToken=y),I&&(se("string"==typeof I,"internal-error",{appName:f}),H.accessToken=I),N&&(se("number"==typeof N,"internal-error",{appName:f}),H.expirationTime=N),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new hr,this.toJSON())}_performRefresh(){return _t("not implemented")}}function Hn(_,f){se("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class Jn{constructor(f){var{uid:p,auth:y,stsTokenManager:I}=f,N=(0,re._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=y,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Rn(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,l.Z)(function*(){const y=yield et(p,p.stsTokenManager.getToken(p.auth,f));return se(y,p.auth,"internal-error"),p.accessToken!==y&&(p.accessToken=y,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),y})()}getIdTokenResult(f){return function Xt(_){return Lt.apply(this,arguments)}(this,f)}reload(){return function Ii(_){return cn.apply(this,arguments)}(this)}_assign(f){this!==f&&(se(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const p=new Jn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(f){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var y=this;return(0,l.Z)(function*(){let I=!1;f.idToken&&f.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(f),I=!0),p&&(yield en(y)),yield y.auth._persistUserIfCurrent(y),I&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var f=this;return(0,l.Z)(function*(){const p=yield f.getIdToken();return yield et(f,function gi(_,f){return Oi.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var y,I,N,H,Q,Re,ze,Be;const rt=null!==(y=p.displayName)&&void 0!==y?y:void 0,An=null!==(I=p.email)&&void 0!==I?I:void 0,Ir=null!==(N=p.phoneNumber)&&void 0!==N?N:void 0,ta=null!==(H=p.photoURL)&&void 0!==H?H:void 0,Qa=null!==(Q=p.tenantId)&&void 0!==Q?Q:void 0,mn=null!==(Re=p._redirectEventId)&&void 0!==Re?Re:void 0,dc=null!==(ze=p.createdAt)&&void 0!==ze?ze:void 0,Ft=null!==(Be=p.lastLoginAt)&&void 0!==Be?Be:void 0,{uid:fu,emailVerified:Xa,isAnonymous:Pp,providerData:kn,stsTokenManager:Sd}=p;se(fu&&Sd,f,"internal-error");const $m=hr.fromJSON(this.name,Sd);se("string"==typeof fu,f,"internal-error"),Hn(rt,f.name),Hn(An,f.name),se("boolean"==typeof Xa,f,"internal-error"),se("boolean"==typeof Pp,f,"internal-error"),Hn(Ir,f.name),Hn(ta,f.name),Hn(Qa,f.name),Hn(mn,f.name),Hn(dc,f.name),Hn(Ft,f.name);const hc=new Jn({uid:fu,auth:f,email:An,emailVerified:Xa,displayName:rt,isAnonymous:Pp,photoURL:ta,phoneNumber:Ir,tenantId:Qa,stsTokenManager:$m,createdAt:dc,lastLoginAt:Ft});return kn&&Array.isArray(kn)&&(hc.providerData=kn.map(Wm=>Object.assign({},Wm))),mn&&(hc._redirectEventId=mn),hc}static _fromIdTokenResponse(f,p,y=!1){return(0,l.Z)(function*(){const I=new hr;I.updateFromServerResponse(p);const N=new Jn({uid:p.localId,auth:f,stsTokenManager:I,isAnonymous:y});return yield en(N),N})()}}const Mr=new Map;function Tn(_){Ke(_ instanceof Function,"Expected a class definition");let f=Mr.get(_);return f?(Ke(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,Mr.set(_,f),f)}const Wi=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(p,y){var I=this;return(0,l.Z)(function*(){I.storage[p]=y})()}_get(p){var y=this;return(0,l.Z)(function*(){const I=y.storage[p];return void 0===I?null:I})()}_remove(p){var y=this;return(0,l.Z)(function*(){delete y.storage[p]})()}_addListener(p,y){}_removeListener(p,y){}}return _.type="NONE",_})();function V(_,f,p){return`firebase:${_}:${f}:${p}`}class U{constructor(f,p,y){this.persistence=f,this.auth=p,this.userKey=y;const{config:I,name:N}=this.auth;this.fullUserKey=V(this.userKey,I.apiKey,N),this.fullPersistenceKey=V("persistence",I.apiKey,N),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?Jn._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,l.Z)(function*(){if(p.persistence===f)return;const y=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,y?p.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,y="authUser"){return(0,l.Z)(function*(){if(!p.length)return new U(Tn(Wi),f,y);const I=(yield Promise.all(p.map(function(){var ze=(0,l.Z)(function*(Be){if(yield Be._isAvailable())return Be});return function(Be){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let N=I[0]||Tn(Wi);const H=V(y,f.config.apiKey,f.name);let Q=null;for(const ze of p)try{const Be=yield ze._get(H);if(Be){const rt=Jn._fromJSON(f,Be);ze!==N&&(Q=rt),N=ze;break}}catch{}const Re=I.filter(ze=>ze._shouldAllowMigration);return N._shouldAllowMigration&&Re.length?(N=Re[0],Q&&(yield N._set(H,Q.toJSON())),yield Promise.all(p.map(function(){var ze=(0,l.Z)(function*(Be){if(Be!==N)try{yield Be._remove(H)}catch{}});return function(Be){return ze.apply(this,arguments)}}())),new U(N,f,y)):new U(N,f,y)})()}}function Y(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ct(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ye(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(zn(f))return"Blackberry";if(Nn(f))return"Webos";if(ee(f))return"Safari";if((f.includes("chrome/")||Le(f))&&!f.includes("edge/"))return"Chrome";if(tn(f))return"Android";{const y=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function ye(_=(0,P.z$)()){return/firefox\//i.test(_)}function ee(_=(0,P.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Le(_=(0,P.z$)()){return/crios\//i.test(_)}function Ct(_=(0,P.z$)()){return/iemobile/i.test(_)}function tn(_=(0,P.z$)()){return/android/i.test(_)}function zn(_=(0,P.z$)()){return/blackberry/i.test(_)}function Nn(_=(0,P.z$)()){return/webos/i.test(_)}function dn(_=(0,P.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Yr(_=(0,P.z$)()){return dn(_)||tn(_)||Nn(_)||zn(_)||/windows phone/i.test(_)||Ct(_)}function he(_,f=[]){let p;switch(_){case"Browser":p=Y((0,P.z$)());break;case"Worker":p=`${Y((0,P.z$)())}-${_}`;break;default:p=_}const y=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${le.SDK_VERSION}/${y}`}function xe(){return(xe=(0,l.Z)(function*(_){return(yield Nt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function pt(_,f){return wt.apply(this,arguments)}function wt(){return(wt=(0,l.Z)(function*(_,f){return Nt(_,"GET","/v2/recaptchaConfig",ut(_,f))})).apply(this,arguments)}function Ht(_){return void 0!==_&&void 0!==_.getResponse}function mt(_){return void 0!==_&&void 0!==_.enterprise}class on{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function _i(_){return new Promise((f,p)=>{const y=document.createElement("script");y.setAttribute("src",_),y.onload=f,y.onerror=I=>{const N=De("internal-error");N.customData=I,p(N)},y.type="text/javascript",y.charset="UTF-8",function nn(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(y)})}function Qn(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Os="NO_RECAPTCHA";class fr{constructor(f){this.type="recaptcha-enterprise",this.auth=pn(f)}verify(f="verify",p=!1){var y=this;return(0,l.Z)(function*(){function N(){return N=(0,l.Z)(function*(Q){if(!p){if(null==Q.tenantId&&null!=Q._agentRecaptchaConfig)return Q._agentRecaptchaConfig.siteKey;if(null!=Q.tenantId&&void 0!==Q._tenantRecaptchaConfigs[Q.tenantId])return Q._tenantRecaptchaConfigs[Q.tenantId].siteKey}return new Promise(function(){var Re=(0,l.Z)(function*(ze,Be){pt(Q,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(rt=>{if(void 0!==rt.recaptchaKey){const An=new on(rt);return null==Q.tenantId?Q._agentRecaptchaConfig=An:Q._tenantRecaptchaConfigs[Q.tenantId]=An,ze(An.siteKey)}Be(new Error("recaptcha Enterprise site key undefined"))}).catch(rt=>{Be(rt)})});return function(ze,Be){return Re.apply(this,arguments)}}())}),N.apply(this,arguments)}function H(Q,Re,ze){const Be=window.grecaptcha;mt(Be)?Be.enterprise.ready(()=>{Be.enterprise.execute(Q,{action:f}).then(rt=>{Re(rt)}).catch(()=>{Re(Os)})}):ze(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Q,Re)=>{(function I(Q){return N.apply(this,arguments)})(y.auth).then(ze=>{if(!p&&mt(window.grecaptcha))H(ze,Q,Re);else{if(typeof window>"u")return void Re(new Error("RecaptchaVerifier is only supported in browser"));_i("https://www.google.com/recaptcha/enterprise.js?render="+ze).then(()=>{H(ze,Q,Re)}).catch(Be=>{Re(Be)})}}).catch(ze=>{Re(ze)})})})()}}function Qe(_,f,p){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,l.Z)(function*(_,f,p,y=!1){const I=new fr(_);let N;try{N=yield I.verify(p)}catch{N=yield I.verify(p,!0)}const H=Object.assign({},f);return Object.assign(H,y?{captchaResp:N}:{captchaResponse:N}),Object.assign(H,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(H,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),H})).apply(this,arguments)}class In{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const y=N=>new Promise((H,Q)=>{try{H(f(N))}catch(Re){Q(Re)}});y.onAbort=p,this.queue.push(y);const I=this.queue.length-1;return()=>{this.queue[I]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,l.Z)(function*(){if(p.auth.currentUser===f)return;const y=[];try{for(const I of p.queue)yield I(f),I.onAbort&&y.push(I.onAbort)}catch(I){y.reverse();for(const N of y)try{N()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:I?.message})}})()}}class pr{constructor(f,p,y,I){this.app=f,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=y,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xn(this),this.idTokenSubscription=new Xn(this),this.beforeStateQueue=new In(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(f,p){var y=this;return p&&(this._popupRedirectResolver=Tn(p)),this._initializationPromise=this.queue((0,l.Z)(function*(){var I,N;if(!y._deleted&&(y.persistenceManager=yield U.create(y,f),!y._deleted)){if(null!==(I=y._popupRedirectResolver)&&void 0!==I&&I._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(p),y.lastNotifiedUid=(null===(N=y.currentUser)||void 0===N?void 0:N.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,l.Z)(function*(){var y;const I=yield p.assertedPersistence.getCurrentUser();let N=I,H=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Q=null===(y=p.redirectUser)||void 0===y?void 0:y._redirectEventId,Re=N?._redirectEventId,ze=yield p.tryRedirectSignIn(f);(!Q||Q===Re)&&ze?.user&&(N=ze.user,H=!0)}if(!N)return p.directlySetCurrentUser(null);if(!N._redirectEventId){if(H)try{yield p.beforeStateQueue.runMiddleware(N)}catch(Q){N=I,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Q))}return N?p.reloadAndSetCurrentUserOrClear(N):p.directlySetCurrentUser(null)}return se(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===N._redirectEventId?p.directlySetCurrentUser(N):p.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var p=this;return(0,l.Z)(function*(){let y=null;try{y=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,l.Z)(function*(){try{yield en(f)}catch(y){if("auth/network-request-failed"!==y?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function _e(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,l.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,l.Z)(function*(){const y=f?(0,P.m9)(f):null;return y&&se(y.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(y&&y._clone(p))})()}_updateCurrentUser(f,p=!1){var y=this;return(0,l.Z)(function*(){if(!y._deleted)return f&&se(y.tenantId===f.tenantId,y,"tenant-id-mismatch"),p||(yield y.beforeStateQueue.runMiddleware(f)),y.queue((0,l.Z)(function*(){yield y.directlySetCurrentUser(f),y.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,l.Z)(function*(){yield p.assertedPersistence.setPersistence(Tn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,l.Z)(function*(){const p=yield pt(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),y=new on(p);null==f.tenantId?f._agentRecaptchaConfig=y:f._tenantRecaptchaConfigs[f.tenantId]=y,y.emailPasswordEnabled&&new fr(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,p,y){return this.registerStateListener(this.authStateSubscription,f,p,y)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,y){return this.registerStateListener(this.idTokenSubscription,f,p,y)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var y=this;return(0,l.Z)(function*(){const I=yield y.getOrInitRedirectPersistenceManager(p);return null===f?I.removeCurrentUser():I.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,l.Z)(function*(){if(!p.redirectPersistenceManager){const y=f&&Tn(f)||p._popupRedirectResolver;se(y,p,"argument-error"),p.redirectPersistenceManager=yield U.create(p,[Tn(y._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,l.Z)(function*(){var y,I;return p._isInitialized&&(yield p.queue((0,l.Z)(function*(){}))),(null===(y=p._currentUser)||void 0===y?void 0:y._redirectEventId)===f?p._currentUser:(null===(I=p.redirectUser)||void 0===I?void 0:I._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,l.Z)(function*(){if(f===p.currentUser)return p.queue((0,l.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,y,I){if(this._deleted)return()=>{};const N="function"==typeof p?p:p.next.bind(p),H=this._isInitialized?Promise.resolve():this._initializationPromise;return se(H,this,"internal-error"),H.then(()=>N(this.currentUser)),"function"==typeof p?f.addObserver(p,y,I):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,l.Z)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=he(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.Z)(function*(){var p;const y={"X-Client-Version":f.clientVersion};f.app.options.appId&&(y["X-Firebase-gmpid"]=f.app.options.appId);const I=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();I&&(y["X-Firebase-Client"]=I);const N=yield f._getAppCheckToken();return N&&(y["X-Firebase-AppCheck"]=N),y})()}_getAppCheckToken(){var f=this;return(0,l.Z)(function*(){var p;const y=yield null===(p=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return y?.error&&function Ue(_,...f){Me.logLevel<=oe.in.WARN&&Me.warn(`Auth (${le.SDK_VERSION}): ${_}`,...f)}(`Error while retrieving App Check token: ${y.error}`),y?.token})()}}function pn(_){return(0,P.m9)(_)}class Xn{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(p=>this.observer=p)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yn(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function ma(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class ao{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return _t("not implemented")}_getIdTokenResponse(f){return _t("not implemented")}_linkToIdToken(f,p){return _t("not implemented")}_getReauthenticationResolver(f){return _t("not implemented")}}function qo(_,f){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:resetPassword",ut(_,f))})).apply(this,arguments)}function Ps(_,f){return lo.apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Po(){return(Po=(0,l.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:update",ut(_,f))})).apply(this,arguments)}function En(_,f){return yn.apply(this,arguments)}function yn(){return(yn=(0,l.Z)(function*(_,f){return Yt(_,"POST","/v1/accounts:signInWithPassword",ut(_,f))})).apply(this,arguments)}function Qi(_,f){return _a.apply(this,arguments)}function _a(){return(_a=(0,l.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:sendOobCode",ut(_,f))})).apply(this,arguments)}function ks(){return(ks=(0,l.Z)(function*(_,f){return Qi(_,f)})).apply(this,arguments)}function ko(_,f){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,l.Z)(function*(_,f){return Qi(_,f)})).apply(this,arguments)}function vi(_,f){return wl.apply(this,arguments)}function wl(){return(wl=(0,l.Z)(function*(_,f){return Qi(_,f)})).apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(_,f){return Qi(_,f)})).apply(this,arguments)}function xs(){return(xs=(0,l.Z)(function*(_,f){return Yt(_,"POST","/v1/accounts:signInWithEmailLink",ut(_,f))})).apply(this,arguments)}function gr(){return(gr=(0,l.Z)(function*(_,f){return Yt(_,"POST","/v1/accounts:signInWithEmailLink",ut(_,f))})).apply(this,arguments)}class Dl extends ao{constructor(f,p,y,I=null){super("password",y),this._email=f,this._password=p,this._tenantId=I}static _fromEmailAndPassword(f,p){return new Dl(f,p,"password")}static _fromEmailAndCode(f,p,y=null){return new Dl(f,p,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,l.Z)(function*(){var y;switch(p.signInMethod){case"password":const I={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=f._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const N=yield Qe(f,I,"signInWithPassword");return En(f,N)}return En(f,I).catch(function(){var N=(0,l.Z)(function*(H){if("auth/missing-recaptcha-token"===H.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Q=yield Qe(f,I,"signInWithPassword");return En(f,Q)}return Promise.reject(H)});return function(H){return N.apply(this,arguments)}}());case"emailLink":return function va(_,f){return xs.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:me(f,"internal-error")}})()}_linkToIdToken(f,p){var y=this;return(0,l.Z)(function*(){switch(y.signInMethod){case"password":return Ps(f,{idToken:p,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Lc(_,f){return gr.apply(this,arguments)}(f,{idToken:p,email:y._email,oobCode:y._password});default:me(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function xr(_,f){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,l.Z)(function*(_,f){return Yt(_,"POST","/v1/accounts:signInWithIdp",ut(_,f))})).apply(this,arguments)}class co extends ao{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new co(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):me("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:y,signInMethod:I}=p,N=(0,re._T)(p,["providerId","signInMethod"]);if(!y||!I)return null;const H=new co(y,I);return H.idToken=N.idToken||void 0,H.accessToken=N.accessToken||void 0,H.secret=N.secret,H.nonce=N.nonce,H.pendingToken=N.pendingToken||null,H}_getIdTokenResponse(f){return xr(f,this.buildRequest())}_linkToIdToken(f,p){const y=this.buildRequest();return y.idToken=p,xr(f,y)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,xr(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,P.xO)(p)}return f}}function Bc(){return(Bc=(0,l.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:sendVerificationCode",ut(_,f))})).apply(this,arguments)}function Uc(){return(Uc=(0,l.Z)(function*(_,f){return Yt(_,"POST","/v1/accounts:signInWithPhoneNumber",ut(_,f))})).apply(this,arguments)}function El(){return(El=(0,l.Z)(function*(_,f){const p=yield Yt(_,"POST","/v1/accounts:signInWithPhoneNumber",ut(_,f));if(p.temporaryProof)throw Bn(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Gu={USER_NOT_FOUND:"user-not-found"};function Cl(){return(Cl=(0,l.Z)(function*(_,f){return Yt(_,"POST","/v1/accounts:signInWithPhoneNumber",ut(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Gu)})).apply(this,arguments)}class mr extends ao{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new mr({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new mr({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function up(_,f){return Uc.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function dp(_,f){return El.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Om(_,f){return Cl.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:y,verificationCode:I}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:y,code:I}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:y,phoneNumber:I,temporaryProof:N}=f;return y||p||I||N?new mr({verificationId:p,verificationCode:y,phoneNumber:I,temporaryProof:N}):null}}class Fs{constructor(f){var p,y,I,N,H,Q;const Re=(0,P.zd)((0,P.pd)(f)),ze=null!==(p=Re.apiKey)&&void 0!==p?p:null,Be=null!==(y=Re.oobCode)&&void 0!==y?y:null,rt=function Ch(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=Re.mode)&&void 0!==I?I:null);se(ze&&Be&&rt,"argument-error"),this.apiKey=ze,this.operation=rt,this.code=Be,this.continueUrl=null!==(N=Re.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(H=Re.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(Q=Re.tenantId)&&void 0!==Q?Q:null}static parseLink(f){const p=function ju(_){const f=(0,P.zd)((0,P.pd)(_)).link,p=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,y=(0,P.zd)((0,P.pd)(_)).deep_link_id;return(y?(0,P.zd)((0,P.pd)(y)).link:null)||y||p||f||_}(f);try{return new Fs(p)}catch{return null}}}let $u=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,y){return Dl._fromEmailAndPassword(p,y)}static credentialWithLink(p,y){const I=Fs.parseLink(y);return se(I,"argument-error"),Dl._fromEmailAndCode(p,I.code,I.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class xo{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Zr extends xo{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Jo extends Zr{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return se("providerId"in p&&"signInMethod"in p,"argument-error"),co._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return se(f.idToken||f.accessToken,"argument-error"),co._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Jo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Jo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:y,oauthTokenSecret:I,pendingToken:N,nonce:H,providerId:Q}=f;if(!y&&!I&&!p&&!N||!Q)return null;try{return new Jo(Q)._credential({idToken:p,accessToken:y,nonce:H,pendingToken:N})}catch{return null}}}let Vc=(()=>{class _ extends Zr{constructor(){super("facebook.com")}static credential(p){return co._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),ya=(()=>{class _ extends Zr{constructor(){super("google.com"),this.addScope("profile")}static credential(p,y){return co._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:y})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:y,oauthAccessToken:I}=p;if(!y&&!I)return null;try{return _.credential(y,I)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Wu=(()=>{class _ extends Zr{constructor(){super("github.com")}static credential(p){return co._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Fo extends ao{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return xr(f,this.buildRequest())}_linkToIdToken(f,p){const y=this.buildRequest();return y.idToken=p,xr(f,y)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,xr(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:y,signInMethod:I,pendingToken:N}=p;return y&&I&&N&&y===I?new Fo(y,N):null}static _create(f,p){return new Fo(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Tl extends xo{constructor(f){se(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Tl.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Tl.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=Fo.fromJSON(f);return se(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:y}=f;if(!p||!y)return null;try{return Fo._create(y,p)}catch{return null}}}let Il=(()=>{class _ extends Zr{constructor(){super("twitter.com")}static credential(p,y){return co._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:y})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:y,oauthTokenSecret:I}=p;if(!y||!I)return null;try{return _.credential(y,I)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Lo(_,f){return zi.apply(this,arguments)}function zi(){return(zi=(0,l.Z)(function*(_,f){return Yt(_,"POST","/v1/accounts:signUp",ut(_,f))})).apply(this,arguments)}class ki{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,y,I=!1){return(0,l.Z)(function*(){const N=yield Jn._fromIdTokenResponse(f,y,I),H=ba(y);return new ki({user:N,providerId:H,_tokenResponse:y,operationType:p})})()}static _forOperation(f,p,y){return(0,l.Z)(function*(){yield f._updateTokensIfNecessary(y,!0);const I=ba(y);return new ki({user:f,providerId:I,_tokenResponse:y,operationType:p})})()}}function ba(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Ls(){return(Ls=(0,l.Z)(function*(_){var f;const p=pn(_);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new ki({user:p.currentUser,providerId:null,operationType:"signIn"});const y=yield Lo(p,{returnSecureToken:!0}),I=yield ki._fromIdTokenResponse(p,"signIn",y,!0);return yield p._updateCurrentUser(I.user),I})).apply(this,arguments)}class uo extends P.ZR{constructor(f,p,y,I){var N;super(p.code,p.message),this.operationType=y,this.user=I,Object.setPrototypeOf(this,uo.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:p.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(f,p,y,I){return new uo(f,p,y,I)}}function bi(_,f,p,y){return("reauthenticate"===f?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?uo._fromErrorAndOperation(_,N,f,y):N})}function zu(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function xi(){return xi=(0,l.Z)(function*(_,f){const p=(0,P.m9)(_);yield ho(!0,p,f);const{providerUserInfo:y}=yield function ne(_,f){return K.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),I=zu(y||[]);return p.providerData=p.providerData.filter(N=>I.has(N.providerId)),I.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),xi.apply(this,arguments)}function ri(_,f){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,l.Z)(function*(_,f,p=!1){const y=yield et(_,f._linkToIdToken(_.auth,yield _.getIdToken()),p);return ki._forOperation(_,"link",y)})).apply(this,arguments)}function ho(_,f,p){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,l.Z)(function*(_,f,p){yield en(f);const I=!1===_?"provider-already-linked":"no-such-provider";se(zu(f.providerData).has(p)===_,f.auth,I)})).apply(this,arguments)}function Bo(_,f){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,l.Z)(function*(_,f,p=!1){const{auth:y}=_,I="reauthenticate";try{const N=yield et(_,bi(y,I,f,_),p);se(N.idToken,y,"internal-error");const H=Et(N.idToken);se(H,y,"internal-error");const{sub:Q}=H;return se(_.uid===Q,y,"user-mismatch"),ki._forOperation(_,I,N)}catch(N){throw"auth/user-not-found"===N?.code&&me(y,"user-mismatch"),N}})).apply(this,arguments)}function wa(_,f){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,l.Z)(function*(_,f,p=!1){const y="signIn",I=yield bi(_,y,f),N=yield ki._fromIdTokenResponse(_,y,I);return p||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Da(_,f){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,l.Z)(function*(_,f){return wa(pn(_),f)})).apply(this,arguments)}function qu(_,f){return Al.apply(this,arguments)}function Al(){return(Al=(0,l.Z)(function*(_,f){const p=(0,P.m9)(_);return yield ho(!1,p,f.providerId),ri(p,f)})).apply(this,arguments)}function Ku(_,f){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,l.Z)(function*(_,f){return Bo((0,P.m9)(_),f)})).apply(this,arguments)}function Ju(){return(Ju=(0,l.Z)(function*(_,f){return Yt(_,"POST","/v1/accounts:signInWithCustomToken",ut(_,f))})).apply(this,arguments)}function Ot(){return Ot=(0,l.Z)(function*(_,f){const p=pn(_),y=yield function hp(_,f){return Ju.apply(this,arguments)}(p,{token:f,returnSecureToken:!0}),I=yield ki._fromIdTokenResponse(p,"signIn",y);return yield p._updateCurrentUser(I.user),I}),Ot.apply(this,arguments)}class Ea{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?Ca._fromServerResponse(f,p):"totpInfo"in p?oi._fromServerResponse(f,p):me(f,"internal-error")}}class Ca extends Ea{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new Ca(p)}}class oi extends Ea{constructor(f){super("totp",f)}static _fromServerResponse(f,p){return new oi(p)}}function Qo(_,f,p){var y;se((null===(y=p.url)||void 0===y?void 0:y.length)>0,_,"invalid-continue-uri"),se(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(se(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(se(p.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function Yi(){return Yi=(0,l.Z)(function*(_,f,p){var y;const I=pn(_),N={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=I._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const H=yield Qe(I,N,"getOobCode",!0);p&&Qo(I,H,p),yield ko(I,H)}else p&&Qo(I,N,p),yield ko(I,N).catch(function(){var H=(0,l.Z)(function*(Q){if("auth/missing-recaptcha-token"!==Q.code)return Promise.reject(Q);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Re=yield Qe(I,N,"getOobCode",!0);p&&Qo(I,Re,p),yield ko(I,Re)}});return function(Q){return H.apply(this,arguments)}}())}),Yi.apply(this,arguments)}function Ml(){return(Ml=(0,l.Z)(function*(_,f,p){yield qo((0,P.m9)(_),{oobCode:f,newPassword:p})})).apply(this,arguments)}function fo(){return fo=(0,l.Z)(function*(_,f){yield function kr(_,f){return Po.apply(this,arguments)}((0,P.m9)(_),{oobCode:f})}),fo.apply(this,arguments)}function Ta(_,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(_,f){const p=(0,P.m9)(_),y=yield qo(p,{oobCode:f}),I=y.requestType;switch(se(I,p,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(y.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(y.mfaInfo,p,"internal-error");default:se(y.email,p,"internal-error")}let N=null;return y.mfaInfo&&(N=Ea._fromServerResponse(pn(p),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:N},operation:I}})).apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(_,f){const{data:p}=yield Ta((0,P.m9)(_),f);return p.email})).apply(this,arguments)}function vr(){return vr=(0,l.Z)(function*(_,f,p){var y;const I=pn(_),N={returnSecureToken:!0,email:f,password:p,clientType:"CLIENT_TYPE_WEB"};let H;if(null!==(y=I._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const ze=yield Qe(I,N,"signUpPassword");H=Lo(I,ze)}else H=Lo(I,N).catch(function(){var ze=(0,l.Z)(function*(Be){if("auth/missing-recaptcha-token"===Be.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const rt=yield Qe(I,N,"signUpPassword");return Lo(I,rt)}return Promise.reject(Be)});return function(Be){return ze.apply(this,arguments)}}());const Q=yield H.catch(ze=>Promise.reject(ze)),Re=yield ki._fromIdTokenResponse(I,"signIn",Q);return yield I._updateCurrentUser(Re.user),Re}),vr.apply(this,arguments)}function Ol(){return Ol=(0,l.Z)(function*(_,f,p){var y;const I=pn(_),N={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function H(Q,Re){se(Re.handleCodeInApp,I,"argument-error"),Re&&Qo(I,Q,Re)}if(null!==(y=I._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const Q=yield Qe(I,N,"getOobCode",!0);H(Q,p),yield vi(I,Q)}else H(N,p),yield vi(I,N).catch(function(){var Q=(0,l.Z)(function*(Re){if("auth/missing-recaptcha-token"!==Re.code)return Promise.reject(Re);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ze=yield Qe(I,N,"getOobCode",!0);H(ze,p),yield vi(I,ze)}});return function(Re){return Q.apply(this,arguments)}}())}),Ol.apply(this,arguments)}function Us(){return(Us=(0,l.Z)(function*(_,f,p){const y=(0,P.m9)(_),I=$u.credentialWithLink(f,p||Pt());return se(I._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),Da(y,I)})).apply(this,arguments)}function Pl(){return(Pl=(0,l.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:createAuthUri",ut(_,f))})).apply(this,arguments)}function kl(){return kl=(0,l.Z)(function*(_,f){const y={identifier:f,continueUri:st()?Pt():"http://localhost"},{signinMethods:I}=yield function jc(_,f){return Pl.apply(this,arguments)}((0,P.m9)(_),y);return I||[]}),kl.apply(this,arguments)}function Sa(){return Sa=(0,l.Z)(function*(_,f){const p=(0,P.m9)(_),I={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Qo(p.auth,I,f);const{email:N}=yield function Fc(_,f){return ks.apply(this,arguments)}(p.auth,I);N!==_.email&&(yield _.reload())}),Sa.apply(this,arguments)}function Aa(){return Aa=(0,l.Z)(function*(_,f,p){const y=(0,P.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};p&&Qo(y.auth,N,p);const{email:H}=yield function Xi(_,f){return er.apply(this,arguments)}(y.auth,N);H!==_.email&&(yield _.reload())}),Aa.apply(this,arguments)}function Fl(){return(Fl=(0,l.Z)(function*(_,f){return Nt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ll(){return Ll=(0,l.Z)(function*(_,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const y=(0,P.m9)(_),N={idToken:yield y.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},H=yield et(y,function td(_,f){return Fl.apply(this,arguments)}(y.auth,N));y.displayName=H.displayName||null,y.photoURL=H.photoUrl||null;const Q=y.providerData.find(({providerId:Re})=>"password"===Re);Q&&(Q.displayName=y.displayName,Q.photoURL=y.photoURL),yield y._updateTokensIfNecessary(H)}),Ll.apply(this,arguments)}function Mn(_,f,p){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,l.Z)(function*(_,f,p){const{auth:y}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(N.email=f),p&&(N.password=p);const H=yield et(_,Ps(y,N));yield _._updateTokensIfNecessary(H,!0)})).apply(this,arguments)}class es{constructor(f,p,y={}){this.isNewUser=f,this.providerId=p,this.profile=y}}class Ah extends es{constructor(f,p,y,I){super(f,p,y),this.username=I}}class nd extends es{constructor(f,p){super(f,"facebook.com",p)}}class gp extends Ah{constructor(f,p){super(f,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Ul extends es{constructor(f,p){super(f,"google.com",p)}}class Wc extends Ah{constructor(f,p,y){super(f,"twitter.com",p,y)}}function zc(_){const{user:f,_tokenResponse:p}=_;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Sh(_){var f,p;if(!_)return null;const{providerId:y}=_,I=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!y&&_?.idToken){const H=null===(p=null===(f=Et(_.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(H)return new es(N,"anonymous"!==H&&"custom"!==H?H:null)}if(!y)return null;switch(y){case"facebook.com":return new nd(N,I);case"github.com":return new gp(N,I);case"google.com":return new Ul(N,I);case"twitter.com":return new Wc(N,I,_.screenName||null);case"custom":case"anonymous":return new es(N,null);default:return new es(N,y,I)}}(p)}class ts{constructor(f,p,y){this.type=f,this.credential=p,this.auth=y}static _fromIdtoken(f,p){return new ts("enroll",f,p)}static _fromMfaPendingCredential(f){return new ts("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,y;if(f?.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return ts._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(y=f.multiFactorSession)&&void 0!==y&&y.idToken)return ts._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ns{constructor(f,p,y){this.session=f,this.hints=p,this.signInResolver=y}static _fromError(f,p){const y=pn(f),I=p.customData._serverResponse,N=(I.mfaInfo||[]).map(Q=>Ea._fromServerResponse(y,Q));se(I.mfaPendingCredential,y,"internal-error");const H=ts._fromMfaPendingCredential(I.mfaPendingCredential);return new ns(H,N,function(){var Q=(0,l.Z)(function*(Re){const ze=yield Re._process(y,H);delete I.mfaInfo,delete I.mfaPendingCredential;const Be=Object.assign(Object.assign({},I),{idToken:ze.idToken,refreshToken:ze.refreshToken});switch(p.operationType){case"signIn":const rt=yield ki._fromIdTokenResponse(y,p.operationType,Be);return yield y._updateCurrentUser(rt.user),rt;case"reauthenticate":return se(p.user,y,"internal-error"),ki._forOperation(p.user,p.operationType,Be);default:me(y,"internal-error")}});return function(Re){return Q.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,l.Z)(function*(){return p.signInResolver(f)})()}}class os{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(y=>Ea._fromServerResponse(f.auth,y)))})}static _fromUser(f){return new os(f)}getSession(){var f=this;return(0,l.Z)(function*(){return ts._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,p){var y=this;return(0,l.Z)(function*(){const I=f,N=yield y.getSession(),H=yield et(y.user,I._process(y.user.auth,N,p));return yield y.user._updateTokensIfNecessary(H),y.user.reload()})()}unenroll(f){var p=this;return(0,l.Z)(function*(){const y="string"==typeof f?f:f.uid,I=yield p.user.getIdToken();try{const N=yield et(p.user,function Gl(_,f){return Nt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",ut(_,f))}(p.user.auth,{idToken:I,mfaEnrollmentId:y}));p.enrolledFactors=p.enrolledFactors.filter(({uid:H})=>H!==y),yield p.user._updateTokensIfNecessary(N),yield p.user.reload()}catch(N){throw N}})()}}const Uo=new WeakMap,ss="__sak";class jl{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ss,"1"),this.storage.removeItem(ss),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const as=(()=>{class _ extends jl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,y)=>this.onStorageEvent(p,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Na(){const _=(0,P.z$)();return ee(_)||dn(_)}()&&function pa(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Yr(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const y of Object.keys(this.listeners)){const I=this.storage.getItem(y),N=this.localCache[y];I!==N&&p(y,N,I)}}onStorageEvent(p,y=!1){if(!p.key)return void this.forAllChangedKeys((Q,Re,ze)=>{this.notifyListeners(Q,ze)});const I=p.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Q=this.storage.getItem(I);if(p.newValue!==Q)null!==p.newValue?this.storage.setItem(I,p.newValue):this.storage.removeItem(I);else if(this.localCache[I]===p.newValue&&!y)return}const N=()=>{const Q=this.storage.getItem(I);!y&&this.localCache[I]===Q||this.notifyListeners(I,Q)},H=this.storage.getItem(I);!function Pr(){return(0,P.w1)()&&10===document.documentMode}()||H===p.newValue||p.newValue===p.oldValue?N():setTimeout(N,10)}notifyListeners(p,y){this.localCache[p]=y;const I=this.listeners[p];if(I)for(const N of Array.from(I))N(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,y,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:y,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(y)}_removeListener(p,y){this.listeners[p]&&(this.listeners[p].delete(y),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,y){var I=()=>super._set,N=this;return(0,l.Z)(function*(){yield I().call(N,p,y),N.localCache[p]=JSON.stringify(y)})()}_get(p){var y=()=>super._get,I=this;return(0,l.Z)(function*(){const N=yield y().call(I,p);return I.localCache[p]=JSON.stringify(N),N})()}_remove(p){var y=()=>super._remove,I=this;return(0,l.Z)(function*(){yield y().call(I,p),delete I.localCache[p]})()}}return _.type="LOCAL",_})(),mo=(()=>{class _ extends jl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,y){}_removeListener(p,y){}}return _.type="SESSION",_})();let js=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const y=this.receivers.find(N=>N.isListeningto(p));if(y)return y;const I=new _(p);return this.receivers.push(I),I}isListeningto(p){return this.eventTarget===p}handleEvent(p){var y=this;return(0,l.Z)(function*(){const I=p,{eventId:N,eventType:H,data:Q}=I.data,Re=y.handlersMap[H];if(!Re?.size)return;I.ports[0].postMessage({status:"ack",eventId:N,eventType:H});const ze=Array.from(Re).map(function(){var rt=(0,l.Z)(function*(An){return An(I.origin,Q)});return function(An){return rt.apply(this,arguments)}}()),Be=yield function qc(_){return Promise.all(_.map(function(){var f=(0,l.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(y){return{fulfilled:!1,reason:y}}});return function(p){return f.apply(this,arguments)}}()))}(ze);I.ports[0].postMessage({status:"done",eventId:N,eventType:H,response:Be})})()}_subscribe(p,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(y)}_unsubscribe(p,y){this.handlersMap[p]&&y&&this.handlersMap[p].delete(y),(!y||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function $s(_="",f=10){let p="";for(let y=0;y<f;y++)p+=Math.floor(10*Math.random());return _+p}class sd{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,y=50){var I=this;return(0,l.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let H,Q;return new Promise((Re,ze)=>{const Be=$s("",20);N.port1.start();const rt=setTimeout(()=>{ze(new Error("unsupported_event"))},y);Q={messageChannel:N,onMessage(An){const Ir=An;if(Ir.data.eventId===Be)switch(Ir.data.status){case"ack":clearTimeout(rt),H=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),Re(Ir.data.response);break;default:clearTimeout(rt),clearTimeout(H),ze(new Error("invalid_response"))}}},I.handlers.add(Q),N.port1.addEventListener("message",Q.onMessage),I.target.postMessage({eventType:f,eventId:Be,data:p},[N.port2])}).finally(()=>{Q&&I.removeMessageHandler(Q)})})()}}function _n(){return window}function Wl(){return typeof _n().WorkerGlobalScope<"u"&&"function"==typeof _n().importScripts}function zl(){return(zl=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ls="firebaseLocalStorageDb",qn=1,Jc="firebaseLocalStorage",Ma="fbase_key";class Oa{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function _o(_,f){return _.transaction([Jc],f?"readwrite":"readonly").objectStore(Jc)}function Zl(){const _=indexedDB.open(ls,qn);return new Promise((f,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const y=_.result;try{y.createObjectStore(Jc,{keyPath:Ma})}catch(I){p(I)}}),_.addEventListener("success",(0,l.Z)(function*(){const y=_.result;y.objectStoreNames.contains(Jc)?f(y):(y.close(),yield function Mh(){const _=indexedDB.deleteDatabase(ls);return new Oa(_).toPromise()}(),f(yield Zl()))}))})}function cs(_,f,p){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,l.Z)(function*(_,f,p){const y=_o(_,!0).put({[Ma]:f,value:p});return new Oa(y).toPromise()})).apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(_,f){const p=_o(_,!1).get(f),y=yield new Oa(p).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function Vo(_,f){const p=_o(_,!0).delete(f);return new Oa(p).toPromise()}const us=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,l.Z)(function*(){return p.db||(p.db=yield Zl()),p.db})()}_withRetries(p){var y=this;return(0,l.Z)(function*(){let I=0;for(;;)try{const N=yield y._openDb();return yield p(N)}catch(N){if(I++>3)throw N;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,l.Z)(function*(){return Wl()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,l.Z)(function*(){p.receiver=js._getInstance(function si(){return Wl()?self:null}()),p.receiver._subscribe("keyChanged",function(){var y=(0,l.Z)(function*(I,N){return{keyProcessed:(yield p._poll()).includes(N.key)}});return function(I,N){return y.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var y=(0,l.Z)(function*(I,N){return["keyChanged"]});return function(I,N){return y.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,l.Z)(function*(){var y,I;if(p.activeServiceWorker=yield function Kc(){return zl.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new sd(p.activeServiceWorker);const N=yield p.sender._send("ping",{},800);N&&null!==(y=N[0])&&void 0!==y&&y.fulfilled&&null!==(I=N[0])&&void 0!==I&&I.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var y=this;return(0,l.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function Yl(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:p},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Zl();return yield cs(p,ss,"1"),yield Vo(p,ss),!0}catch{}return!1})()}_withPendingWrite(p){var y=this;return(0,l.Z)(function*(){y.pendingWrites++;try{yield p()}finally{y.pendingWrites--}})()}_set(p,y){var I=this;return(0,l.Z)(function*(){return I._withPendingWrite((0,l.Z)(function*(){return yield I._withRetries(N=>cs(N,p,y)),I.localCache[p]=y,I.notifyServiceWorker(p)}))})()}_get(p){var y=this;return(0,l.Z)(function*(){const I=yield y._withRetries(N=>function Pa(_,f){return Ws.apply(this,arguments)}(N,p));return y.localCache[p]=I,I})()}_remove(p){var y=this;return(0,l.Z)(function*(){return y._withPendingWrite((0,l.Z)(function*(){return yield y._withRetries(I=>Vo(I,p)),delete y.localCache[p],y.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,l.Z)(function*(){const y=yield p._withRetries(H=>{const Q=_o(H,!1).getAll();return new Oa(Q).toPromise()});if(!y)return[];if(0!==p.pendingWrites)return[];const I=[],N=new Set;for(const{fbase_key:H,value:Q}of y)N.add(H),JSON.stringify(p.localCache[H])!==JSON.stringify(Q)&&(p.notifyListeners(H,Q),I.push(H));for(const H of Object.keys(p.localCache))p.localCache[H]&&!N.has(H)&&(p.notifyListeners(H,null),I.push(H));return I})()}notifyListeners(p,y){this.localCache[p]=y;const I=this.listeners[p];if(I)for(const N of Array.from(I))N(y)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(y)}_removeListener(p,y){this.listeners[p]&&(this.listeners[p].delete(y),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),xa=1e12;class Xc{constructor(f){this.auth=f,this.counter=xa,this._widgets=new Map}render(f,p){const y=this.counter;return this._widgets.set(y,new eu(f,this.auth.name,p||{})),this.counter++,y}reset(f){var p;const y=f||xa;null===(p=this._widgets.get(y))||void 0===p||p.delete(),this._widgets.delete(y)}getResponse(f){var p;return(null===(p=this._widgets.get(f||xa))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,l.Z)(function*(){var y;return null===(y=p._widgets.get(f||xa))||void 0===y||y.execute(),""})()}}class eu{constructor(f,p,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof f?document.getElementById(f):f;se(I,"argument-error",{appName:p}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function xm(_){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<_;y++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const kh=Qn("rcb"),Fm=new Ce(3e4,6e4);class Lm{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=_n().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return se(function xh(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(p),f,"argument-error"),this.shouldResolveImmediately(p)&&Ht(_n().grecaptcha)?Promise.resolve(_n().grecaptcha):new Promise((y,I)=>{const N=_n().setTimeout(()=>{I(De(f,"network-request-failed"))},Fm.get());_n()[kh]=()=>{_n().clearTimeout(N),delete _n()[kh];const Q=_n().grecaptcha;if(!Q||!Ht(Q))return void I(De(f,"internal-error"));const Re=Q.render;Q.render=(ze,Be)=>{const rt=Re(ze,Be);return this.counter++,rt},this.hostLanguage=p,y(Q)},_i(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:kh,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(N),I(De(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=_n().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ai{load(f){return(0,l.Z)(function*(){return new Xc(f)})()}clearedOneInstance(){}}const Fa="recaptcha",ql={theme:"light",type:"image"};class tu{constructor(f,p=Object.assign({},ql),y){this.parameters=p,this.type=Fa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pn(y),this.isInvisible="invisible"===this.parameters.size,se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof f?document.getElementById(f):f;se(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ai:new Lm,this.validateStartingState()}verify(){var f=this;return(0,l.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),y=f.getAssertedRecaptcha();return y.getResponse(p)||new Promise(N=>{const H=Q=>{Q&&(f.tokenChangeListeners.delete(H),N(Q))};f.tokenChangeListeners.add(H),f.isInvisible&&y.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(y=>y(p)),"function"==typeof f)f(p);else if("string"==typeof f){const y=_n()[f];"function"==typeof y&&y(p)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const y=document.createElement("div");p.appendChild(y),p=y}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.Z)(function*(){se(st()&&!Wl(),f.auth,"internal-error"),yield function Lr(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function ie(_){return xe.apply(this,arguments)}(f.auth);se(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Kr{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=mr._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function fs(){return(fs=(0,l.Z)(function*(_,f,p){const y=pn(_),I=yield Ql(y,f,(0,P.m9)(p));return new Kr(I,N=>Da(y,N))})).apply(this,arguments)}function Jl(){return(Jl=(0,l.Z)(function*(_,f,p){const y=(0,P.m9)(_);yield ho(!1,y,"phone");const I=yield Ql(y.auth,f,(0,P.m9)(p));return new Kr(I,N=>qu(y,N))})).apply(this,arguments)}function nu(){return(nu=(0,l.Z)(function*(_,f,p){const y=(0,P.m9)(_),I=yield Ql(y.auth,f,(0,P.m9)(p));return new Kr(I,N=>Ku(y,N))})).apply(this,arguments)}function Ql(_,f,p){return Zi.apply(this,arguments)}function Zi(){return Zi=(0,l.Z)(function*(_,f,p){var y;const I=yield p.verify();try{let N;if(se("string"==typeof I,_,"argument-error"),se(p.type===Fa,_,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const H=N.session;if("phoneNumber"in N)return se("enroll"===H.type,_,"internal-error"),(yield function Gs(_,f){return Nt(_,"POST","/v2/accounts/mfaEnrollment:start",ut(_,f))}(_,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{se("signin"===H.type,_,"internal-error");const Q=(null===(y=N.multiFactorHint)||void 0===y?void 0:y.uid)||N.multiFactorUid;return se(Q,_,"missing-multi-factor-info"),(yield function ds(_,f){return Nt(_,"POST","/v2/accounts/mfaSignIn:start",ut(_,f))}(_,{mfaPendingCredential:H.credential,mfaEnrollmentId:Q,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield function cp(_,f){return Bc.apply(this,arguments)}(_,{phoneNumber:N.phoneNumber,recaptchaToken:I});return H}}finally{p._reset()}}),Zi.apply(this,arguments)}function Br(){return(Br=(0,l.Z)(function*(_,f){yield ri((0,P.m9)(_),f)})).apply(this,arguments)}let jn=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=pn(p)}verifyPhoneNumber(p,y){return Ql(this.auth,p,(0,P.m9)(y))}static credential(p,y){return mr._fromVerification(p,y)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:y,temporaryProof:I}=p;return y&&I?mr._fromTokenResponse(y,I):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Fi(_,f){return f?Tn(f):(se(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Kt extends ao{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return xr(f,this._buildIdpRequest())}_linkToIdToken(f,p){return xr(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return xr(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function dt(_){return wa(_.auth,new Kt(_),_.bypassAuthState)}function La(_){const{auth:f,user:p}=_;return se(p,f,"internal-error"),Bo(p,new Kt(_),_.bypassAuthState)}function vt(_){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,l.Z)(function*(_){const{auth:f,user:p}=_;return se(p,f,"internal-error"),ri(p,new Kt(_),_.bypassAuthState)})).apply(this,arguments)}class tr{constructor(f,p,y,I,N=!1){this.auth=f,this.resolver=y,this.user=I,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,l.Z)(function*(y,I){f.pendingPromise={resolve:y,reject:I};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(y,I){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,l.Z)(function*(){const{urlResponse:y,sessionId:I,postBody:N,tenantId:H,error:Q,type:Re}=f;if(Q)return void p.reject(Q);const ze={auth:p.auth,requestUri:y,sessionId:I,tenantId:H||void 0,postBody:N||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Re)(ze))}catch(Be){p.reject(Be)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return dt;case"linkViaPopup":case"linkViaRedirect":return vt;case"reauthViaPopup":case"reauthViaRedirect":return La;default:me(this.auth,"internal-error")}}resolve(f){Ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const un=new Ce(2e3,1e4);function bn(){return(bn=(0,l.Z)(function*(_,f,p){const y=pn(_);Pe(_,f,xo);const I=Fi(y,p);return new Xl(y,"signInViaPopup",f,I).executeNotNull()})).apply(this,arguments)}function ps(){return(ps=(0,l.Z)(function*(_,f,p){const y=(0,P.m9)(_);Pe(y.auth,f,xo);const I=Fi(y.auth,p);return new Xl(y.auth,"reauthViaPopup",f,I,y).executeNotNull()})).apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(_,f,p){const y=(0,P.m9)(_);Pe(y.auth,f,xo);const I=Fi(y.auth,p);return new Xl(y.auth,"linkViaPopup",f,I,y).executeNotNull()})).apply(this,arguments)}let Xl=(()=>{class _ extends tr{constructor(p,y,I,N,H){super(p,y,N,H),this.provider=I,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,l.Z)(function*(){const y=yield p.execute();return se(y,p.auth,"internal-error"),y})()}onExecution(){var p=this;return(0,l.Z)(function*(){Ke(1===p.filter.length,"Popup operations only handle one event");const y=$s();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],y),p.authWindow.associatedEvent=y,p.resolver._originValidation(p.auth).catch(I=>{p.reject(I)}),p.resolver._isIframeWebStorageSupported(p.auth,I=>{I||p.reject(De(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var y,I;this.pollId=null!==(I=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==I&&I.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,un.get())};p()}}return _.currentPopupAction=null,_})();const Jr="pendingRedirect",Qr=new Map;class Bh extends tr{constructor(f,p,y=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,y),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,l.Z)(function*(){let y=Qr.get(p.auth._key());if(!y){try{const N=(yield function Kn(_,f){return Uh.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;y=()=>Promise.resolve(N)}catch(I){y=()=>Promise.reject(I)}Qr.set(p.auth._key(),y)}return p.bypassAuthState||Qr.set(p.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,y=this;return(0,l.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(y,f);if("unknown"!==f.type){if(f.eventId){const I=yield y.auth._redirectUserForId(f.eventId);if(I)return y.user=I,p().call(y,f);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Uh(){return(Uh=(0,l.Z)(function*(_,f){const p=Zs(f),y=F(_);if(!(yield y._isAvailable()))return!1;const I="true"===(yield y._get(p));return yield y._remove(p),I})).apply(this,arguments)}function Ho(_,f){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(_,f){return F(_)._set(Zs(f),"true")})).apply(this,arguments)}function yr(_,f){Qr.set(_._key(),f)}function F(_){return Tn(_._redirectPersistence)}function Zs(_){return V(Jr,_.config.apiKey,_.name)}function cd(_,f,p){return function ud(_,f,p){return Va.apply(this,arguments)}(_,f,p)}function Va(){return(Va=(0,l.Z)(function*(_,f,p){const y=pn(_);Pe(_,f,xo),yield y._initializationPromise;const I=Fi(y,p);return yield Ho(I,y),I._openRedirect(y,f,"signInViaRedirect")})).apply(this,arguments)}function dd(_,f,p){return function ec(_,f,p){return tc.apply(this,arguments)}(_,f,p)}function tc(){return(tc=(0,l.Z)(function*(_,f,p){const y=(0,P.m9)(_);Pe(y.auth,f,xo),yield y.auth._initializationPromise;const I=Fi(y.auth,p);yield Ho(I,y.auth);const N=yield br(y);return I._openRedirect(y.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function hd(_,f,p){return function gs(_,f,p){return nc.apply(this,arguments)}(_,f,p)}function nc(){return(nc=(0,l.Z)(function*(_,f,p){const y=(0,P.m9)(_);Pe(y.auth,f,xo),yield y.auth._initializationPromise;const I=Fi(y.auth,p);yield ho(!1,y,f.providerId),yield Ho(I,y.auth);const N=yield br(y);return I._openRedirect(y.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function ic(){return(ic=(0,l.Z)(function*(_,f){return yield pn(_)._initializationPromise,Ha(_,f,!1)})).apply(this,arguments)}function Ha(_,f){return _s.apply(this,arguments)}function _s(){return(_s=(0,l.Z)(function*(_,f,p=!1){const y=pn(_),I=Fi(y,f),H=yield new Bh(y,I,p).execute();return H&&!p&&(delete H.user._redirectEventId,yield y._persistUserIfCurrent(H.user),yield y._setRedirectUser(null,f)),H})).apply(this,arguments)}function br(_){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,l.Z)(function*(_){const f=$s(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class On{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(f,y)&&(p=!0,this.sendToConsumer(f,y),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Vr(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ja(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var y;if(f.error&&!ja(f)){const I=(null===(y=f.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";p.onError(De(this.auth,I))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const y=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&y}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vs(f))}saveEventToCache(f){this.cachedEventUids.add(vs(f)),this.lastProcessedEventTime=Date.now()}}function vs(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function ja({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function Li(_){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,l.Z)(function*(_,f={}){return Nt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const ru=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fd=/^https?/;function wi(){return(wi=(0,l.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Li(_);for(const p of f)try{if(yo(p))return}catch{}me(_,"unauthorized-domain")})).apply(this,arguments)}function yo(_){const f=Pt(),{protocol:p,hostname:y}=new URL(f);if(_.startsWith("chrome-extension://")){const H=new URL(_);return""===H.hostname&&""===y?"chrome-extension:"===p&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&H.hostname===y}if(!fd.test(p))return!1;if(ru.test(_))return y===_;const I=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(y)}const pd=new Ce(3e4,6e4);function Bi(){const _=_n().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let $a=null;const ou=new Ce(5e3,15e3),gd="__/auth/iframe",md="emulator/auth/iframe",Hh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jh(_){const f=_.config;se(f.authDomain,_,"auth-domain-config-required");const p=f.emulator?Se(f,md):`https://${_.config.authDomain}/${gd}`,y={apiKey:f.apiKey,appName:_.name,v:le.SDK_VERSION},I=Gh.get(_.config.apiHost);I&&(y.eid=I);const N=_._getFrameworks();return N.length&&(y.fw=N.join(",")),`${p}?${(0,P.xO)(y).slice(1)}`}function E(){return E=(0,l.Z)(function*(_){const f=yield function Sn(_){return $a=$a||function bo(_){return new Promise((f,p)=>{var y,I,N;function H(){Bi(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Bi(),p(De(_,"network-request-failed"))},timeout:pd.get()})}if(null!==(I=null===(y=_n().gapi)||void 0===y?void 0:y.iframes)&&void 0!==I&&I.Iframe)f(gapi.iframes.getContext());else{if(null===(N=_n().gapi)||void 0===N||!N.load){const Q=Qn("iframefcb");return _n()[Q]=()=>{gapi.load?H():p(De(_,"network-request-failed"))},_i(`https://apis.google.com/js/api.js?onload=${Q}`).catch(Re=>p(Re))}H()}}).catch(f=>{throw $a=null,f})}(_),$a}(_),p=_n().gapi;return se(p,_,"internal-error"),f.open({where:document.body,url:jh(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hh,dontclear:!0},y=>new Promise(function(){var I=(0,l.Z)(function*(N,H){yield y.restyle({setHideOnLeave:!1});const Q=De(_,"network-request-failed"),Re=_n().setTimeout(()=>{H(Q)},ou.get());function ze(){_n().clearTimeout(Re),N(y)}y.ping(ze).then(ze,()=>{H(Q)})});return function(N,H){return I.apply(this,arguments)}}()))}),E.apply(this,arguments)}const S={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x=500,j=600,q="_blank",ae="http://localhost";class je{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const It="__/auth/handler",St="emulator/auth/handler",nr=encodeURIComponent("fac");function $n(_,f,p,y,I,N){return ys.apply(this,arguments)}function ys(){return(ys=(0,l.Z)(function*(_,f,p,y,I,N){se(_.config.authDomain,_,"auth-domain-config-required"),se(_.config.apiKey,_,"invalid-api-key");const H={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:y,v:le.SDK_VERSION,eventId:I};if(f instanceof xo){f.setDefaultLanguage(_.languageCode),H.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||(H.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Be,rt]of Object.entries(N||{}))H[Be]=rt}if(f instanceof Zr){const Be=f.getScopes().filter(rt=>""!==rt);Be.length>0&&(H.scopes=Be.join(","))}_.tenantId&&(H.tid=_.tenantId);const Q=H;for(const Be of Object.keys(Q))void 0===Q[Be]&&delete Q[Be];const Re=yield _._getAppCheckToken(),ze=Re?`#${nr}=${encodeURIComponent(Re)}`:"";return`${function Wa({config:_}){return _.emulator?Se(_,St):`https://${_.authDomain}/${It}`}(_)}?${(0,P.xO)(Q).slice(1)}${ze}`})).apply(this,arguments)}const wo="webStorageSupport",Dr=class wr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mo,this._completeRedirectFn=Ha,this._overrideRedirectResult=yr}_openPopup(f,p,y,I){var N=this;return(0,l.Z)(function*(){var H;Ke(null===(H=N.eventManagers[f._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const Q=yield $n(f,p,y,Pt(),I);return function $e(_,f,p,y=x,I=j){const N=Math.max((window.screen.availHeight-I)/2,0).toString(),H=Math.max((window.screen.availWidth-y)/2,0).toString();let Q="";const Re=Object.assign(Object.assign({},S),{width:y.toString(),height:I.toString(),top:N,left:H}),ze=(0,P.z$)().toLowerCase();p&&(Q=Le(ze)?q:p),ye(ze)&&(f=f||ae,Re.scrollbars="yes");const Be=Object.entries(Re).reduce((An,[Ir,ta])=>`${An}${Ir}=${ta},`,"");if(function Pi(_=(0,P.z$)()){var f;return dn(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(ze)&&"_self"!==Q)return function lt(_,f){const p=document.createElement("a");p.href=_,p.target=f;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(y)}(f||"",Q),new je(null);const rt=window.open(f||"",Q,Be);se(rt,_,"popup-blocked");try{rt.focus()}catch{}return new je(rt)}(f,Q,$s())})()}_openRedirect(f,p,y,I){var N=this;return(0,l.Z)(function*(){return yield N._originValidation(f),function ad(_){_n().location.href=_}(yield $n(f,p,y,Pt(),I)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:I,promise:N}=this.eventManagers[p];return I?Promise.resolve(I):(Ke(N,"If manager is not set, promise should be"),N)}const y=this.initAndGetManager(f);return this.eventManagers[p]={promise:y},y.catch(()=>{delete this.eventManagers[p]}),y}initAndGetManager(f){var p=this;return(0,l.Z)(function*(){const y=yield function w(_){return E.apply(this,arguments)}(f),I=new On(f);return y.register("authEvent",N=>(se(N?.authEvent,f,"invalid-auth-event"),{status:I.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:I},p.iframes[f._key()]=y,I})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(wo,{type:wo},I=>{var N;const H=null===(N=I?.[0])||void 0===N?void 0:N[wo];void 0!==H&&p(!!H),me(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Xr(_){return wi.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return Yr()||ee()||dn()}};class qs{constructor(f){this.factorId=f}_process(f,p,y){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,y);case"signin":return this._finalizeSignIn(f,p.credential);default:return _t("unexpected MultiFactorSessionType")}}}class $h extends qs{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new $h(f)}_finalizeEnroll(f,p,y){return function Zc(_,f){return Nt(_,"POST","/v2/accounts/mfaEnrollment:finalize",ut(_,f))}(f,{idToken:p,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function Ph(_,f){return Nt(_,"POST","/v2/accounts/mfaSignIn:finalize",ut(_,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let rc=(()=>{class _{constructor(){}static assertion(p){return $h._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var Wh="@firebase/auth";class _d{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,l.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(y=>{f(y?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);p&&(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ya(){return window}(0,P.Pz)("authIdTokenMaxAge"),function Bm(_){(0,le._registerComponent)(new ve.wA("auth",(f,{options:p})=>{const y=f.getProvider("app").getImmediate(),I=f.getProvider("heartbeat"),N=f.getProvider("app-check-internal"),{apiKey:H,authDomain:Q}=y.options;se(H&&!H.includes(":"),"invalid-api-key",{appName:y.name});const Re={apiKey:H,authDomain:Q,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:he(_)},ze=new pr(y,I,N,Re);return function Gn(_,f){const p=f?.persistence||[],y=(Array.isArray(p)?p:[p]).map(Tn);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(y,f?.popupRedirectResolver)}(ze,p),ze},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,y)=>{f.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new ve.wA("auth-internal",f=>{const p=pn(f.getProvider("auth").getImmediate());return new _d(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Wh,"0.23.2",function vp(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,le.registerVersion)(Wh,"0.23.2","esm2017")}("Browser");const Um=2e3;function au(){return au=(0,l.Z)(function*(_,f,p){var y;const{BuildInfo:I}=Ya();Ke(f.sessionId,"AuthEvent did not contain a session ID");const N=yield function ws(_){return yd.apply(this,arguments)}(f.sessionId),H={};return dn()?H.ibi=I.packageName:tn()?H.apn=I.packageName:me(_,"operation-not-supported-in-this-environment"),I.displayName&&(H.appDisplayName=I.displayName),H.sessionId=N,$n(_,p,f.type,void 0,null!==(y=f.eventId)&&void 0!==y?y:void 0,H)}),au.apply(this,arguments)}function sc(){return(sc=(0,l.Z)(function*(_){const{BuildInfo:f}=Ya(),p={};dn()?p.iosBundleId=f.packageName:tn()?p.androidPackageName=f.packageName:me(_,"operation-not-supported-in-this-environment"),yield Li(_,p)})).apply(this,arguments)}function vd(){return(vd=(0,l.Z)(function*(_,f,p){const{cordova:y}=Ya();let I=()=>{};try{yield new Promise((N,H)=>{let Q=null;function Re(){var rt;N();const An=null===(rt=y.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof An&&An(),"function"==typeof p?.close&&p.close()}function ze(){Q||(Q=window.setTimeout(()=>{H(De(_,"redirect-cancelled-by-user"))},Um))}function Be(){"visible"===document?.visibilityState&&ze()}f.addPassiveListener(Re),document.addEventListener("resume",ze,!1),tn()&&document.addEventListener("visibilitychange",Be,!1),I=()=>{f.removePassiveListener(Re),document.removeEventListener("resume",ze,!1),document.removeEventListener("visibilitychange",Be,!1),Q&&window.clearTimeout(Q)}})}finally{I()}})).apply(this,arguments)}function yd(){return(yd=(0,l.Z)(function*(_){const f=function Dp(_){if(Ke(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),p=new Uint8Array(f);for(let y=0;y<_.length;y++)p[y]=_.charCodeAt(y);return p}(_),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const bd=20;class lu extends On{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,l.Z)(function*(){yield f.initPromise})()}}function qh(_){return wd.apply(this,arguments)}function wd(){return(wd=(0,l.Z)(function*(_){const f=yield du()._get(ac(_));return f&&(yield du()._remove(ac(_))),f})).apply(this,arguments)}function uu(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<bd;p++){const y=Math.floor(Math.random()*f.length);_.push(f.charAt(y))}return _.join("")}function du(){return Tn(as)}function ac(_){return V("authEvent",_.config.apiKey,_.name)}function Za(_){if(!_?.includes("?"))return{};const[f,...p]=_.split("?");return(0,P.zd)(p.join("?"))}const lc=class Ed{constructor(){this._redirectPersistence=mo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ha,this._overrideRedirectResult=yr}_initialize(f){var p=this;return(0,l.Z)(function*(){const y=f._key();let I=p.eventManagers.get(y);return I||(I=new lu(f),p.eventManagers.set(y,I),p.attachCallbackListeners(f,I)),I})()}_openPopup(f){me(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,y,I){var N=this;return(0,l.Z)(function*(){!function bs(_){var f,p,y,I,N,H,Q,Re,ze,Be;const rt=Ya();se("function"==typeof(null===(f=rt?.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(typeof(null===(p=rt?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(N=null===(I=null===(y=rt?.cordova)||void 0===y?void 0:y.plugins)||void 0===I?void 0:I.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(Re=null===(Q=null===(H=rt?.cordova)||void 0===H?void 0:H.plugins)||void 0===Q?void 0:Q.browsertab)||void 0===Re?void 0:Re.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(Be=null===(ze=rt?.cordova)||void 0===ze?void 0:ze.InAppBrowser)||void 0===Be?void 0:Be.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const H=yield N._initialize(f);yield H.initialized(),H.resetRedirect(),function Ur(){Qr.clear()}(),yield N._originValidation(f);const Q=function cu(_,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:uu(),postBody:null,tenantId:_.tenantId,error:De(_,"no-auth-event")}}(f,y,I);yield function Gm(_,f){return du()._set(ac(_),f)}(f,Q);const Re=yield function wp(_,f,p){return au.apply(this,arguments)}(f,Q,p),ze=yield function Vm(_){const{cordova:f}=Ya();return new Promise(p=>{f.plugins.browsertab.isAvailable(y=>{let I=null;y?f.plugins.browsertab.openUrl(_):I=f.InAppBrowser.open(_,function Zt(_=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),p(I)})})}(Re);return function Hm(_,f,p){return vd.apply(this,arguments)}(f,H,ze)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Zh(_){return sc.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:y,handleOpenURL:I,BuildInfo:N}=Ya(),H=setTimeout((0,l.Z)(function*(){yield qh(f),p.onEvent(Tp())}),500),Q=function(){var Be=(0,l.Z)(function*(rt){clearTimeout(H);const An=yield qh(f);let Ir=null;An&&rt?.url&&(Ir=function Ep(_,f){var p,y;const I=function Cp(_){const f=Za(_),p=f.link?decodeURIComponent(f.link):void 0,y=Za(p).link,I=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Za(I).link||I||y||p||_}(f);if(I.includes("/__/auth/callback")){const N=Za(I),H=N.firebaseError?function hu(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,Q=null===(y=null===(p=H?.code)||void 0===p?void 0:p.split("auth/"))||void 0===y?void 0:y[1],Re=Q?De(Q):null;return Re?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:I,postBody:null}}return null}(An,rt.url)),p.onEvent(Ir||Tp())});return function(An){return Be.apply(this,arguments)}}();typeof y<"u"&&"function"==typeof y.subscribe&&y.subscribe(null,Q);const Re=I,ze=`${N.packageName.toLowerCase()}://`;Ya().handleOpenURL=function(){var Be=(0,l.Z)(function*(rt){if(rt.toLowerCase().startsWith(ze)&&Q({url:rt}),"function"==typeof Re)try{Re(rt)}catch(An){console.error(An)}});return function(rt){return Be.apply(this,arguments)}}()}};function Tp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:De("no-auth-event")}}const Cd=1e3;function qa(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function sn(_=(0,P.z$)()){return!("file:"!==qa()&&"ionic:"!==qa()&&"capacitor:"!==qa()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qh(){try{const _=self.localStorage,f=$s();if(_)return _.setItem(f,"1"),_.removeItem(f),!function Cn(_=(0,P.z$)()){return function kt(){return(0,P.w1)()&&11===document?.documentMode}()||function Js(_=(0,P.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,P.hl)()}catch{return Xh()&&(0,P.hl)()}return!1}function Xh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ds(){return(function Jh(){return"http:"===qa()||"https:"===qa()}()||(0,P.ru)()||sn())&&!function an(){return(0,P.b$)()||(0,P.UG)()}()&&Qh()&&!Xh()}function ef(){return sn()&&typeof document<"u"}function xt(){return(xt=(0,l.Z)(function*(){return!!ef()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},Cd);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Er={LOCAL:"local",NONE:"none",SESSION:"session"},Qs=se,Cr="persistence";function tf(_){return nf.apply(this,arguments)}function nf(){return(nf=(0,l.Z)(function*(_){yield _._initializationPromise;const f=Xs(),p=V(Cr,_.config.apiKey,_.name);f&&f.setItem(p,_._getPersistence())})).apply(this,arguments)}function Xs(){var _;try{return(null===(_=function Ui(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const rf=se;class Di{constructor(){this.browserResolver=Tn(Dr),this.cordovaResolver=Tn(lc),this.underlyingResolver=null,this._redirectPersistence=mo,this._completeRedirectFn=Ha,this._overrideRedirectResult=yr}_initialize(f){var p=this;return(0,l.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,y,I){var N=this;return(0,l.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,p,y,I)})()}_openRedirect(f,p,y,I){var N=this;return(0,l.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,p,y,I)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return ef()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,l.Z)(function*(){if(f.underlyingResolver)return;const p=yield function Pn(){return xt.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function cc(_){return _.unwrap()}function Ey(_){return jm(_)}function jm(_){const{_tokenResponse:f}=_ instanceof P.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof P.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return jn.credentialFromResult(_);const p=f.providerId;if(!p||p===ge.PASSWORD)return null;let y;switch(p){case ge.GOOGLE:y=ya;break;case ge.FACEBOOK:y=Vc;break;case ge.GITHUB:y=Wu;break;case ge.TWITTER:y=Il;break;default:const{oauthIdToken:I,oauthAccessToken:N,oauthTokenSecret:H,pendingToken:Q,nonce:Re}=f;return N||H||I||Q?Q?p.startsWith("saml.")?Fo._create(p,Q):co._fromParams({providerId:p,signInMethod:p,pendingToken:Q,idToken:I,accessToken:N}):new Jo(p).credential({idToken:I,accessToken:N,rawNonce:Re}):null}return _ instanceof P.ZR?y.credentialFromError(_):y.credentialFromResult(_)}function Tr(_,f){return f.catch(p=>{throw p instanceof P.ZR&&function Cy(_,f){var p;const y=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new Td(_,function Hl(_,f){var p;const y=(0,P.m9)(_),I=f;return se(f.customData.operationType,y,"argument-error"),se(null===(p=I.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,y,"argument-error"),ns._fromError(y,I)}(_,f));else if(y){const I=jm(f),N=f;I&&(N.credential=I,N.tenantId=y.tenantId||void 0,N.email=y.email||void 0,N.phoneNumber=y.phoneNumber||void 0)}}(_,p),p}).then(p=>{const I=p.user;return{operationType:p.operationType,credential:Ey(p),additionalUserInfo:zc(p),user:eo.getOrCreate(I)}})}function ea(_,f){return jt.apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(_,f){const p=yield f;return{verificationId:p.verificationId,confirm:y=>Tr(_,p.confirm(y))}})).apply(this,arguments)}class Td{constructor(f,p){this.resolver=p,this.auth=function Np(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Tr(cc(this.auth),this.resolver.resolveSignIn(f))}}class eo{constructor(f){this._delegate=f,this.multiFactor=function rd(_){const f=(0,P.m9)(_);return Uo.has(f)||Uo.set(f,os._fromUser(f)),Uo.get(f)}(f)}static getOrCreate(f){return eo.USER_MAP.has(f)||eo.USER_MAP.set(f,new eo(f)),eo.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,l.Z)(function*(){return Tr(p.auth,qu(p._delegate,f))})()}linkWithPhoneNumber(f,p){var y=this;return(0,l.Z)(function*(){return ea(y.auth,function Kl(_,f,p){return Jl.apply(this,arguments)}(y._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,l.Z)(function*(){return Tr(p.auth,function vo(_,f,p){return Ys.apply(this,arguments)}(p._delegate,f,Di))})()}linkWithRedirect(f){var p=this;return(0,l.Z)(function*(){return yield tf(pn(p.auth)),hd(p._delegate,f,Di)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,l.Z)(function*(){return Tr(p.auth,Ku(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return ea(this.auth,function Lh(_,f,p){return nu.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return Tr(this.auth,function Ua(_,f,p){return ps.apply(this,arguments)}(this._delegate,f,Di))}reauthenticateWithRedirect(f){var p=this;return(0,l.Z)(function*(){return yield tf(pn(p.auth)),dd(p._delegate,f,Di)})()}sendEmailVerification(f){return function xl(_,f){return Sa.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,l.Z)(function*(){return yield function Yu(_,f){return xi.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function Ai(_,f){return Mn((0,P.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function po(_,f){return Mn((0,P.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function ni(_,f){return Br.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Ih(_,f){return Ll.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function $c(_,f,p){return Aa.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}eo.USER_MAP=new WeakMap;const uc=se;let Do=(()=>{class _{constructor(p,y){if(this.app=p,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=p.options;uc(I,"invalid-api-key",{appName:p.name}),uc(I,"invalid-api-key",{appName:p.name});const N=typeof window<"u"?Di:void 0;this._delegate=y.initialize({options:{persistence:Ei(I,p.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Ye),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?eo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,y){!function ga(_,f,p){const y=pn(_);se(y._canInitEmulator,y,"emulator-config-failed"),se(/^https?:\/\//.test(f),y,"invalid-emulator-scheme");const I=!!p?.disableWarnings,N=Yn(f),{host:H,port:Q}=function Bt(_){const f=Yn(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!p)return{host:"",port:null};const y=p[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(y);if(I){const N=I[1];return{host:N,port:ma(y.substr(N.length+1))}}{const[N,H]=y.split(":");return{host:N,port:ma(H)}}}(f);y.config.emulator={url:`${N}//${H}${null===Q?"":`:${Q}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:H,port:Q,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function Zo(){function _(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,p,y)}applyActionCode(p){return function fp(_,f){return fo.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Ta(this._delegate,p)}confirmPasswordReset(p,y){return function Qu(_,f,p){return Ml.apply(this,arguments)}(this._delegate,p,y)}createUserWithEmailAndPassword(p,y){var I=this;return(0,l.Z)(function*(){return Tr(I._delegate,function Xo(_,f,p){return vr.apply(this,arguments)}(I._delegate,p,y))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function ed(_,f){return kl.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function pp(_,f){return"EMAIL_SIGNIN"===Fs.parseLink(f)?.operation}(0,p)}getRedirectResult(){var p=this;return(0,l.Z)(function*(){uc(Ds(),p._delegate,"operation-not-supported-in-this-environment");const y=yield function ms(_,f){return ic.apply(this,arguments)}(p._delegate,Di);return y?Tr(p._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Kh(_,f){pn(_)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,y,I){const{next:N,error:H,complete:Q}=Ka(p,y,I);return this._delegate.onAuthStateChanged(N,H,Q)}onIdTokenChanged(p,y,I){const{next:N,error:H,complete:Q}=Ka(p,y,I);return this._delegate.onIdTokenChanged(N,H,Q)}sendSignInLinkToEmail(p,y){return function Ia(_,f,p){return Ol.apply(this,arguments)}(this._delegate,p,y)}sendPasswordResetEmail(p,y){return function Nl(_,f,p){return Yi.apply(this,arguments)}(this._delegate,p,y||void 0)}setPersistence(p){var y=this;return(0,l.Z)(function*(){let I;switch(function Ap(_,f){Qs(Object.values(Er).includes(f),_,"invalid-persistence-type"),(0,P.b$)()?Qs(f!==Er.SESSION,_,"unsupported-persistence-type"):(0,P.UG)()?Qs(f===Er.NONE,_,"unsupported-persistence-type"):Xh()?Qs(f===Er.NONE||f===Er.LOCAL&&(0,P.hl)(),_,"unsupported-persistence-type"):Qs(f===Er.NONE||Qh(),_,"unsupported-persistence-type")}(y._delegate,p),p){case Er.SESSION:I=mo;break;case Er.LOCAL:I=(yield Tn(us)._isAvailable())?us:as;break;case Er.NONE:I=Wi;break;default:return me("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Tr(this._delegate,function yi(_){return Ls.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Tr(this._delegate,Da(this._delegate,p))}signInWithCustomToken(p){return Tr(this._delegate,function pe(_,f){return Ot.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,y){return Tr(this._delegate,function Xu(_,f,p){return Da((0,P.m9)(_),$u.credential(f,p))}(this._delegate,p,y))}signInWithEmailLink(p,y){return Tr(this._delegate,function ti(_,f,p){return Us.apply(this,arguments)}(this._delegate,p,y))}signInWithPhoneNumber(p,y){return ea(this._delegate,function Fh(_,f,p){return fs.apply(this,arguments)}(this._delegate,p,y))}signInWithPopup(p){var y=this;return(0,l.Z)(function*(){return uc(Ds(),y._delegate,"operation-not-supported-in-this-environment"),Tr(y._delegate,function gn(_,f,p){return bn.apply(this,arguments)}(y._delegate,p,Di))})()}signInWithRedirect(p){var y=this;return(0,l.Z)(function*(){return uc(Ds(),y._delegate,"operation-not-supported-in-this-environment"),yield tf(y._delegate),cd(y._delegate,p,Di)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function _r(_,f){return qr.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Er,_})();function Ka(_,f,p){let y=_;"function"!=typeof _&&({next:y,error:f,complete:p}=_);const I=y;return{next:H=>I(H&&eo.getOrCreate(H)),error:f,complete:p}}function Ei(_,f){const p=function Rp(_,f){const p=Xs();if(!p)return[];const y=V(Cr,_,f);switch(p.getItem(y)){case Er.NONE:return[Wi];case Er.LOCAL:return[us,mo];case Er.SESSION:return[mo];default:return[]}}(_,f);if(typeof self<"u"&&!p.includes(us)&&p.push(us),typeof window<"u")for(const y of[as,mo])p.includes(y)||p.push(y);return p.includes(Wi)||p.push(Wi),p}class Ja{constructor(){this.providerId="phone",this._delegate=new jn(cc(J.Z.auth()))}static credential(f,p){return jn.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}Ja.PHONE_SIGN_IN_METHOD=jn.PHONE_SIGN_IN_METHOD,Ja.PROVIDER_ID=jn.PROVIDER_ID;const ir=se;class Mp{constructor(f,p,y=J.Z.app()){var I;ir(null===(I=y.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new tu(f,p,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Op(_){_.INTERNAL.registerComponent(new ve.wA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),y=f.getProvider("auth");return new Do(p,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Z_EMAIL_SIGNIN,PASSWORD_RESET:Z_PASSWORD_RESET,RECOVER_EMAIL:Z_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Z_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Z_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Z_VERIFY_EMAIL}},EmailAuthProvider:$u,FacebookAuthProvider:Vc,GithubAuthProvider:Wu,GoogleAuthProvider:ya,OAuthProvider:Jo,SAMLAuthProvider:Tl,PhoneAuthProvider:Ja,PhoneMultiFactorGenerator:rc,RecaptchaVerifier:Mp,TwitterAuthProvider:Il,Auth:Do,AuthCredential:ao,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.4.2")}(J.Z)},5861:(ht,Te,k)=>{function l(P,le,re,oe,ve,we,ge){try{var $=P[we](ge),G=$.value}catch(Z){return void re(Z)}$.done?le(G):Promise.resolve(G).then(oe,ve)}function J(P){return function(){var le=this,re=arguments;return new Promise(function(oe,ve){var we=P.apply(le,re);function ge(G){l(we,oe,ve,ge,$,"next",G)}function $(G){l(we,oe,ve,ge,$,"throw",G)}ge(void 0)})}}k.d(Te,{Z:()=>J})},7582:(ht,Te,k)=>{function le(de,_e){var Ce={};for(var Se in de)Object.prototype.hasOwnProperty.call(de,Se)&&_e.indexOf(Se)<0&&(Ce[Se]=de[Se]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(Se=Object.getOwnPropertySymbols(de);Ze<Se.length;Ze++)_e.indexOf(Se[Ze])<0&&Object.prototype.propertyIsEnumerable.call(de,Se[Ze])&&(Ce[Se[Ze]]=de[Se[Ze]])}return Ce}function Z(de,_e,Ce,Se){return new(Ce||(Ce=Promise))(function(Fe,Je){function ut(gt){try{ft(Se.next(gt))}catch(rn){Je(rn)}}function Nt(gt){try{ft(Se.throw(gt))}catch(rn){Je(rn)}}function ft(gt){gt.done?Fe(gt.value):function Ze(Fe){return Fe instanceof Ce?Fe:new Ce(function(Je){Je(Fe)})}(gt.value).then(ut,Nt)}ft((Se=Se.apply(de,_e||[])).next())})}function Oe(de){return this instanceof Oe?(this.v=de,this):new Oe(de)}function me(de,_e,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,Se=Ce.apply(de,_e||[]),Fe=[];return Ze={},Je("next"),Je("throw"),Je("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze;function Je(Yt){Se[Yt]&&(Ze[Yt]=function(vn){return new Promise(function(fi,pi){Fe.push([Yt,vn,fi,pi])>1||ut(Yt,vn)})})}function ut(Yt,vn){try{!function Nt(Yt){Yt.value instanceof Oe?Promise.resolve(Yt.value.v).then(ft,gt):rn(Fe[0][2],Yt)}(Se[Yt](vn))}catch(fi){rn(Fe[0][3],fi)}}function ft(Yt){ut("next",Yt)}function gt(Yt){ut("throw",Yt)}function rn(Yt,vn){Yt(vn),Fe.shift(),Fe.length&&ut(Fe[0][0],Fe[0][1])}}function We(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,_e=de[Symbol.asyncIterator];return _e?_e.call(de):(de=function at(de){var _e="function"==typeof Symbol&&Symbol.iterator,Ce=_e&&de[_e],Se=0;if(Ce)return Ce.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&Se>=de.length&&(de=void 0),{value:de&&de[Se++],done:!de}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),Ce={},Se("next"),Se("throw"),Se("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function Se(Fe){Ce[Fe]=de[Fe]&&function(Je){return new Promise(function(ut,Nt){!function Ze(Fe,Je,ut,Nt){Promise.resolve(Nt).then(function(ft){Fe({value:ft,done:ut})},Je)}(ut,Nt,(Je=de[Fe](Je)).done,Je.value)})}}}k.d(Te,{FC:()=>me,KL:()=>We,_T:()=>le,mG:()=>Z,qq:()=>Oe})}},ht=>{var Te=l=>ht(ht.s=l);Te(1321),Te(3398)}]);